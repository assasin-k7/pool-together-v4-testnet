{
  "address": "0x7f9D557626D32d88F80852D7A05454f91FAD2D5f",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "contract ClaimableDraw",
          "name": "claimableDraw",
          "type": "address"
        }
      ],
      "name": "ClaimableDrawSet",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint32",
          "name": "drawId",
          "type": "uint32"
        },
        {
          "components": [
            {
              "internalType": "uint8",
              "name": "bitRangeSize",
              "type": "uint8"
            },
            {
              "internalType": "uint16",
              "name": "matchCardinality",
              "type": "uint16"
            },
            {
              "internalType": "uint224",
              "name": "pickCost",
              "type": "uint224"
            },
            {
              "internalType": "uint128[]",
              "name": "distributions",
              "type": "uint128[]"
            },
            {
              "internalType": "uint256",
              "name": "prize",
              "type": "uint256"
            }
          ],
          "indexed": false,
          "internalType": "struct DrawLib.DrawSettings",
          "name": "drawSettings",
          "type": "tuple"
        }
      ],
      "name": "DrawSettingsSet",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "contract ITicket",
          "name": "ticket",
          "type": "address"
        }
      ],
      "name": "Initialized",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "newManager",
          "type": "address"
        }
      ],
      "name": "ManagerTransferred",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_user",
          "type": "address"
        },
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "winningRandomNumber",
              "type": "uint256"
            },
            {
              "internalType": "uint32",
              "name": "timestamp",
              "type": "uint32"
            },
            {
              "internalType": "uint32",
              "name": "drawId",
              "type": "uint32"
            }
          ],
          "internalType": "struct DrawLib.Draw[]",
          "name": "_draws",
          "type": "tuple[]"
        },
        {
          "internalType": "bytes",
          "name": "_pickIndicesForDraws",
          "type": "bytes"
        }
      ],
      "name": "calculate",
      "outputs": [
        {
          "internalType": "uint96[]",
          "name": "",
          "type": "uint96[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "claimableDraw",
      "outputs": [
        {
          "internalType": "contract ClaimableDraw",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint32",
          "name": "_drawId",
          "type": "uint32"
        }
      ],
      "name": "getDrawSettings",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint8",
              "name": "bitRangeSize",
              "type": "uint8"
            },
            {
              "internalType": "uint16",
              "name": "matchCardinality",
              "type": "uint16"
            },
            {
              "internalType": "uint224",
              "name": "pickCost",
              "type": "uint224"
            },
            {
              "internalType": "uint128[]",
              "name": "distributions",
              "type": "uint128[]"
            },
            {
              "internalType": "uint256",
              "name": "prize",
              "type": "uint256"
            }
          ],
          "internalType": "struct DrawLib.DrawSettings",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "contract ITicket",
          "name": "_ticket",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_drawSettingsManager",
          "type": "address"
        },
        {
          "internalType": "contract ClaimableDraw",
          "name": "_claimableDraw",
          "type": "address"
        }
      ],
      "name": "initialize",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "manager",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "contract ClaimableDraw",
          "name": "_claimableDraw",
          "type": "address"
        }
      ],
      "name": "setClaimableDraw",
      "outputs": [
        {
          "internalType": "contract ClaimableDraw",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint32",
          "name": "_drawId",
          "type": "uint32"
        },
        {
          "components": [
            {
              "internalType": "uint8",
              "name": "bitRangeSize",
              "type": "uint8"
            },
            {
              "internalType": "uint16",
              "name": "matchCardinality",
              "type": "uint16"
            },
            {
              "internalType": "uint224",
              "name": "pickCost",
              "type": "uint224"
            },
            {
              "internalType": "uint128[]",
              "name": "distributions",
              "type": "uint128[]"
            },
            {
              "internalType": "uint256",
              "name": "prize",
              "type": "uint256"
            }
          ],
          "internalType": "struct DrawLib.DrawSettings",
          "name": "_drawSettings",
          "type": "tuple"
        }
      ],
      "name": "setDrawSettings",
      "outputs": [
        {
          "internalType": "bool",
          "name": "success",
          "type": "bool"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_newManager",
          "type": "address"
        }
      ],
      "name": "setManager",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "transactionHash": "0x5ea6fc87f63eecb4c49c2c63dec078192beace64a3366eaac5ca628c7d778b83",
  "receipt": {
    "to": null,
    "from": "0x3F0556bCA55Bdbb78A9316936067a47fd4C4C4f4",
    "contractAddress": "0x7f9D557626D32d88F80852D7A05454f91FAD2D5f",
    "transactionIndex": 1,
    "gasUsed": "2093278",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0x41b7571c8f03c9ffdbdebe30289f50c4bfae961c7190e1f396c12eda70ad7d60",
    "transactionHash": "0x5ea6fc87f63eecb4c49c2c63dec078192beace64a3366eaac5ca628c7d778b83",
    "logs": [],
    "blockNumber": 9270464,
    "cumulativeGasUsed": "2424739",
    "status": 1,
    "byzantium": true
  },
  "args": [],
  "solcInputHash": "5bd4dfff3996e6e250da2bdbd3154bc0",
  "metadata": "{\"compiler\":{\"version\":\"0.8.6+commit.11564f7e\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"contract ClaimableDraw\",\"name\":\"claimableDraw\",\"type\":\"address\"}],\"name\":\"ClaimableDrawSet\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint32\",\"name\":\"drawId\",\"type\":\"uint32\"},{\"components\":[{\"internalType\":\"uint8\",\"name\":\"bitRangeSize\",\"type\":\"uint8\"},{\"internalType\":\"uint16\",\"name\":\"matchCardinality\",\"type\":\"uint16\"},{\"internalType\":\"uint224\",\"name\":\"pickCost\",\"type\":\"uint224\"},{\"internalType\":\"uint128[]\",\"name\":\"distributions\",\"type\":\"uint128[]\"},{\"internalType\":\"uint256\",\"name\":\"prize\",\"type\":\"uint256\"}],\"indexed\":false,\"internalType\":\"struct DrawLib.DrawSettings\",\"name\":\"drawSettings\",\"type\":\"tuple\"}],\"name\":\"DrawSettingsSet\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"contract ITicket\",\"name\":\"ticket\",\"type\":\"address\"}],\"name\":\"Initialized\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newManager\",\"type\":\"address\"}],\"name\":\"ManagerTransferred\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"},{\"components\":[{\"internalType\":\"uint256\",\"name\":\"winningRandomNumber\",\"type\":\"uint256\"},{\"internalType\":\"uint32\",\"name\":\"timestamp\",\"type\":\"uint32\"},{\"internalType\":\"uint32\",\"name\":\"drawId\",\"type\":\"uint32\"}],\"internalType\":\"struct DrawLib.Draw[]\",\"name\":\"_draws\",\"type\":\"tuple[]\"},{\"internalType\":\"bytes\",\"name\":\"_pickIndicesForDraws\",\"type\":\"bytes\"}],\"name\":\"calculate\",\"outputs\":[{\"internalType\":\"uint96[]\",\"name\":\"\",\"type\":\"uint96[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"claimableDraw\",\"outputs\":[{\"internalType\":\"contract ClaimableDraw\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint32\",\"name\":\"_drawId\",\"type\":\"uint32\"}],\"name\":\"getDrawSettings\",\"outputs\":[{\"components\":[{\"internalType\":\"uint8\",\"name\":\"bitRangeSize\",\"type\":\"uint8\"},{\"internalType\":\"uint16\",\"name\":\"matchCardinality\",\"type\":\"uint16\"},{\"internalType\":\"uint224\",\"name\":\"pickCost\",\"type\":\"uint224\"},{\"internalType\":\"uint128[]\",\"name\":\"distributions\",\"type\":\"uint128[]\"},{\"internalType\":\"uint256\",\"name\":\"prize\",\"type\":\"uint256\"}],\"internalType\":\"struct DrawLib.DrawSettings\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract ITicket\",\"name\":\"_ticket\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_drawSettingsManager\",\"type\":\"address\"},{\"internalType\":\"contract ClaimableDraw\",\"name\":\"_claimableDraw\",\"type\":\"address\"}],\"name\":\"initialize\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"manager\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract ClaimableDraw\",\"name\":\"_claimableDraw\",\"type\":\"address\"}],\"name\":\"setClaimableDraw\",\"outputs\":[{\"internalType\":\"contract ClaimableDraw\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint32\",\"name\":\"_drawId\",\"type\":\"uint32\"},{\"components\":[{\"internalType\":\"uint8\",\"name\":\"bitRangeSize\",\"type\":\"uint8\"},{\"internalType\":\"uint16\",\"name\":\"matchCardinality\",\"type\":\"uint16\"},{\"internalType\":\"uint224\",\"name\":\"pickCost\",\"type\":\"uint224\"},{\"internalType\":\"uint128[]\",\"name\":\"distributions\",\"type\":\"uint128[]\"},{\"internalType\":\"uint256\",\"name\":\"prize\",\"type\":\"uint256\"}],\"internalType\":\"struct DrawLib.DrawSettings\",\"name\":\"_drawSettings\",\"type\":\"tuple\"}],\"name\":\"setDrawSettings\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"success\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_newManager\",\"type\":\"address\"}],\"name\":\"setManager\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"calculate(address,(uint256,uint32,uint32)[],bytes)\":{\"params\":{\"_draws\":\"draw array for which to calculate prize amounts for\",\"_pickIndicesForDraws\":\"The encoded pick indices for all Draws. Expected to be just indices of winning claims. Populated values must be less than totalUserPicks.\",\"_user\":\"User for which to calcualte prize amount\"},\"returns\":{\"_0\":\"An array of amount of prizes awardable\"}},\"getDrawSettings(uint32)\":{\"params\":{\"_drawId\":\"The id of the Draw\"}},\"initialize(address,address,address)\":{\"params\":{\"_claimableDraw\":\"ClaimableDraw associated with this DrawCalculator\",\"_drawSettingsManager\":\"Address of the DrawSettingsManager. Can be different from the contract owner.\",\"_ticket\":\"Ticket associated with this DrawCalculator\"}},\"manager()\":{\"details\":\"Returns current _manager address.1\",\"returns\":{\"_0\":\"Current _manager address.\"}},\"owner()\":{\"details\":\"Returns the address of the current owner.\"},\"renounceOwnership()\":{\"details\":\"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions anymore. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby removing any functionality that is only available to the owner.\"},\"setClaimableDraw(address)\":{\"params\":{\"_claimableDraw\":\"The address of the ClaimableDraw to update with the updated DrawSettings\"}},\"setDrawSettings(uint32,(uint8,uint16,uint224,uint128[],uint256))\":{\"params\":{\"_drawId\":\"The id of the Draw\",\"_drawSettings\":\"The DrawSettings to set\"}},\"setManager(address)\":{\"details\":\"Throws if called by any account other than the owner.\",\"params\":{\"_newManager\":\"New _manager address.\"},\"returns\":{\"_0\":\"Boolean to indicate if the operation was successful or not.\"}},\"transferOwnership(address)\":{\"details\":\"Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner.\"}},\"title\":\"TsunamiDrawCalculator is an implmentation of an IDrawCalculator\",\"version\":1},\"userdoc\":{\"events\":{\"ClaimableDrawSet(address)\":{\"notice\":\"Emitted when the claimableDraw is set/updated\"},\"DrawSettingsSet(uint32,(uint8,uint16,uint224,uint128[],uint256))\":{\"notice\":\"Emitted when the DrawParams are set/updated\"},\"Initialized(address)\":{\"notice\":\"Emitted when the contract is initialized\"}},\"kind\":\"user\",\"methods\":{\"calculate(address,(uint256,uint32,uint32)[],bytes)\":{\"notice\":\"Calulates the prize amount for a user for Multiple Draws. Typically called by a ClaimableDraw.\"},\"claimableDraw()\":{\"notice\":\"ClaimableDraw associated with DrawCalculator\"},\"getDrawSettings(uint32)\":{\"notice\":\"Gets the DrawSettings for a draw id\"},\"initialize(address,address,address)\":{\"notice\":\"Initializer sets the initial parameters\"},\"manager()\":{\"notice\":\"Gets current _manager.\"},\"setClaimableDraw(address)\":{\"notice\":\"Sets DrawSettings for a draw id. only callable by the owner or manager\"},\"setDrawSettings(uint32,(uint8,uint16,uint224,uint128[],uint256))\":{\"notice\":\"Sets DrawSettings for a draw id. only callable by the owner or manager\"},\"setManager(address)\":{\"notice\":\"Set or change of manager.\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"@pooltogether/v4/contracts/TsunamiDrawCalculator.sol\":\"TsunamiDrawCalculator\"},\"evmVersion\":\"berlin\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":2000},\"remappings\":[]},\"sources\":{\"@openzeppelin/contracts-upgradeable/access/OwnableUpgradeable.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.0;\\n\\nimport \\\"../utils/ContextUpgradeable.sol\\\";\\nimport \\\"../proxy/utils/Initializable.sol\\\";\\n\\n/**\\n * @dev Contract module which provides a basic access control mechanism, where\\n * there is an account (an owner) that can be granted exclusive access to\\n * specific functions.\\n *\\n * By default, the owner account will be the one that deploys the contract. This\\n * can later be changed with {transferOwnership}.\\n *\\n * This module is used through inheritance. It will make available the modifier\\n * `onlyOwner`, which can be applied to your functions to restrict their use to\\n * the owner.\\n */\\nabstract contract OwnableUpgradeable is Initializable, ContextUpgradeable {\\n    address private _owner;\\n\\n    event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);\\n\\n    /**\\n     * @dev Initializes the contract setting the deployer as the initial owner.\\n     */\\n    function __Ownable_init() internal initializer {\\n        __Context_init_unchained();\\n        __Ownable_init_unchained();\\n    }\\n\\n    function __Ownable_init_unchained() internal initializer {\\n        _setOwner(_msgSender());\\n    }\\n\\n    /**\\n     * @dev Returns the address of the current owner.\\n     */\\n    function owner() public view virtual returns (address) {\\n        return _owner;\\n    }\\n\\n    /**\\n     * @dev Throws if called by any account other than the owner.\\n     */\\n    modifier onlyOwner() {\\n        require(owner() == _msgSender(), \\\"Ownable: caller is not the owner\\\");\\n        _;\\n    }\\n\\n    /**\\n     * @dev Leaves the contract without owner. It will not be possible to call\\n     * `onlyOwner` functions anymore. Can only be called by the current owner.\\n     *\\n     * NOTE: Renouncing ownership will leave the contract without an owner,\\n     * thereby removing any functionality that is only available to the owner.\\n     */\\n    function renounceOwnership() public virtual onlyOwner {\\n        _setOwner(address(0));\\n    }\\n\\n    /**\\n     * @dev Transfers ownership of the contract to a new account (`newOwner`).\\n     * Can only be called by the current owner.\\n     */\\n    function transferOwnership(address newOwner) public virtual onlyOwner {\\n        require(newOwner != address(0), \\\"Ownable: new owner is the zero address\\\");\\n        _setOwner(newOwner);\\n    }\\n\\n    function _setOwner(address newOwner) private {\\n        address oldOwner = _owner;\\n        _owner = newOwner;\\n        emit OwnershipTransferred(oldOwner, newOwner);\\n    }\\n    uint256[49] private __gap;\\n}\\n\",\"keccak256\":\"0x35b09b69aca3bc2633da8f47382a81ecf367efe57167a2114f60f9ec81988afa\",\"license\":\"MIT\"},\"@openzeppelin/contracts-upgradeable/proxy/utils/Initializable.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev This is a base contract to aid in writing upgradeable contracts, or any kind of contract that will be deployed\\n * behind a proxy. Since a proxied contract can't have a constructor, it's common to move constructor logic to an\\n * external initializer function, usually called `initialize`. It then becomes necessary to protect this initializer\\n * function so it can only be called once. The {initializer} modifier provided by this contract will have this effect.\\n *\\n * TIP: To avoid leaving the proxy in an uninitialized state, the initializer function should be called as early as\\n * possible by providing the encoded function call as the `_data` argument to {ERC1967Proxy-constructor}.\\n *\\n * CAUTION: When used with inheritance, manual care must be taken to not invoke a parent initializer twice, or to ensure\\n * that all initializers are idempotent. This is not verified automatically as constructors are by Solidity.\\n */\\nabstract contract Initializable {\\n    /**\\n     * @dev Indicates that the contract has been initialized.\\n     */\\n    bool private _initialized;\\n\\n    /**\\n     * @dev Indicates that the contract is in the process of being initialized.\\n     */\\n    bool private _initializing;\\n\\n    /**\\n     * @dev Modifier to protect an initializer function from being invoked twice.\\n     */\\n    modifier initializer() {\\n        require(_initializing || !_initialized, \\\"Initializable: contract is already initialized\\\");\\n\\n        bool isTopLevelCall = !_initializing;\\n        if (isTopLevelCall) {\\n            _initializing = true;\\n            _initialized = true;\\n        }\\n\\n        _;\\n\\n        if (isTopLevelCall) {\\n            _initializing = false;\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0x8b2abd85d0ece7e866e100e9d47ca9cbec93c87cf71a8d267b2b93eb81f7d5e9\",\"license\":\"MIT\"},\"@openzeppelin/contracts-upgradeable/token/ERC20/IERC20Upgradeable.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Interface of the ERC20 standard as defined in the EIP.\\n */\\ninterface IERC20Upgradeable {\\n    /**\\n     * @dev Returns the amount of tokens in existence.\\n     */\\n    function totalSupply() external view returns (uint256);\\n\\n    /**\\n     * @dev Returns the amount of tokens owned by `account`.\\n     */\\n    function balanceOf(address account) external view returns (uint256);\\n\\n    /**\\n     * @dev Moves `amount` tokens from the caller's account to `recipient`.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * Emits a {Transfer} event.\\n     */\\n    function transfer(address recipient, uint256 amount) external returns (bool);\\n\\n    /**\\n     * @dev Returns the remaining number of tokens that `spender` will be\\n     * allowed to spend on behalf of `owner` through {transferFrom}. This is\\n     * zero by default.\\n     *\\n     * This value changes when {approve} or {transferFrom} are called.\\n     */\\n    function allowance(address owner, address spender) external view returns (uint256);\\n\\n    /**\\n     * @dev Sets `amount` as the allowance of `spender` over the caller's tokens.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * IMPORTANT: Beware that changing an allowance with this method brings the risk\\n     * that someone may use both the old and the new allowance by unfortunate\\n     * transaction ordering. One possible solution to mitigate this race\\n     * condition is to first reduce the spender's allowance to 0 and set the\\n     * desired value afterwards:\\n     * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729\\n     *\\n     * Emits an {Approval} event.\\n     */\\n    function approve(address spender, uint256 amount) external returns (bool);\\n\\n    /**\\n     * @dev Moves `amount` tokens from `sender` to `recipient` using the\\n     * allowance mechanism. `amount` is then deducted from the caller's\\n     * allowance.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * Emits a {Transfer} event.\\n     */\\n    function transferFrom(\\n        address sender,\\n        address recipient,\\n        uint256 amount\\n    ) external returns (bool);\\n\\n    /**\\n     * @dev Emitted when `value` tokens are moved from one account (`from`) to\\n     * another (`to`).\\n     *\\n     * Note that `value` may be zero.\\n     */\\n    event Transfer(address indexed from, address indexed to, uint256 value);\\n\\n    /**\\n     * @dev Emitted when the allowance of a `spender` for an `owner` is set by\\n     * a call to {approve}. `value` is the new allowance.\\n     */\\n    event Approval(address indexed owner, address indexed spender, uint256 value);\\n}\\n\",\"keccak256\":\"0xf449ca0a763d4b1b4462cf8706857074492f324020a2b9d099181b5383055ad3\",\"license\":\"MIT\"},\"@openzeppelin/contracts-upgradeable/token/ERC20/utils/SafeERC20Upgradeable.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.0;\\n\\nimport \\\"../IERC20Upgradeable.sol\\\";\\nimport \\\"../../../utils/AddressUpgradeable.sol\\\";\\n\\n/**\\n * @title SafeERC20\\n * @dev Wrappers around ERC20 operations that throw on failure (when the token\\n * contract returns false). Tokens that return no value (and instead revert or\\n * throw on failure) are also supported, non-reverting calls are assumed to be\\n * successful.\\n * To use this library you can add a `using SafeERC20 for IERC20;` statement to your contract,\\n * which allows you to call the safe operations as `token.safeTransfer(...)`, etc.\\n */\\nlibrary SafeERC20Upgradeable {\\n    using AddressUpgradeable for address;\\n\\n    function safeTransfer(\\n        IERC20Upgradeable token,\\n        address to,\\n        uint256 value\\n    ) internal {\\n        _callOptionalReturn(token, abi.encodeWithSelector(token.transfer.selector, to, value));\\n    }\\n\\n    function safeTransferFrom(\\n        IERC20Upgradeable token,\\n        address from,\\n        address to,\\n        uint256 value\\n    ) internal {\\n        _callOptionalReturn(token, abi.encodeWithSelector(token.transferFrom.selector, from, to, value));\\n    }\\n\\n    /**\\n     * @dev Deprecated. This function has issues similar to the ones found in\\n     * {IERC20-approve}, and its usage is discouraged.\\n     *\\n     * Whenever possible, use {safeIncreaseAllowance} and\\n     * {safeDecreaseAllowance} instead.\\n     */\\n    function safeApprove(\\n        IERC20Upgradeable token,\\n        address spender,\\n        uint256 value\\n    ) internal {\\n        // safeApprove should only be called when setting an initial allowance,\\n        // or when resetting it to zero. To increase and decrease it, use\\n        // 'safeIncreaseAllowance' and 'safeDecreaseAllowance'\\n        require(\\n            (value == 0) || (token.allowance(address(this), spender) == 0),\\n            \\\"SafeERC20: approve from non-zero to non-zero allowance\\\"\\n        );\\n        _callOptionalReturn(token, abi.encodeWithSelector(token.approve.selector, spender, value));\\n    }\\n\\n    function safeIncreaseAllowance(\\n        IERC20Upgradeable token,\\n        address spender,\\n        uint256 value\\n    ) internal {\\n        uint256 newAllowance = token.allowance(address(this), spender) + value;\\n        _callOptionalReturn(token, abi.encodeWithSelector(token.approve.selector, spender, newAllowance));\\n    }\\n\\n    function safeDecreaseAllowance(\\n        IERC20Upgradeable token,\\n        address spender,\\n        uint256 value\\n    ) internal {\\n        unchecked {\\n            uint256 oldAllowance = token.allowance(address(this), spender);\\n            require(oldAllowance >= value, \\\"SafeERC20: decreased allowance below zero\\\");\\n            uint256 newAllowance = oldAllowance - value;\\n            _callOptionalReturn(token, abi.encodeWithSelector(token.approve.selector, spender, newAllowance));\\n        }\\n    }\\n\\n    /**\\n     * @dev Imitates a Solidity high-level call (i.e. a regular function call to a contract), relaxing the requirement\\n     * on the return value: the return value is optional (but if data is returned, it must not be false).\\n     * @param token The token targeted by the call.\\n     * @param data The call data (encoded using abi.encode or one of its variants).\\n     */\\n    function _callOptionalReturn(IERC20Upgradeable token, bytes memory data) private {\\n        // We need to perform a low level call here, to bypass Solidity's return data size checking mechanism, since\\n        // we're implementing it ourselves. We use {Address.functionCall} to perform this call, which verifies that\\n        // the target address contains contract code and also asserts for success in the low-level call.\\n\\n        bytes memory returndata = address(token).functionCall(data, \\\"SafeERC20: low-level call failed\\\");\\n        if (returndata.length > 0) {\\n            // Return data is optional\\n            require(abi.decode(returndata, (bool)), \\\"SafeERC20: ERC20 operation did not succeed\\\");\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0xc7d7fe7d5ed5068742927e37b400591153dbe8526cd942cfcf5dbb971ba5e8e2\",\"license\":\"MIT\"},\"@openzeppelin/contracts-upgradeable/utils/AddressUpgradeable.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Collection of functions related to the address type\\n */\\nlibrary AddressUpgradeable {\\n    /**\\n     * @dev Returns true if `account` is a contract.\\n     *\\n     * [IMPORTANT]\\n     * ====\\n     * It is unsafe to assume that an address for which this function returns\\n     * false is an externally-owned account (EOA) and not a contract.\\n     *\\n     * Among others, `isContract` will return false for the following\\n     * types of addresses:\\n     *\\n     *  - an externally-owned account\\n     *  - a contract in construction\\n     *  - an address where a contract will be created\\n     *  - an address where a contract lived, but was destroyed\\n     * ====\\n     */\\n    function isContract(address account) internal view returns (bool) {\\n        // This method relies on extcodesize, which returns 0 for contracts in\\n        // construction, since the code is only stored at the end of the\\n        // constructor execution.\\n\\n        uint256 size;\\n        assembly {\\n            size := extcodesize(account)\\n        }\\n        return size > 0;\\n    }\\n\\n    /**\\n     * @dev Replacement for Solidity's `transfer`: sends `amount` wei to\\n     * `recipient`, forwarding all available gas and reverting on errors.\\n     *\\n     * https://eips.ethereum.org/EIPS/eip-1884[EIP1884] increases the gas cost\\n     * of certain opcodes, possibly making contracts go over the 2300 gas limit\\n     * imposed by `transfer`, making them unable to receive funds via\\n     * `transfer`. {sendValue} removes this limitation.\\n     *\\n     * https://diligence.consensys.net/posts/2019/09/stop-using-soliditys-transfer-now/[Learn more].\\n     *\\n     * IMPORTANT: because control is transferred to `recipient`, care must be\\n     * taken to not create reentrancy vulnerabilities. Consider using\\n     * {ReentrancyGuard} or the\\n     * https://solidity.readthedocs.io/en/v0.5.11/security-considerations.html#use-the-checks-effects-interactions-pattern[checks-effects-interactions pattern].\\n     */\\n    function sendValue(address payable recipient, uint256 amount) internal {\\n        require(address(this).balance >= amount, \\\"Address: insufficient balance\\\");\\n\\n        (bool success, ) = recipient.call{value: amount}(\\\"\\\");\\n        require(success, \\\"Address: unable to send value, recipient may have reverted\\\");\\n    }\\n\\n    /**\\n     * @dev Performs a Solidity function call using a low level `call`. A\\n     * plain `call` is an unsafe replacement for a function call: use this\\n     * function instead.\\n     *\\n     * If `target` reverts with a revert reason, it is bubbled up by this\\n     * function (like regular Solidity function calls).\\n     *\\n     * Returns the raw returned data. To convert to the expected return value,\\n     * use https://solidity.readthedocs.io/en/latest/units-and-global-variables.html?highlight=abi.decode#abi-encoding-and-decoding-functions[`abi.decode`].\\n     *\\n     * Requirements:\\n     *\\n     * - `target` must be a contract.\\n     * - calling `target` with `data` must not revert.\\n     *\\n     * _Available since v3.1._\\n     */\\n    function functionCall(address target, bytes memory data) internal returns (bytes memory) {\\n        return functionCall(target, data, \\\"Address: low-level call failed\\\");\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`], but with\\n     * `errorMessage` as a fallback revert reason when `target` reverts.\\n     *\\n     * _Available since v3.1._\\n     */\\n    function functionCall(\\n        address target,\\n        bytes memory data,\\n        string memory errorMessage\\n    ) internal returns (bytes memory) {\\n        return functionCallWithValue(target, data, 0, errorMessage);\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],\\n     * but also transferring `value` wei to `target`.\\n     *\\n     * Requirements:\\n     *\\n     * - the calling contract must have an ETH balance of at least `value`.\\n     * - the called Solidity function must be `payable`.\\n     *\\n     * _Available since v3.1._\\n     */\\n    function functionCallWithValue(\\n        address target,\\n        bytes memory data,\\n        uint256 value\\n    ) internal returns (bytes memory) {\\n        return functionCallWithValue(target, data, value, \\\"Address: low-level call with value failed\\\");\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCallWithValue-address-bytes-uint256-}[`functionCallWithValue`], but\\n     * with `errorMessage` as a fallback revert reason when `target` reverts.\\n     *\\n     * _Available since v3.1._\\n     */\\n    function functionCallWithValue(\\n        address target,\\n        bytes memory data,\\n        uint256 value,\\n        string memory errorMessage\\n    ) internal returns (bytes memory) {\\n        require(address(this).balance >= value, \\\"Address: insufficient balance for call\\\");\\n        require(isContract(target), \\\"Address: call to non-contract\\\");\\n\\n        (bool success, bytes memory returndata) = target.call{value: value}(data);\\n        return _verifyCallResult(success, returndata, errorMessage);\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],\\n     * but performing a static call.\\n     *\\n     * _Available since v3.3._\\n     */\\n    function functionStaticCall(address target, bytes memory data) internal view returns (bytes memory) {\\n        return functionStaticCall(target, data, \\\"Address: low-level static call failed\\\");\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCall-address-bytes-string-}[`functionCall`],\\n     * but performing a static call.\\n     *\\n     * _Available since v3.3._\\n     */\\n    function functionStaticCall(\\n        address target,\\n        bytes memory data,\\n        string memory errorMessage\\n    ) internal view returns (bytes memory) {\\n        require(isContract(target), \\\"Address: static call to non-contract\\\");\\n\\n        (bool success, bytes memory returndata) = target.staticcall(data);\\n        return _verifyCallResult(success, returndata, errorMessage);\\n    }\\n\\n    function _verifyCallResult(\\n        bool success,\\n        bytes memory returndata,\\n        string memory errorMessage\\n    ) private pure returns (bytes memory) {\\n        if (success) {\\n            return returndata;\\n        } else {\\n            // Look for revert reason and bubble it up if present\\n            if (returndata.length > 0) {\\n                // The easiest way to bubble the revert reason is using memory via assembly\\n\\n                assembly {\\n                    let returndata_size := mload(returndata)\\n                    revert(add(32, returndata), returndata_size)\\n                }\\n            } else {\\n                revert(errorMessage);\\n            }\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0x37c56d5e4a1c4c65ad0dcc6af28442c5d35c6ca07d9ad6e966e07dceb97e6c8d\",\"license\":\"MIT\"},\"@openzeppelin/contracts-upgradeable/utils/ContextUpgradeable.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.0;\\nimport \\\"../proxy/utils/Initializable.sol\\\";\\n\\n/*\\n * @dev Provides information about the current execution context, including the\\n * sender of the transaction and its data. While these are generally available\\n * via msg.sender and msg.data, they should not be accessed in such a direct\\n * manner, since when dealing with meta-transactions the account sending and\\n * paying for execution may not be the actual sender (as far as an application\\n * is concerned).\\n *\\n * This contract is only required for intermediate, library-like contracts.\\n */\\nabstract contract ContextUpgradeable is Initializable {\\n    function __Context_init() internal initializer {\\n        __Context_init_unchained();\\n    }\\n\\n    function __Context_init_unchained() internal initializer {\\n    }\\n    function _msgSender() internal view virtual returns (address) {\\n        return msg.sender;\\n    }\\n\\n    function _msgData() internal view virtual returns (bytes calldata) {\\n        return msg.data;\\n    }\\n    uint256[50] private __gap;\\n}\\n\",\"keccak256\":\"0x828a6fb02c79a63dc5867427f355c0a9c65b4359fecadae73883154da550f6f8\",\"license\":\"MIT\"},\"@openzeppelin/contracts-upgradeable/utils/math/SafeCastUpgradeable.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Wrappers over Solidity's uintXX/intXX casting operators with added overflow\\n * checks.\\n *\\n * Downcasting from uint256/int256 in Solidity does not revert on overflow. This can\\n * easily result in undesired exploitation or bugs, since developers usually\\n * assume that overflows raise errors. `SafeCast` restores this intuition by\\n * reverting the transaction when such an operation overflows.\\n *\\n * Using this library instead of the unchecked operations eliminates an entire\\n * class of bugs, so it's recommended to use it always.\\n *\\n * Can be combined with {SafeMath} and {SignedSafeMath} to extend it to smaller types, by performing\\n * all math on `uint256` and `int256` and then downcasting.\\n */\\nlibrary SafeCastUpgradeable {\\n    /**\\n     * @dev Returns the downcasted uint224 from uint256, reverting on\\n     * overflow (when the input is greater than largest uint224).\\n     *\\n     * Counterpart to Solidity's `uint224` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - input must fit into 224 bits\\n     */\\n    function toUint224(uint256 value) internal pure returns (uint224) {\\n        require(value <= type(uint224).max, \\\"SafeCast: value doesn't fit in 224 bits\\\");\\n        return uint224(value);\\n    }\\n\\n    /**\\n     * @dev Returns the downcasted uint128 from uint256, reverting on\\n     * overflow (when the input is greater than largest uint128).\\n     *\\n     * Counterpart to Solidity's `uint128` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - input must fit into 128 bits\\n     */\\n    function toUint128(uint256 value) internal pure returns (uint128) {\\n        require(value <= type(uint128).max, \\\"SafeCast: value doesn't fit in 128 bits\\\");\\n        return uint128(value);\\n    }\\n\\n    /**\\n     * @dev Returns the downcasted uint96 from uint256, reverting on\\n     * overflow (when the input is greater than largest uint96).\\n     *\\n     * Counterpart to Solidity's `uint96` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - input must fit into 96 bits\\n     */\\n    function toUint96(uint256 value) internal pure returns (uint96) {\\n        require(value <= type(uint96).max, \\\"SafeCast: value doesn't fit in 96 bits\\\");\\n        return uint96(value);\\n    }\\n\\n    /**\\n     * @dev Returns the downcasted uint64 from uint256, reverting on\\n     * overflow (when the input is greater than largest uint64).\\n     *\\n     * Counterpart to Solidity's `uint64` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - input must fit into 64 bits\\n     */\\n    function toUint64(uint256 value) internal pure returns (uint64) {\\n        require(value <= type(uint64).max, \\\"SafeCast: value doesn't fit in 64 bits\\\");\\n        return uint64(value);\\n    }\\n\\n    /**\\n     * @dev Returns the downcasted uint32 from uint256, reverting on\\n     * overflow (when the input is greater than largest uint32).\\n     *\\n     * Counterpart to Solidity's `uint32` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - input must fit into 32 bits\\n     */\\n    function toUint32(uint256 value) internal pure returns (uint32) {\\n        require(value <= type(uint32).max, \\\"SafeCast: value doesn't fit in 32 bits\\\");\\n        return uint32(value);\\n    }\\n\\n    /**\\n     * @dev Returns the downcasted uint16 from uint256, reverting on\\n     * overflow (when the input is greater than largest uint16).\\n     *\\n     * Counterpart to Solidity's `uint16` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - input must fit into 16 bits\\n     */\\n    function toUint16(uint256 value) internal pure returns (uint16) {\\n        require(value <= type(uint16).max, \\\"SafeCast: value doesn't fit in 16 bits\\\");\\n        return uint16(value);\\n    }\\n\\n    /**\\n     * @dev Returns the downcasted uint8 from uint256, reverting on\\n     * overflow (when the input is greater than largest uint8).\\n     *\\n     * Counterpart to Solidity's `uint8` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - input must fit into 8 bits.\\n     */\\n    function toUint8(uint256 value) internal pure returns (uint8) {\\n        require(value <= type(uint8).max, \\\"SafeCast: value doesn't fit in 8 bits\\\");\\n        return uint8(value);\\n    }\\n\\n    /**\\n     * @dev Converts a signed int256 into an unsigned uint256.\\n     *\\n     * Requirements:\\n     *\\n     * - input must be greater than or equal to 0.\\n     */\\n    function toUint256(int256 value) internal pure returns (uint256) {\\n        require(value >= 0, \\\"SafeCast: value must be positive\\\");\\n        return uint256(value);\\n    }\\n\\n    /**\\n     * @dev Returns the downcasted int128 from int256, reverting on\\n     * overflow (when the input is less than smallest int128 or\\n     * greater than largest int128).\\n     *\\n     * Counterpart to Solidity's `int128` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - input must fit into 128 bits\\n     *\\n     * _Available since v3.1._\\n     */\\n    function toInt128(int256 value) internal pure returns (int128) {\\n        require(value >= type(int128).min && value <= type(int128).max, \\\"SafeCast: value doesn't fit in 128 bits\\\");\\n        return int128(value);\\n    }\\n\\n    /**\\n     * @dev Returns the downcasted int64 from int256, reverting on\\n     * overflow (when the input is less than smallest int64 or\\n     * greater than largest int64).\\n     *\\n     * Counterpart to Solidity's `int64` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - input must fit into 64 bits\\n     *\\n     * _Available since v3.1._\\n     */\\n    function toInt64(int256 value) internal pure returns (int64) {\\n        require(value >= type(int64).min && value <= type(int64).max, \\\"SafeCast: value doesn't fit in 64 bits\\\");\\n        return int64(value);\\n    }\\n\\n    /**\\n     * @dev Returns the downcasted int32 from int256, reverting on\\n     * overflow (when the input is less than smallest int32 or\\n     * greater than largest int32).\\n     *\\n     * Counterpart to Solidity's `int32` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - input must fit into 32 bits\\n     *\\n     * _Available since v3.1._\\n     */\\n    function toInt32(int256 value) internal pure returns (int32) {\\n        require(value >= type(int32).min && value <= type(int32).max, \\\"SafeCast: value doesn't fit in 32 bits\\\");\\n        return int32(value);\\n    }\\n\\n    /**\\n     * @dev Returns the downcasted int16 from int256, reverting on\\n     * overflow (when the input is less than smallest int16 or\\n     * greater than largest int16).\\n     *\\n     * Counterpart to Solidity's `int16` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - input must fit into 16 bits\\n     *\\n     * _Available since v3.1._\\n     */\\n    function toInt16(int256 value) internal pure returns (int16) {\\n        require(value >= type(int16).min && value <= type(int16).max, \\\"SafeCast: value doesn't fit in 16 bits\\\");\\n        return int16(value);\\n    }\\n\\n    /**\\n     * @dev Returns the downcasted int8 from int256, reverting on\\n     * overflow (when the input is less than smallest int8 or\\n     * greater than largest int8).\\n     *\\n     * Counterpart to Solidity's `int8` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - input must fit into 8 bits.\\n     *\\n     * _Available since v3.1._\\n     */\\n    function toInt8(int256 value) internal pure returns (int8) {\\n        require(value >= type(int8).min && value <= type(int8).max, \\\"SafeCast: value doesn't fit in 8 bits\\\");\\n        return int8(value);\\n    }\\n\\n    /**\\n     * @dev Converts an unsigned uint256 into a signed int256.\\n     *\\n     * Requirements:\\n     *\\n     * - input must be less than or equal to maxInt256.\\n     */\\n    function toInt256(uint256 value) internal pure returns (int256) {\\n        // Note: Unsafe cast below is okay because `type(int256).max` is guaranteed to be positive\\n        require(value <= uint256(type(int256).max), \\\"SafeCast: value doesn't fit in an int256\\\");\\n        return int256(value);\\n    }\\n}\\n\",\"keccak256\":\"0xb92541cd02568981bc3dac94060d542ab3231d8f30ade82aeba0588761c1b649\",\"license\":\"MIT\"},\"@pooltogether/owner-manager-contracts/contracts/OwnerOrManager.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0\\npragma solidity >= 0.6.0 <= 0.8.6;\\n\\nimport \\\"@openzeppelin/contracts-upgradeable/access/OwnableUpgradeable.sol\\\";\\nimport \\\"@openzeppelin/contracts-upgradeable/utils/ContextUpgradeable.sol\\\";\\n\\n/**\\n*  @title Abstract ownable contract with additional manager role\\n * @notice Contract module based on Ownable which provides a basic access control mechanism, where\\n * there is an account (a draw manager for example) that can be granted exclusive access to\\n * specific functions.\\n *\\n * The manager account needs to be set using {setManager}.\\n *\\n * This module is used through inheritance. It will make available the modifier\\n * `onlyManager`, which can be applied to your functions to restrict their use to\\n * the manager.\\n */\\nabstract contract OwnerOrManager is ContextUpgradeable, OwnableUpgradeable {\\n\\n    address private _manager;\\n\\n    /**\\n     * @dev Emitted when _manager has been changed.\\n     * @param newManager new _manager address.\\n     */\\n    event ManagerTransferred(address indexed newManager);\\n\\n    /**\\n     * @notice Gets current _manager.\\n     * @dev Returns current _manager address.1\\n     * @return Current _manager address.\\n     */\\n    function manager() public view virtual returns (address) {\\n        return _manager;\\n    }\\n\\n    /**\\n     * @dev Throws if called by any account other than the manager.\\n     */\\n    modifier onlyManagerOrOwner() {\\n        require(manager() == _msgSender() || owner() == _msgSender(), \\\"Manager/caller-not-manager-or-owner\\\");\\n        _;\\n    }\\n\\n    /**\\n     * @notice Set or change of manager.\\n     * @dev Throws if called by any account other than the owner.\\n     * @param _newManager New _manager address.\\n     * @return Boolean to indicate if the operation was successful or not.\\n     */\\n    function setManager(address _newManager) public onlyOwner returns (bool) {\\n        _setManager(_newManager);\\n    }\\n\\n    /**\\n     * @notice Set or change of manager.\\n     * @dev Throws if called by any account other than the owner.\\n     * @param _newManager New _manager address.\\n     * @return Boolean to indicate if the operation was successful or not.\\n     */\\n    function _setManager(address _newManager) internal returns (bool) {\\n        address _previousManager = _manager;\\n        require(_newManager != address(0), \\\"Manager/manager-not-zero-address\\\");\\n        require(_newManager != _previousManager, \\\"Manager/existing-manager-address\\\");\\n\\n        _manager = _newManager;\\n\\n        emit ManagerTransferred(_newManager);\\n        return true;\\n    }\\n}\",\"keccak256\":\"0x7a45f2397b3dafa19ae7ab4dd65e65aaadfc10c48e36438ba217b5cf47ed92c7\",\"license\":\"GPL-3.0\"},\"@pooltogether/v4/contracts/ClaimableDraw.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0\\npragma solidity 0.8.6;\\n\\nimport \\\"@pooltogether/owner-manager-contracts/contracts/OwnerOrManager.sol\\\";\\nimport \\\"@openzeppelin/contracts-upgradeable/token/ERC20/IERC20Upgradeable.sol\\\";\\nimport \\\"@openzeppelin/contracts-upgradeable/token/ERC20/utils/SafeERC20Upgradeable.sol\\\";\\nimport \\\"./interfaces/IDrawCalculator.sol\\\";\\nimport \\\"./interfaces/IDrawHistory.sol\\\";\\n\\nimport \\\"./libraries/DrawLib.sol\\\";\\n\\ncontract ClaimableDraw is OwnerOrManager {\\n  using SafeERC20Upgradeable for IERC20Upgradeable;\\n\\n  ///@notice The cardinality of the users payout/claim history\\n  uint16 public constant PAYOUT_CARDINALITY = 8;\\n\\n  ///@notice Mapping of drawId to the drawCalculator\\n  mapping(uint32 => IDrawCalculator) public drawCalculatorAddresses;\\n\\n  // Mapping of user draw payout history\\n  // +---------+-------------------+\\n  // | Address | uint96[]          |\\n  // +---------+-------------------+\\n  // | user    | userPayoutHistory |\\n  // | user    | userPayoutHistory |\\n  // +---------+-------------------+\\n  mapping(address => uint96[PAYOUT_CARDINALITY]) internal userPayoutHistory;\\n\\n  ///@notice DrawHistory address\\n  IDrawHistory public drawHistory;\\n\\n    /* ============ Events ============ */\\n\\n  /**\\n    * @notice Emitted when a user has claimed N of draw prizes.\\n    * @param user             Address of user receiving draw(s) total award payout\\n    * @param totalPayout      Total award payout calculated using total draw ids and pick indices\\n  */\\n  event ClaimedDraw (\\n    address indexed user,\\n    uint256 totalPayout\\n  );\\n\\n  /**\\n    * @notice Emitted when a new draw calculator is set.\\n    * @param calculator Address of the new calculator used to calculate award payout\\n  */\\n  event DrawCalculatorSet (\\n    uint256 drawId,\\n    IDrawCalculator indexed calculator\\n  );\\n\\n  /**\\n    * @notice Emitted when a new draw history address is set.\\n    * @param drawHistory Address of the new draw drawHistory contract\\n  */\\n  event DrawHistorySet (\\n    IDrawHistory indexed drawHistory\\n  );\\n\\n  /**\\n    * @notice Emitted when ERC20 tokens are withdrawn from the claimable draw.\\n    * @param token ERC20 token transferred.\\n    * @param to Address that received funds.\\n    * @param amount Amount of tokens transferred.\\n  */\\n  event ERC20Withdrawn(\\n    IERC20Upgradeable indexed token,\\n    address indexed to,\\n    uint256 amount\\n  );\\n\\n\\n  /* ============ Initialize ============ */\\n\\n  /**\\n    * @notice Initialize claimable draw smart contract.\\n    * @param _drawCalculatorManager  Address of the draw calculator manager\\n    * @param _drawHistory            Address of the draw history contract\\n  */\\n  function initialize (\\n    address _drawCalculatorManager,\\n    IDrawHistory _drawHistory\\n  ) external initializer {\\n    __Ownable_init(); \\n\\n    _setDrawHistory(_drawHistory);\\n    _setManager(_drawCalculatorManager);\\n  }\\n\\n  /* ============ External Functions ============ */\\n\\n  /**\\n    * @notice Allows users to check the claimable status for a target draw. \\n    * @dev    Checks a claimable status for target draw by reading from a user's claim history in claimedDraws.\\n    *\\n    * @param user   Address of user\\n    * @param drawId Draw id\\n  */\\n  function userDrawPayout(address user, uint32 drawId) external view returns (uint96) {\\n    uint96[PAYOUT_CARDINALITY] memory _userPayoutHistory = userPayoutHistory[user];// sload\\n    return _userPayoutHistory[_drawIdToClaimIndex(drawId)];\\n  }\\n\\n  /**\\n    * @notice Reads a user draw claim history.\\n    * @dev    Reads a user draw claim history, which is stored in a packed bytes32 \\\"word\\\"\\n    * @param user Address of user\\n  */\\n  function userDrawPayouts(address user) external view returns(uint96[PAYOUT_CARDINALITY] memory) {\\n    return userPayoutHistory[user];\\n  }\\n\\n  /**\\n    * @notice External function to set a new draw calculator.\\n    * @dev    External function to sets a new draw calculator, which is then sequentially stored in new draw structs. Enabling unique prize calculators for individual draws.\\n    * @param _drawId    Draw id\\n    * @param _newCalculator  New draw calculator address\\n    * @return New calculator address\\n  */\\n  function setDrawCalculator(uint32 _drawId, IDrawCalculator _newCalculator) external onlyManagerOrOwner returns(IDrawCalculator) {\\n    return _setDrawCalculator(_drawId, _newCalculator);\\n  }\\n  \\n  /**\\n    @notice External function to set a new draw calculator. Only callable by manager or owner.\\n    @param _drawHistory Address of the draw history contract\\n  */\\n  function setDrawHistory(IDrawHistory _drawHistory) external onlyManagerOrOwner returns (IDrawHistory) {\\n    return _setDrawHistory(_drawHistory);\\n  }\\n\\n  /**\\n    * @notice External function to claim a user's award by passing in the calculated drawIds, drawCalculators and pickIndices. \\n    *\\n    * @param _user             Address of user to claim awards for. Does NOT need to be msg.sender\\n    * @param _drawIds          Index of the draw in the draws array\\n    * @param _drawCalculators  Address of the draw calculator for a set of draw ids\\n    * @param _data             The draw pick indices (uint256[][]) passed as a formatted bytes correlating to the draw ids\\n    * @return Total claim payout\\n  */\\n  function claim(address _user, uint32[][] calldata _drawIds, IDrawCalculator[] calldata _drawCalculators, bytes[] calldata _data) external returns (uint256) {\\n    return _claim(_user, _drawIds, _drawCalculators, _data);\\n  }\\n\\n  /**\\n    * @notice Transfer ERC20 tokens out of this contract.\\n    * @dev This function is only callable by the owner asset manager.\\n    * @param _erc20Token ERC20 token to transfer.\\n    * @param _to Recipient of the tokens.\\n    * @param _amount Amount of tokens to transfer.\\n    * @return true if operation is successful.\\n  */\\n  function withdrawERC20(IERC20Upgradeable _erc20Token, address _to, uint256 _amount) external onlyManagerOrOwner returns (bool) {\\n    require(address(_to) != address(0), \\\"ClaimableDraw/ERC20-not-zero-address\\\");\\n    require(address(_erc20Token) != address(0), \\\"ClaimableDraw/ERC20-not-zero-address\\\");\\n    _erc20Token.safeTransfer(_to, _amount);\\n    emit ERC20Withdrawn(_erc20Token, _to, _amount);\\n    return true;\\n  }\\n\\n  /* ============ Internal Functions ============ */\\n\\n  /**\\n    * @notice Calculates the claim index using the draw id.\\n    * @dev Calculates the claim index, while accounting for a draws expiration status. \\n    * @param _drawId         Draw id used for calculation\\n    * @return Absolute draw index in draws ring buffer\\n  */\\n  function _drawIdToClaimIndex(uint32 _drawId) internal pure returns (uint8) { \\n    // require(_drawId + PAYOUT_CARDINALITY > _currentDrawId, \\\"ClaimableDraw/claim-expired\\\");\\n    // require(_drawId <= _currentDrawId, \\\"ClaimableDraw/drawid-out-of-bounds\\\");\\n\\n    return uint8(_drawId % PAYOUT_CARDINALITY);\\n  }\\n\\n\\n  /**\\n    * @notice Internal function to set a new draw calculator.\\n    * @dev    Internal function to sets a new draw calculator, which is then sequentially stored in new draw structs. Enabling unique prize calculators for individual draws.\\n    * @param _newCalculator  New draw calculator address\\n    * @return New calculator address\\n   */\\n  function _setDrawCalculator(uint32 _drawId, IDrawCalculator _newCalculator) internal returns(IDrawCalculator) {\\n    require(address(_newCalculator) != address(0), \\\"ClaimableDraw/calculator-not-zero-address\\\");\\n    // do we need a check for not overwriting an existing calculator?\\n\\n    drawCalculatorAddresses[_drawId] = _newCalculator; \\n    emit DrawCalculatorSet(_drawId, _newCalculator);\\n    return _newCalculator;\\n  }\\n\\n  /**\\n    @notice Internal function to set a new draw calculator.\\n    @param _drawHistory Address of the draw history contract\\n  */\\n  function _setDrawHistory(IDrawHistory _drawHistory) internal returns (IDrawHistory) \\n  {\\n    require(address(_drawHistory) != address(0), \\\"ClaimableDraw/draw-history-not-zero-address\\\");\\n    drawHistory = _drawHistory;\\n    emit DrawHistorySet(_drawHistory);\\n    return _drawHistory;\\n  }\\n\\n  /**\\n    * @notice Claim a user's award by passing in the calculated drawIds, drawCalculators and pickIndices. \\n    * @dev Calculates a user's total award by calling an external drawCalculator with winning drawIds and pickIndices. \\n    *\\n    * @param _user             Address of user to claim awards for. Does NOT need to be msg.sender\\n    * @param _drawIds          Index of the draw in the draws array\\n    * @param _drawCalculators  Address of the draw calculator for a set of draw ids\\n    * @param _data             The draw pick indices (uint256[][]) passed as a formatted bytes correlating to the draw ids\\n    * @return Total claim payout\\n  */\\n  function _claim(\\n    address _user, \\n    uint32[][] calldata _drawIds, \\n    IDrawCalculator[] calldata _drawCalculators, \\n    bytes[] calldata _data\\n  ) internal returns (uint256) {\\n    \\n    uint256 drawCalculatorsLength = _drawCalculators.length;\\n    require(drawCalculatorsLength == _drawIds.length, \\\"ClaimableDraw/invalid-calculator-array\\\");\\n    uint256 totalPayout;\\n    uint256 drawCollectionPayout;\\n\\n    for (uint8 calcIndex = 0; calcIndex < drawCalculatorsLength; calcIndex++) {\\n      IDrawCalculator _drawCalculator = _drawCalculators[calcIndex];\\n      drawCollectionPayout = _calculate(_user, _drawIds[calcIndex], _drawCalculator, _data[calcIndex]);\\n      totalPayout += drawCollectionPayout;\\n    }\\n\\n    emit ClaimedDraw(_user, totalPayout);\\n\\n    return totalPayout;\\n  }\\n\\n  /**\\n    * @dev Calculates user payout for a list of draws linked to single draw calculator.\\n    * @param _user            Address of user\\n    * @param _drawIds         Array of draws for target draw calculator\\n    * @param _drawCalculator  Address of draw calculator to determine award payout\\n    * @param _data            Pick indices for target draw\\n    * @return Total draw collection payout\\n  */\\n  function _calculate(\\n    address _user, \\n    uint32[] calldata _drawIds, \\n    IDrawCalculator _drawCalculator, \\n    bytes calldata _data\\n  ) internal returns (uint256) {\\n    \\n    uint256 drawCollectionPayout;\\n    uint96[PAYOUT_CARDINALITY] memory _userPayoutHistory = userPayoutHistory[_user];\\n\\n    (drawCollectionPayout, _userPayoutHistory) = _calculateDrawCollectionPayout(_user, _userPayoutHistory, _drawIds, _drawCalculator, _data);\\n    userPayoutHistory[_user] = _userPayoutHistory;\\n\\n    return drawCollectionPayout;\\n  }\\n\\n  /**\\n    * @dev Calculates user payout for a list of draws linked to single draw calculator.\\n    * @param _user              Address of user\\n    * @param _userPayoutHistory  User draw claim payout history\\n    * @param _drawIds           Array of draws for target draw calculator\\n    * @param _drawCalculator    Address of draw calculator to determine award payout\\n    * @param _data              Pick indices for target draw\\n    * @return totalPayout Total claim payout\\n  */\\n  function _calculateDrawCollectionPayout(\\n    address _user,\\n    uint96[PAYOUT_CARDINALITY] memory _userPayoutHistory, \\n    uint32[] calldata _drawIds, \\n    IDrawCalculator _drawCalculator, \\n    bytes calldata _data\\n  ) internal returns (uint256 totalPayout, uint96[PAYOUT_CARDINALITY] memory userPayoutHistory) {\\n    \\n    uint96[] memory prizesAwardable;\\n    userPayoutHistory = _userPayoutHistory;\\n\\n    DrawLib.Draw[] memory _draws = drawHistory.getDraws(_drawIds); // CALL\\n\\n    prizesAwardable = _drawCalculator.calculate(_user, _draws, _data);  // CALL\\n    \\n    require(_drawIds.length == prizesAwardable.length, \\\"ClaimableDraw/invalid-prizes-awardable\\\");\\n\\n    uint96 prize;\\n    for (uint256 prizeIndex = 0; prizeIndex < prizesAwardable.length; prizeIndex++) {\\n      prize = prizesAwardable[prizeIndex];\\n      (prize, userPayoutHistory) = _validateDrawPayout(userPayoutHistory, (_drawIds[prizeIndex] % PAYOUT_CARDINALITY), prize);\\n      totalPayout += prize;\\n    }\\n  }\\n\\n  /**\\n    * @notice Calculates payout for individual draw.\\n    * @param _userPayoutHistory User draw claim payout history\\n    * @param _drawIndex         Draw index in user claimed draw payout history\\n    * @param _payout            Draw payout amount\\n    * @return Difference between previous draw payout and the current draw payout \\n    * @return Updated user draw claim payout history\\n  */\\n  function _validateDrawPayout(\\n    uint96[PAYOUT_CARDINALITY] memory _userPayoutHistory, \\n    uint256 _drawIndex, \\n    uint96 _payout\\n  ) internal pure returns (uint96, uint96[PAYOUT_CARDINALITY] memory) {\\n    uint96 pastPayout = _userPayoutHistory[_drawIndex];\\n    require(_payout > pastPayout, \\\"ClaimableDraw/payout-below-threshold\\\");\\n    uint96 payoutDiff = _payout - pastPayout;\\n    _userPayoutHistory[_drawIndex] = payoutDiff;\\n    return (payoutDiff, _userPayoutHistory);\\n  }\\n\\n}\",\"keccak256\":\"0x4f6cd17546df685b73798ce3fefb107bd499cf295e9a9d84d5655d57d1a0f0a1\",\"license\":\"GPL-3.0\"},\"@pooltogether/v4/contracts/TsunamiDrawCalculator.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0\\npragma solidity 0.8.6;\\n\\nimport \\\"./interfaces/IDrawCalculator.sol\\\";\\nimport \\\"./interfaces/ITicket.sol\\\";\\nimport \\\"./ClaimableDraw.sol\\\";\\nimport \\\"./libraries/DrawLib.sol\\\";\\n\\nimport \\\"@openzeppelin/contracts-upgradeable/proxy/utils/Initializable.sol\\\";\\nimport \\\"@pooltogether/owner-manager-contracts/contracts/OwnerOrManager.sol\\\";\\n\\n///@title TsunamiDrawCalculator is an implmentation of an IDrawCalculator\\ncontract TsunamiDrawCalculator is IDrawCalculator, OwnerOrManager {\\n  \\n  ///@notice Ticket associated with DrawCalculator\\n  ITicket ticket;\\n\\n  ///@notice ClaimableDraw associated with DrawCalculator\\n  ClaimableDraw public claimableDraw;\\n\\n  ///@notice storage of the DrawSettings associated with a drawId\\n  mapping(uint32 => DrawLib.DrawSettings) drawSettings;\\n\\n  /* ============ External Functions ============ */\\n\\n  ///@notice Initializer sets the initial parameters\\n  ///@param _ticket Ticket associated with this DrawCalculator\\n  ///@param _drawSettingsManager Address of the DrawSettingsManager. Can be different from the contract owner.\\n  ///@param _claimableDraw ClaimableDraw associated with this DrawCalculator\\n  function initialize(ITicket _ticket, address _drawSettingsManager, ClaimableDraw _claimableDraw)\\n    public initializer\\n  {\\n    require(address(_ticket) != address(0), \\\"DrawCalc/ticket-not-zero\\\");\\n    __Ownable_init();\\n    setManager(_drawSettingsManager);\\n    _setClaimableDraw(_claimableDraw);\\n    ticket = _ticket;\\n    emit Initialized(_ticket);\\n  }\\n\\n  ///@notice Calulates the prize amount for a user for Multiple Draws. Typically called by a ClaimableDraw.\\n  ///@param _user User for which to calcualte prize amount\\n  ///@param _draws draw array for which to calculate prize amounts for\\n  ///@param _pickIndicesForDraws The encoded pick indices for all Draws. Expected to be just indices of winning claims. Populated values must be less than totalUserPicks.\\n  ///@return An array of amount of prizes awardable\\n  function calculate(address _user, DrawLib.Draw[] calldata _draws, bytes calldata _pickIndicesForDraws)\\n    external override view returns (uint96[] memory)\\n  {\\n\\n    uint256[][] memory pickIndices = abi.decode(_pickIndicesForDraws, (uint256 [][]));\\n    require(pickIndices.length == _draws.length, \\\"DrawCalc/invalid-pick-indices-length\\\");\\n\\n    //now unpack Draw struct\\n    uint32[] memory _timestamps = new uint32[](_draws.length);\\n    uint256[] memory _winningRandomNumbers = new uint256[](_draws.length);\\n    \\n    for(uint256 i = 0; i < _draws.length; i++){\\n      _timestamps[i] = _draws[i].timestamp;\\n      _winningRandomNumbers[i] = _draws[i].winningRandomNumber;\\n    }\\n    require(_timestamps.length == _winningRandomNumbers.length, \\\"DrawCalc/invalid-draw-length\\\");\\n\\n\\n    uint256[] memory userBalances = ticket.getBalancesAt(_user, _timestamps); // CALL\\n    bytes32 _userRandomNumber = keccak256(abi.encodePacked(_user)); // hash the users address\\n\\n    return _calculatePrizesAwardable(userBalances, _userRandomNumber, _winningRandomNumbers, pickIndices);\\n  }\\n\\n  ///@notice Sets DrawSettings for a draw id. only callable by the owner or manager\\n  ///@param _drawId The id of the Draw\\n  ///@param _drawSettings The DrawSettings to set\\n  function setDrawSettings(uint32 _drawId, DrawLib.DrawSettings calldata _drawSettings) external onlyManagerOrOwner\\n    returns (bool success) \\n  {\\n    return _setDrawSettings(_drawId, _drawSettings);\\n  }\\n\\n  ///@notice Sets DrawSettings for a draw id. only callable by the owner or manager\\n  ///@param _claimableDraw The address of the ClaimableDraw to update with the updated DrawSettings\\n  function setClaimableDraw(ClaimableDraw _claimableDraw) external onlyManagerOrOwner returns(ClaimableDraw)\\n  {\\n    return _setClaimableDraw(_claimableDraw);\\n  }\\n\\n  ///@notice Gets the DrawSettings for a draw id\\n  ///@param _drawId The id of the Draw\\n  function getDrawSettings(uint32 _drawId) external view returns(DrawLib.DrawSettings memory)\\n  {\\n    DrawLib.DrawSettings memory _drawSettings = drawSettings[_drawId];\\n    return _drawSettings;\\n  }\\n\\n  /* ============ Internal Functions ============ */\\n\\n  ///@notice Calculates the prizes awardable foe each Draw passed. Called by calculate()\\n  ///@param _userBalances Balances of the user at each Draw\\n  ///@param _userRandomNumber Random number of the user to consider over draws\\n  ///@param _winningRandomNumbers Winning random numbers for each Draw\\n  ///@param _pickIndicesForDraws Pick indices for each Draw\\n  function _calculatePrizesAwardable(uint256[] memory _userBalances, bytes32 _userRandomNumber, uint256[] memory _winningRandomNumbers, uint256[][] memory _pickIndicesForDraws)\\n   internal view returns (uint96[] memory)\\n   {\\n\\n    uint96[] memory prizesAwardable = new uint96[](_userBalances.length);\\n    \\n    // calculate for each Draw passed\\n    for (uint32 drawIndex = 0; drawIndex < _winningRandomNumbers.length; drawIndex++) {\\n      DrawLib.DrawSettings memory _drawSettings = drawSettings[drawIndex]; // sload\\n      prizesAwardable[drawIndex] = _calculate(_winningRandomNumbers[drawIndex], _userBalances[drawIndex], _userRandomNumber, _pickIndicesForDraws[drawIndex], _drawSettings);\\n    }\\n    return prizesAwardable;\\n  }\\n\\n  ///@notice calculates the prize amount per Draw per users pick\\n  ///@param _winningRandomNumber The Draw's winningRandomNumber\\n  ///@param _balance The users's balance for that Draw\\n  ///@param _userRandomNumber the users randomNumber for that draw\\n  ///@param _picks The users picks for that draw\\n  ///@param _drawSettings Params with the associated draw\\n  ///@return prize (if any) per Draw claim\\n  function _calculate(uint256 _winningRandomNumber, uint256 _balance, bytes32 _userRandomNumber, uint256[] memory _picks, DrawLib.DrawSettings memory _drawSettings)\\n    internal view returns (uint96)\\n  {\\n    \\n    uint256 totalUserPicks = _balance / _drawSettings.pickCost;\\n    uint256[] memory prizeCounts =  new uint256[](_drawSettings.distributions.length);\\n    uint256[] memory masks =  _createBitMasks(_drawSettings);\\n\\n    // for each pick find number of matching numbers and calculate prioze distribution index\\n    for(uint256 index  = 0; index < _picks.length; index++){\\n      \\n      uint256 randomNumberThisPick = uint256(keccak256(abi.encode(_userRandomNumber, _picks[index])));\\n      require(_picks[index] < totalUserPicks, \\\"DrawCalc/insufficient-user-picks\\\");\\n      \\n      uint256 distributionIndex =  _calculateDistributionIndex(randomNumberThisPick, _winningRandomNumber, masks);\\n      \\n      if(distributionIndex < _drawSettings.distributions.length) { // there is prize for this distributionIndex\\n        prizeCounts[distributionIndex]++;\\n      } \\n    }\\n\\n    // now calculate prizeFraction given prize counts\\n    uint256 prizeFraction = 0;\\n    for(uint256 prizeCountIndex = 0; prizeCountIndex < _drawSettings.distributions.length; prizeCountIndex++) { \\n      if(prizeCounts[prizeCountIndex] > 0) {\\n        prizeFraction += _calculatePrizeDistributionFraction(_drawSettings, prizeCountIndex) * prizeCounts[prizeCountIndex];\\n      }\\n    }\\n    // return the absolute amount of prize awardable\\n    return uint96((prizeFraction * _drawSettings.prize) / 1e18); // div by 1 ether as prize distributions are base 1e18\\n  }\\n\\n  ///@notice Calculates the distribution index given the random numbers and masks\\n  ///@param _randomNumberThisPick users random number for this Pick\\n  ///@param _winningRandomNumber The winning number for this draw\\n  ///@param _masks The pre-calculate bitmasks for the drawSettings\\n  ///@return The position within the prize distribution array (0 = top prize, 1 = runner-up prize, etc)\\n  function _calculateDistributionIndex(uint256 _randomNumberThisPick, uint256 _winningRandomNumber, uint256[] memory _masks)\\n    internal pure returns (uint256) \\n  {\\n\\n    uint256 numberOfMatches = 0;\\n    for(uint256 matchIndex = 0; matchIndex < _masks.length; matchIndex++) {\\n      uint256 mask = _masks[matchIndex];\\n      assembly{\\n        if eq(and(_winningRandomNumber, mask), and(_randomNumberThisPick, mask)) {\\n          numberOfMatches := add(numberOfMatches, 1)\\n        }\\n      }\\n    }\\n\\n    return _masks.length - numberOfMatches;\\n  }\\n\\n\\n  ///@notice helper function to create bitmasks equal to the matchCardinality\\n  ///@param _drawSettings The DrawSettings to use to calculate the masks\\n  ///@return An array of bitmasks\\n  function _createBitMasks(DrawLib.DrawSettings memory _drawSettings) \\n    internal pure returns (uint256[] memory)\\n  {\\n    uint256[] memory masks = new uint256[](_drawSettings.matchCardinality);\\n    \\n    uint256 _bitRangeMaskValue = (2 ** _drawSettings.bitRangeSize) - 1; // get a decimal representation of bitRangeSize\\n    \\n    for(uint256 maskIndex = 0; maskIndex < _drawSettings.matchCardinality; maskIndex++){\\n      uint16 _matchIndexOffset = uint16(maskIndex * _drawSettings.bitRangeSize);\\n      masks[maskIndex] = _bitRangeMaskValue << _matchIndexOffset;\\n    }\\n    \\n    return masks;\\n  }\\n\\n  ///@notice Calculates the expected prize fraction per DrawSettings and prizeDistributionIndex\\n  ///@param _drawSettings DrawSettings struct for Draw\\n  ///@param _prizeDistributionIndex Index of the prize distribution array to calculate\\n  ///@return returns the fraction of the total prize (base 1e18)\\n  function _calculatePrizeDistributionFraction(DrawLib.DrawSettings memory _drawSettings, uint256 _prizeDistributionIndex) internal view returns (uint256) \\n  {\\n    uint256 numberOfPrizesForIndex = (2 ** uint256(_drawSettings.bitRangeSize)) ** _prizeDistributionIndex;\\n    uint256 prizePercentageAtIndex = _drawSettings.distributions[_prizeDistributionIndex];\\n    return prizePercentageAtIndex / numberOfPrizesForIndex;\\n  } \\n\\n  ///@notice Set the DrawCalculators DrawSettings\\n  ///@dev Distributions must be expressed with Ether decimals (1e18)\\n  ///@param drawId The id of the Draw\\n  ///@param _drawSettings DrawSettings struct to set\\n  function _setDrawSettings(uint32 drawId, DrawLib.DrawSettings calldata _drawSettings) internal\\n    returns (bool)\\n  {\\n    uint256 sumTotalDistributions = 0;\\n    uint256 distributionsLength = _drawSettings.distributions.length;\\n\\n    require(_drawSettings.matchCardinality >= distributionsLength, \\\"DrawCalc/matchCardinality-gt-distributions\\\");\\n    require(_drawSettings.bitRangeSize <= 256 / _drawSettings.matchCardinality, \\\"DrawCalc/bitRangeSize-too-large\\\");\\n    require(_drawSettings.bitRangeSize > 0, \\\"DrawCalc/bitRangeSize-gt-0\\\");\\n    require(_drawSettings.pickCost > 0, \\\"DrawCalc/pick-cost-gt-0\\\");\\n    \\n    // ensure that the distributions are not gt 100%\\n    for(uint256 index = 0; index < distributionsLength; index++){\\n      sumTotalDistributions += _drawSettings.distributions[index];\\n    }\\n\\n    require(sumTotalDistributions <= 1 ether, \\\"DrawCalc/distributions-gt-100%\\\");\\n\\n    claimableDraw.setDrawCalculator(drawId, IDrawCalculator(address(this)));\\n\\n    drawSettings[drawId] = _drawSettings; //sstore\\n    emit DrawSettingsSet(drawId, _drawSettings);\\n    return true;\\n  }\\n\\n  ///@notice Internal function to set the Claimable Draw address\\n  ///@param _claimableDraw The address of the Claimable Draw contract to set\\n  function _setClaimableDraw(ClaimableDraw _claimableDraw) internal returns(ClaimableDraw)\\n  {\\n    require(address(_claimableDraw) != address(0), \\\"DrawCalc/claimable-draw-not-zero-address\\\");\\n    claimableDraw = _claimableDraw;\\n    emit ClaimableDrawSet(_claimableDraw);\\n    return _claimableDraw; \\n  }\\n\\n}\\n\",\"keccak256\":\"0x41050cc649244177a2eff853d8b47781b00c0755feeb484932b9d6214d9acfc3\",\"license\":\"GPL-3.0\"},\"@pooltogether/v4/contracts/interfaces/IDrawCalculator.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0\\npragma solidity 0.8.6;\\n\\nimport \\\"./ITicket.sol\\\";\\nimport \\\"../ClaimableDraw.sol\\\";\\nimport \\\"../libraries/DrawLib.sol\\\";\\n\\ninterface IDrawCalculator {\\n  \\n  ///@notice Emitted when the DrawParams are set/updated\\n  event DrawSettingsSet(uint32 indexed drawId, DrawLib.DrawSettings drawSettings);\\n\\n  ///@notice Emitted when the contract is initialized\\n  event Initialized(ITicket indexed ticket);\\n\\n  ///@notice Emitted when the claimableDraw is set/updated\\n  event ClaimableDrawSet(ClaimableDraw indexed claimableDraw);\\n  \\n  function calculate(address user, DrawLib.Draw[] calldata draws, bytes calldata pickIndicesForDraws)\\n    external view returns (uint96[] memory);\\n}\",\"keccak256\":\"0x8f82eb48a00683550a234a313b74a197ddf1f71e847b41e9f30b2de7517a5285\",\"license\":\"GPL-3.0\"},\"@pooltogether/v4/contracts/interfaces/IDrawHistory.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0\\npragma solidity 0.8.6;\\n\\nimport \\\"../libraries/DrawLib.sol\\\";\\n\\ninterface IDrawHistory {\\n  \\n  /**\\n    * @notice Emit when a new draw has been created.\\n    * @param drawIndex    Draw index in the draws array\\n    * @param drawId       Draw id\\n    * @param timestamp    Epoch timestamp when the draw is created.\\n    * @param winningRandomNumber Randomly generated number used to calculate draw winning numbers\\n  */\\n  event DrawSet (\\n    uint256 drawIndex,\\n    uint32 drawId,\\n    uint32 timestamp,\\n    uint256 winningRandomNumber\\n  );\\n\\n  function drawIdToDrawIndex(uint32 drawId) external view returns(uint32);\\n  function getDraws(uint32[] calldata drawIds) external view returns (DrawLib.Draw[] memory);\\n  function getDraw(uint32 drawId) external view returns (DrawLib.Draw memory);\\n  function pushDraw(DrawLib.Draw calldata draw) external returns(uint32);\\n  function setDraw(uint256 drawIndex, DrawLib.Draw calldata draw) external returns(uint32); // maybe return drawIndex\\n}\",\"keccak256\":\"0xf281531b8db566aca3047d8df2c9d8b75e104a2d970faa569acb49b36a38a79e\",\"license\":\"GPL-3.0\"},\"@pooltogether/v4/contracts/interfaces/ITicket.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0\\n\\npragma solidity 0.8.6;\\n\\nimport \\\"../libraries/TwabLibrary.sol\\\";\\n\\ninterface ITicket {\\n\\n  event Delegated(\\n    address indexed user,\\n    address indexed delegate\\n  );\\n\\n  /// @notice Emitted when ticket is initialized.\\n  /// @param name Ticket name (eg: PoolTogether Dai Ticket (Compound)).\\n  /// @param symbol Ticket symbol (eg: PcDAI).\\n  /// @param decimals Ticket decimals.\\n  /// @param controller Token controller address.\\n  event TicketInitialized(\\n    string name,\\n    string symbol,\\n    uint8 decimals,\\n    address controller\\n  );\\n\\n  /// @notice Emitted when a new TWAB has been recorded.\\n  /// @param ticketHolder The Ticket holder address.\\n  /// @param user The recipient of the ticket power (may be the same as the ticketHolder)\\n  /// @param newTwab Updated TWAB of a ticket holder after a successful TWAB recording.\\n  event NewUserTwab(\\n    address indexed ticketHolder,\\n    address indexed user,\\n    TwabLibrary.Twab newTwab\\n  );\\n\\n  /// @notice Emitted when a new total supply TWAB has been recorded.\\n  /// @param newTotalSupplyTwab Updated TWAB of tickets total supply after a successful total supply TWAB recording.\\n  event NewTotalSupplyTwab(\\n    TwabLibrary.Twab newTotalSupplyTwab\\n  );\\n  \\n  function getBalanceAt(address user, uint256 timestamp) external view returns(uint256);\\n  function getBalancesAt(address user, uint32[] calldata timestamp) external view returns(uint256[] memory);\\n  function getAverageBalanceBetween(address user, uint256 startTime, uint256 endTime) external view returns (uint256);\\n  function getTotalSupply(uint32 timestamp) external view returns(uint256);\\n  function getTotalSupplies(uint32[] calldata timestamp) external view returns(uint256[] memory);\\n}\\n\",\"keccak256\":\"0xebd57a8970e32d0fb5fddbb615cba241de7dc43e566881cd0ef78b18351332cb\",\"license\":\"GPL-3.0\"},\"@pooltogether/v4/contracts/libraries/DrawLib.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0\\n\\npragma solidity 0.8.6;\\n\\nlibrary DrawLib{\\n\\n    struct Draw {\\n        uint256 winningRandomNumber;\\n        uint32 timestamp;\\n        uint32 drawId;\\n    }\\n\\n    ///@notice Draw settings struct\\n    ///@param bitRangeSize Decimal representation of bitRangeSize\\n    ///@param matchCardinality The bitRangeSize's to consider in the 256 random numbers. Must be > 1 and < 256/bitRangeSize\\n    ///@param pickCost Amount of ticket balance required per pick\\n    ///@param distributions Array of prize distribution percentages, expressed in fraction form with base 1e18. Max sum of these <= 1 Ether. ordering: index0: grandPrize, index1: runnerUp, etc.\\n    struct DrawSettings {\\n        uint8 bitRangeSize;\\n        uint16 matchCardinality;\\n        uint224 pickCost;\\n        uint128[] distributions;\\n        uint256 prize;\\n    }\\n\\n}\",\"keccak256\":\"0xdc82c80fb4eb667dd54f37d90754ab598d90713cb2c6c56e5e4548266d6045e6\",\"license\":\"GPL-3.0\"},\"@pooltogether/v4/contracts/libraries/OverflowSafeComparator.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0\\n\\npragma solidity 0.8.6;\\n\\n/// @title OverflowSafeComparator library to share comparator functions between contracts\\n/// @author PoolTogether Inc.\\nlibrary OverflowSafeComparator {\\n  /// @notice 32-bit timestamps comparator.\\n  /// @dev safe for 0 or 1 overflows, `_a` and `_b` must be chronologically before or equal to time.\\n  /// @param _a A comparison timestamp from which to determine the relative position of `_timestamp`.\\n  /// @param _b Timestamp to compare against `_a`.\\n  /// @param _timestamp A timestamp truncated to 32 bits.\\n  /// @return bool Whether `_a` is chronologically < `_b`.\\n  function lt(\\n      uint32 _a,\\n      uint32 _b,\\n      uint32 _timestamp\\n  ) internal pure returns (bool) {\\n      // No need to adjust if there hasn't been an overflow\\n      if (_a <= _timestamp && _b <= _timestamp) return _a < _b;\\n\\n      uint256 aAdjusted = _a > _timestamp ? _a : _a + 2**32;\\n      uint256 bAdjusted = _b > _timestamp ? _b : _b + 2**32;\\n\\n      return aAdjusted < bAdjusted;\\n  }\\n\\n  /// @notice 32-bit timestamps comparator.\\n  /// @dev safe for 0 or 1 overflows, `_a` and `_b` must be chronologically before or equal to time.\\n  /// @param _a A comparison timestamp from which to determine the relative position of `_timestamp`.\\n  /// @param _b Timestamp to compare against `_a`.\\n  /// @param _timestamp A timestamp truncated to 32 bits.\\n  /// @return bool Whether `_a` is chronologically <= `_b`.\\n  function lte(\\n      uint32 _a,\\n      uint32 _b,\\n      uint32 _timestamp\\n  ) internal pure returns (bool) {\\n      // No need to adjust if there hasn't been an overflow\\n      if (_a <= _timestamp && _b <= _timestamp) return _a <= _b;\\n\\n      uint256 aAdjusted = _a > _timestamp ? _a : _a + 2**32;\\n      uint256 bAdjusted = _b > _timestamp ? _b : _b + 2**32;\\n\\n      return aAdjusted <= bAdjusted;\\n  }\\n\\n  function checkedSub(\\n      uint32 _a,\\n      uint32 _b,\\n      uint32 _timestamp\\n  ) internal pure returns (uint32) {\\n      // No need to adjust if there hasn't been an overflow\\n      if (_a <= _timestamp && _b <= _timestamp) return _a - _b;\\n\\n      uint256 aAdjusted = _a > _timestamp ? _a : _a + 2**32;\\n      uint256 bAdjusted = _b > _timestamp ? _b : _b + 2**32;\\n\\n      return uint32(aAdjusted - bAdjusted);\\n  }\\n}\\n\",\"keccak256\":\"0xde8b2a91634534f6e24bf470d87304176b828231d18dbde45f23c972bc173d3c\",\"license\":\"GPL-3.0\"},\"@pooltogether/v4/contracts/libraries/TwabLibrary.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0\\n\\npragma solidity 0.8.6;\\n\\nimport \\\"@openzeppelin/contracts-upgradeable/utils/math/SafeCastUpgradeable.sol\\\";\\n\\nimport \\\"./OverflowSafeComparator.sol\\\";\\n\\n/// @title Time-Weighted Average Balance Library\\n/// @notice This library allows you to efficiently track a user's historic balance.  You can get a\\n/// @author PoolTogether Inc.\\nlibrary TwabLibrary {\\n  using OverflowSafeComparator for uint32;\\n  using SafeCastUpgradeable for uint256;\\n\\n  /// @notice The maximum number of twab entries\\n  uint16 public constant MAX_CARDINALITY = 65535;\\n\\n  /// @notice Time Weighted Average Balance (TWAB).\\n  /// @param amount `amount` at `timestamp`.\\n  /// @param timestamp Recorded `timestamp`.\\n  struct Twab {\\n    uint224 amount;\\n    uint32 timestamp;\\n  }\\n\\n  /// @notice Ensures the passed cardinality is a minimum of 1\\n  /// @param _cardinality The cardinality to ensure a floor of 1\\n  /// @return Returns 1 if the given cardinality is zero, otherwise return the cardinality\\n  function _minCardinality(uint16 _cardinality) internal pure returns (uint16) {\\n    return _cardinality > 0 ? _cardinality : 1;\\n  }\\n\\n  /// @notice Retrieves TWAB balance.\\n  /// @param _target Timestamp at which the reserved TWAB should be for.\\n  function getBalanceAt(\\n    uint16 _cardinality,\\n    uint16 _nextTwabIndex,\\n    Twab[MAX_CARDINALITY] storage _twabs,\\n    uint224 _balance,\\n    uint32 _target,\\n    uint32 _time\\n  ) internal view returns (uint256) {\\n    uint16 cardinality = _minCardinality(_cardinality);\\n    uint16 recentIndex = mostRecentIndex(_nextTwabIndex, cardinality);\\n    return getBalanceAt(_twabs, _target, _balance, recentIndex, cardinality, _time);\\n  }\\n\\n  /// @notice Calculates the average balance held by an Account for a given time frame.\\n  /// @param _startTime The start time of the time frame.\\n  /// @param _endTime The end time of the time frame.\\n  /// @param _time The current time\\n  /// @return The average balance that the user held during the time frame.\\n  function getAverageBalanceBetween(\\n    uint16 _cardinality,\\n    uint16 _nextTwabIndex,\\n    Twab[MAX_CARDINALITY] storage _twabs,\\n    uint224 _balance,\\n    uint32 _startTime,\\n    uint32 _endTime,\\n    uint32 _time\\n  ) internal view returns (uint256) {\\n    uint16 card = _minCardinality(_cardinality);\\n    uint16 recentIndex = mostRecentIndex(_nextTwabIndex, card);\\n    return getAverageBalanceBetween(\\n      _twabs,\\n      _balance,\\n      recentIndex,\\n      _startTime,\\n      _endTime,\\n      card,\\n      _time\\n    );\\n  }\\n\\n  /// @notice Decreases an account's balance and records a new twab.\\n  /// @param _balance The balance held since the last update\\n  /// @param _time The current time\\n  /// @param _ttl The time-to-live for TWABs. This is essentially how long twabs are kept around.  History is not available longer than the time-to-live.\\n  /// @return nextTwabIndex\\n  /// @return cardinality\\n  /// @return twab The user's latest TWAB\\n  /// @return isNew Whether the TWAB is new\\n  function update(\\n    uint224 _balance,\\n    uint16 _nextTwabIndex,\\n    uint16 _cardinality,\\n    Twab[MAX_CARDINALITY] storage _twabs,\\n    uint32 _time,\\n    uint32 _ttl\\n  ) internal returns (uint16 nextTwabIndex, uint16 cardinality, Twab memory twab, bool isNew) {\\n    (nextTwabIndex, cardinality, twab, isNew) = nextTwabWithExpiry(\\n      _twabs,\\n      _balance,\\n      _nextTwabIndex,\\n      _cardinality,\\n      _time,\\n      _ttl\\n    );\\n  }\\n\\n  /// @dev A struct that just used internally to bypass the stack variable limitation\\n  struct AvgHelper {\\n    uint16 twabIndex;\\n    uint16 oldestTwabIndex;\\n    uint32 startTime;\\n    uint32 endTime;\\n    uint16 cardinality;\\n  }\\n\\n  /// @notice Returns TWAB index.\\n  /// @dev `twabs` is a circular buffer of `MAX_CARDINALITY` size equal to 32. So the array goes from 0 to 31.\\n  /// @dev In order to navigate the circular buffer, we need to use the modulo operator.\\n  /// @dev For example, if `_index` is equal to 32, `_index % MAX_CARDINALITY` will return 0 and will point to the first element of the array.\\n  /// @param _index Index used to navigate through `twabs` circular buffer.\\n  function wrapCardinality(uint256 _index, uint16 _cardinality) internal pure returns (uint16) {\\n    return uint16(_index % _cardinality);\\n  }\\n\\n  /// @notice Returns the index of the last recorded TWAB\\n  /// @param _nextAvailableIndex The next available twab index.  This will be recorded to next.\\n  /// @param _cardinality The cardinality of the TWAB history.\\n  /// @return The index of the last recorded TWAB\\n  function mostRecentIndex(uint256 _nextAvailableIndex, uint16 _cardinality) internal pure returns (uint16) {\\n    if (_cardinality == 0) {\\n      return 0;\\n    }\\n    return wrapCardinality(_nextAvailableIndex + uint256(_cardinality) - 1, _cardinality);\\n  }\\n\\n  /// @notice Fetches TWABs `beforeOrAt` and `atOrAfter` a `_target`, eg: where [`beforeOrAt`, `atOrAfter`] is satisfied.\\n  /// The result may be the same TWAB, or adjacent TWABs.\\n  /// @dev The answer must be contained in the array, used when the target is located within the stored TWAB.\\n  /// boundaries: older than the most recent TWAB and younger, or the same age as, the oldest TWAB.\\n  /// @param _twabs List of TWABs to search through.\\n  /// @param _twabIndex Index of the TWAB to start searching from.\\n  /// @param _target Timestamp at which the reserved TWAB should be for.\\n  /// @return beforeOrAt TWAB recorded before, or at, the target.\\n  /// @return atOrAfter TWAB recorded at, or after, the target.\\n  function binarySearch(\\n    Twab[MAX_CARDINALITY] storage _twabs,\\n    uint16 _twabIndex,\\n    uint16 _oldestTwabIndex,\\n    uint32 _target,\\n    uint16 _cardinality,\\n    uint32 _time\\n  ) internal view returns (Twab memory beforeOrAt, Twab memory atOrAfter) {\\n    uint256 leftSide = _oldestTwabIndex; // Oldest TWAB\\n    uint256 rightSide = _twabIndex < leftSide ? leftSide + _cardinality - 1 : _twabIndex;\\n    uint256 currentIndex;\\n\\n    while (true) {\\n      currentIndex = (leftSide + rightSide) / 2;\\n      beforeOrAt = _twabs[wrapCardinality(currentIndex, _cardinality)];\\n      uint32 beforeOrAtTimestamp = beforeOrAt.timestamp;\\n\\n      // We've landed on an uninitialized timestamp, keep searching higher (more recently)\\n      if (beforeOrAtTimestamp == 0) {\\n        leftSide = currentIndex + 1;\\n        continue;\\n      }\\n\\n      atOrAfter = _twabs[wrapCardinality(currentIndex + 1, _cardinality)];\\n\\n      bool targetAtOrAfter = beforeOrAtTimestamp.lte(_target, _time);\\n\\n      // Check if we've found the corresponding TWAB\\n      if (targetAtOrAfter && _target.lte(atOrAfter.timestamp, _time)) {\\n        break;\\n      }\\n\\n      // If `beforeOrAtTimestamp` is greater than `_target`, then we keep searching lower\\n      if (!targetAtOrAfter) rightSide = currentIndex - 1;\\n\\n      // Otherwise, we keep searching higher\\n      else leftSide = currentIndex + 1;\\n    }\\n  }\\n\\n  /// @notice Calculates the TWAB for a given timestamp.  It interpolates as necessary.\\n  /// @param _twabs The TWAB history\\n  function calculateTwab(\\n    Twab[MAX_CARDINALITY] storage _twabs,\\n    Twab memory newestTwab,\\n    Twab memory oldestTwab,\\n    uint16 _twabIndex,\\n    uint16 _oldestTwabIndex,\\n    uint32 targetTimestamp,\\n    uint224 _currentBalance,\\n    uint16 _cardinality,\\n    uint32 _time\\n  ) internal view returns (Twab memory) {\\n    // If `targetTimestamp` is chronologically after the newest TWAB, we extrapolate a new one\\n    if (newestTwab.timestamp.lt(targetTimestamp, _time)) {\\n      return Twab({\\n        amount: newestTwab.amount + _currentBalance*(targetTimestamp - newestTwab.timestamp),\\n        timestamp: targetTimestamp\\n      });\\n    }\\n\\n    if (newestTwab.timestamp == targetTimestamp) {\\n      return newestTwab;\\n    }\\n\\n    if (oldestTwab.timestamp == targetTimestamp) {\\n      return oldestTwab;\\n    }\\n\\n    // If `targetTimestamp` is chronologically before the oldest TWAB, we create a zero twab\\n    if (targetTimestamp.lt(oldestTwab.timestamp, _time)) {\\n      return Twab({\\n        amount: 0,\\n        timestamp: targetTimestamp\\n      });\\n    }\\n\\n    // Otherwise, both timestamps must be surrounded by twabs.\\n    (Twab memory beforeOrAtStart, Twab memory afterOrAtStart) = binarySearch(_twabs, _twabIndex, _oldestTwabIndex, targetTimestamp, _cardinality, _time);\\n\\n    uint224 heldBalance = (afterOrAtStart.amount - beforeOrAtStart.amount) / (afterOrAtStart.timestamp - beforeOrAtStart.timestamp);\\n    uint224 amount = beforeOrAtStart.amount + heldBalance * (targetTimestamp - beforeOrAtStart.timestamp);\\n\\n    return Twab({\\n      amount: amount,\\n      timestamp: targetTimestamp\\n    });\\n  }\\n\\n  function getAverageBalanceBetween(\\n    Twab[MAX_CARDINALITY] storage _twabs,\\n    uint224 _currentBalance,\\n    uint16 _twabIndex,\\n    uint32 _startTime,\\n    uint32 _endTime,\\n    uint16 _cardinality,\\n    uint32 _time\\n  ) internal view returns (uint256) {\\n    require(_endTime > _startTime, \\\"start time must be greater than end time\\\");\\n\\n    // Find oldest Twab\\n    uint16 oldestTwabIndex = wrapCardinality(_twabIndex + 1, _cardinality);\\n    Twab memory oldestTwab = _twabs[oldestTwabIndex];\\n    // If the TWAB is not initialized we go to the beginning of the TWAB circular buffer at index 0\\n    if (oldestTwab.timestamp == 0) {\\n      oldestTwabIndex = 0;\\n      oldestTwab = _twabs[0];\\n    }\\n\\n    return _getAverageBalanceBetween(\\n      _twabs,\\n      _currentBalance,\\n      AvgHelper({\\n        twabIndex: _twabIndex,\\n        oldestTwabIndex: oldestTwabIndex,\\n        startTime: _startTime,\\n        endTime: _endTime,\\n        cardinality: _cardinality\\n      }),\\n      oldestTwab,\\n      _time\\n    );\\n  }\\n\\n  function _getAverageBalanceBetween(\\n    Twab[MAX_CARDINALITY] storage _twabs,\\n    uint224 _currentBalance,\\n    AvgHelper memory helper,\\n    Twab memory _oldestTwab,\\n    uint32 _time\\n  ) private view returns (uint256) {\\n    uint32 endTime = helper.endTime > _time ? _time : helper.endTime;\\n\\n    Twab memory newestTwab = _twabs[helper.twabIndex];\\n\\n    Twab memory startTwab = calculateTwab(\\n      _twabs, newestTwab, _oldestTwab, helper.twabIndex, helper.oldestTwabIndex, helper.startTime, _currentBalance, helper.cardinality, _time\\n    );\\n    Twab memory endTwab = calculateTwab(\\n      _twabs, newestTwab, _oldestTwab, helper.twabIndex, helper.oldestTwabIndex, endTime, _currentBalance, helper.cardinality, _time\\n    );\\n\\n    // Difference in amount / time\\n    return (endTwab.amount - startTwab.amount) / (endTwab.timestamp - startTwab.timestamp);\\n  }\\n\\n  /// @notice Retrieves amount at `_target` timestamp\\n  /// @param _twabs List of TWABs to search through.\\n  /// @param _currentBalance Most recent amount recorded.\\n  /// @param _target Timestamp at which the reserved TWAB should be for.\\n  /// @param _twabIndex Most recent TWAB index recorded.\\n  /// @return uint256 TWAB amount at `_target`.\\n  function getBalanceAt(\\n    Twab[MAX_CARDINALITY] storage _twabs,\\n    uint32 _target,\\n    uint256 _currentBalance,\\n    uint16 _twabIndex,\\n    uint16 _cardinality,\\n    uint32 _time\\n  ) internal view returns (uint256) {\\n    uint32 targetTimestamp = _target > _time ? _time : _target;\\n\\n    Twab memory afterOrAt;\\n    Twab memory beforeOrAt = _twabs[_twabIndex];\\n\\n    // If `targetTimestamp` is chronologically after the newest TWAB, we can simply return the current balance\\n    if (beforeOrAt.timestamp.lte(targetTimestamp, _time)) {\\n      return _currentBalance;\\n    }\\n\\n    // Now, set before to the oldest TWAB\\n    uint16 oldestTwabIndex = wrapCardinality(_twabIndex + 1, _cardinality);\\n    beforeOrAt = _twabs[oldestTwabIndex];\\n\\n    // If the TWAB is not initialized we go to the beginning of the TWAB circular buffer at index 0\\n    if (beforeOrAt.timestamp == 0) {\\n      oldestTwabIndex = 0;\\n      beforeOrAt = _twabs[0];\\n    }\\n\\n    // If `targetTimestamp` is chronologically before the oldest TWAB, we can early return\\n    if (targetTimestamp.lt(beforeOrAt.timestamp, _time)) {\\n      return 0;\\n    }\\n\\n    // Otherwise, we perform the `binarySearch`\\n    (beforeOrAt, afterOrAt) = binarySearch(_twabs, _twabIndex, oldestTwabIndex, _target, _cardinality, _time);\\n\\n    // Difference in amount / time\\n    uint224 differenceInAmount = afterOrAt.amount - beforeOrAt.amount;\\n    uint32 differenceInTime = afterOrAt.timestamp - beforeOrAt.timestamp;\\n\\n    return differenceInAmount / differenceInTime;\\n  }\\n\\n  /// @notice Records a new TWAB.\\n  /// @param _currentBalance Current `amount`.\\n  /// @return New TWAB that was recorded.\\n  function nextTwab(\\n    Twab memory _currentTwab,\\n    uint256 _currentBalance,\\n    uint32 _time\\n  ) internal pure returns (Twab memory) {\\n    // New twab amount = last twab amount (or zero) + (current amount * elapsed seconds)\\n    return Twab({\\n      amount: (uint256(_currentTwab.amount) + (_currentBalance * (_time.checkedSub(_currentTwab.timestamp, _time)))).toUint224(),\\n      timestamp: _time\\n    });\\n  }\\n\\n  function calculateNextWithExpiry(\\n    Twab[MAX_CARDINALITY] storage _twabs,\\n    uint16 _nextTwabIndex,\\n    uint16 _cardinality,\\n    uint32 _time,\\n    uint32 _ttl\\n  ) internal view returns (uint16 nextAvailableTwabIndex, uint16 nextCardinality) {\\n    uint16 cardinality = _cardinality > 0 ? _cardinality : 1;\\n/*\\n    TTL: 100\\n\\n    Example 1:\\n      next twab timestamp: 100\\n\\n      existing twab timestamps:\\n      0: 10\\n      1: 90\\n\\n      we should not eliminate 0 or else the history will be 10 seconds long\\n\\n    Example 2:\\n\\n      next twab timestamp: 105\\n\\n      existing twab timestamps\\n      0: 1\\n      1: 5\\n\\n      We can eliminate 0, because the history will be 100 seconds long\\n\\n    Q: when do we eliminate the oldest twab?\\n    A: when current time - second oldest twab >= time to live\\n    */\\n\\n    Twab memory secondOldestTwab;\\n    // if there are two or more records (cardinality is always one greater than # of records)\\n    if (cardinality > 2) {\\n      // get the second oldest twab\\n      secondOldestTwab = _twabs[wrapCardinality(uint32(_nextTwabIndex) + 1, cardinality)];\\n    }\\n\\n    nextCardinality = cardinality;\\n    if (secondOldestTwab.timestamp == 0 || _time.checkedSub(secondOldestTwab.timestamp, _time) < _ttl) {\\n      nextCardinality = cardinality < MAX_CARDINALITY ? cardinality + 1 : MAX_CARDINALITY;\\n    }\\n\\n    nextAvailableTwabIndex = wrapCardinality(uint32(_nextTwabIndex) + 1, nextCardinality);\\n  }\\n\\n  function nextTwabWithExpiry(\\n    Twab[MAX_CARDINALITY] storage _twabs,\\n    uint224 _balance,\\n    uint16 _nextTwabIndex,\\n    uint16 _cardinality,\\n    uint32 _time,\\n    uint32 _maxLifetime\\n  ) internal returns (uint16 nextAvailableTwabIndex, uint16 nextCardinality, Twab memory twab, bool isNew) {\\n    Twab memory newestTwab = _twabs[mostRecentIndex(_nextTwabIndex, _cardinality)];\\n\\n    // if we're in the same block, return\\n    if (newestTwab.timestamp == _time) {\\n      return (_nextTwabIndex, _cardinality, newestTwab, false);\\n    }\\n\\n    (nextAvailableTwabIndex, nextCardinality) = calculateNextWithExpiry(_twabs, _nextTwabIndex, _cardinality, _time, _maxLifetime);\\n\\n    Twab memory newTwab = nextTwab(\\n      newestTwab,\\n      _balance,\\n      _time\\n    );\\n\\n    _twabs[_nextTwabIndex] = newTwab;\\n\\n    return (nextAvailableTwabIndex, nextCardinality, newTwab, true);\\n  }\\n}\\n\",\"keccak256\":\"0xed58cf31aef1fcc5a26fcbaffe2c4e69e66bbe86976d40b93e2ef7060b113385\",\"license\":\"GPL-3.0\"}},\"version\":1}",
  "bytecode": "0x608060405234801561001057600080fd5b506124fc806100206000396000f3fe608060405234801561001057600080fd5b50600436106100c95760003560e01c80639367baa711610081578063c25425e81161005b578063c25425e814610190578063d0ebdbe7146101b3578063f2fde38b146101c657600080fd5b80639367baa71461014a578063aba964c81461016a578063c0c53b8b1461017d57600080fd5b80634940805f116100b25780634940805f1461011c578063715018a61461012f5780638da5cb5b1461013957600080fd5b806312ac8c24146100ce578063481c6a75146100f7575b600080fd5b6100e16100dc366004611ca7565b6101d9565b6040516100ee9190611ef8565b60405180910390f35b6065546001600160a01b03165b6040516001600160a01b0390911681526020016100ee565b606754610104906001600160a01b031681565b6101376102fc565b005b6033546001600160a01b0316610104565b61015d610158366004611985565b610367565b6040516100ee9190611de3565b610104610178366004611961565b610686565b61013761018b366004611c05565b61072f565b6101a361019e366004611cc2565b6108ba565b60405190151581526020016100ee565b6101a36101c1366004611961565b610965565b6101376101d4366004611961565b6109d1565b6040805160a081018252600080825260208201819052918101829052606080820152608081019190915263ffffffff82166000908152606860209081526040808320815160a081018352815460ff81168252610100810461ffff1682860152630100000090046001600160e01b0316818401526001820180548451818702810187019095528085529194929360608601939092908301828280156102e057602002820191906000526020600020906000905b82829054906101000a90046fffffffffffffffffffffffffffffffff166fffffffffffffffffffffffffffffffff1681526020019060100190602082600f0104928301926001038202915080841161028b5790505b5050509183525050600291909101546020909101529392505050565b6033546001600160a01b0316331461035b5760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657260448201526064015b60405180910390fd5b6103656000610ab3565b565b6060600061037783850185611a39565b805190915085146103ef5760405162461bcd60e51b8152602060048201526024808201527f4472617743616c632f696e76616c69642d7069636b2d696e64696365732d6c6560448201527f6e677468000000000000000000000000000000000000000000000000000000006064820152608401610352565b60008567ffffffffffffffff81111561040a5761040a612334565b604051908082528060200260200182016040528015610433578160200160208202803683370190505b50905060008667ffffffffffffffff81111561045157610451612334565b60405190808252806020026020018201604052801561047a578160200160208202803683370190505b50905060005b878110156105295788888281811061049a5761049a61231e565b90506060020160200160208101906104b29190611ca7565b8382815181106104c4576104c461231e565b602002602001019063ffffffff16908163ffffffff16815250508888828181106104f0576104f061231e565b9050606002016000013582828151811061050c5761050c61231e565b602090810291909101015280610521816122b3565b915050610480565b50805182511461057b5760405162461bcd60e51b815260206004820152601c60248201527f4472617743616c632f696e76616c69642d647261772d6c656e677468000000006044820152606401610352565b6066546040517f405e22ad0000000000000000000000000000000000000000000000000000000081526000916001600160a01b03169063405e22ad906105c7908d908790600401611d86565b60006040518083038186803b1580156105df57600080fd5b505afa1580156105f3573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f1916820160405261061b9190810190611b50565b6040517fffffffffffffffffffffffffffffffffffffffff00000000000000000000000060608d901b16602082015290915060009060340160405160208183030381529060405280519060200120905061067782828588610b12565b9b9a5050505050505050505050565b6065546000906001600160a01b03163314806106ac57506033546001600160a01b031633145b61071e5760405162461bcd60e51b815260206004820152602360248201527f4d616e616765722f63616c6c65722d6e6f742d6d616e616765722d6f722d6f7760448201527f6e657200000000000000000000000000000000000000000000000000000000006064820152608401610352565b61072782610d1c565b90505b919050565b600054610100900460ff1680610748575060005460ff16155b6107ba5760405162461bcd60e51b815260206004820152602e60248201527f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160448201527f647920696e697469616c697a65640000000000000000000000000000000000006064820152608401610352565b600054610100900460ff161580156107dc576000805461ffff19166101011790555b6001600160a01b0384166108325760405162461bcd60e51b815260206004820152601860248201527f4472617743616c632f7469636b65742d6e6f742d7a65726f00000000000000006044820152606401610352565b61083a610df2565b61084383610965565b5061084d82610d1c565b506066805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b0386169081179091556040517f908408e307fc569b417f6cbec5d5a06f44a0a505ac0479b47d421a4b2fd6a1e690600090a280156108b4576000805461ff00191690555b50505050565b6065546000906001600160a01b03163314806108e057506033546001600160a01b031633145b6109525760405162461bcd60e51b815260206004820152602360248201527f4d616e616765722f63616c6c65722d6e6f742d6d616e616765722d6f722d6f7760448201527f6e657200000000000000000000000000000000000000000000000000000000006064820152608401610352565b61095c8383610ec3565b90505b92915050565b6033546000906001600160a01b031633146109c25760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e65726044820152606401610352565b6109cb8261127c565b50919050565b6033546001600160a01b03163314610a2b5760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e65726044820152606401610352565b6001600160a01b038116610aa75760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201527f64647265737300000000000000000000000000000000000000000000000000006064820152608401610352565b610ab081610ab3565b50565b603380546001600160a01b0383811673ffffffffffffffffffffffffffffffffffffffff19831681179093556040519116919082907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a35050565b60606000855167ffffffffffffffff811115610b3057610b30612334565b604051908082528060200260200182016040528015610b59578160200160208202803683370190505b50905060005b84518163ffffffff161015610d125763ffffffff81166000908152606860209081526040808320815160a081018352815460ff81168252610100810461ffff1682860152630100000090046001600160e01b031681840152600182018054845181870281018701909552808552919492936060860193909290830182828015610c4b57602002820191906000526020600020906000905b82829054906101000a90046fffffffffffffffffffffffffffffffff166fffffffffffffffffffffffffffffffff1681526020019060100190602082600f01049283019260010382029150808411610bf65790505b505050505081526020016002820154815250509050610cca868363ffffffff1681518110610c7b57610c7b61231e565b6020026020010151898463ffffffff1681518110610c9b57610c9b61231e565b602002602001015189888663ffffffff1681518110610cbc57610cbc61231e565b60200260200101518561139b565b838363ffffffff1681518110610ce257610ce261231e565b6bffffffffffffffffffffffff909216602092830291909101909101525080610d0a816122ce565b915050610b5f565b5095945050505050565b60006001600160a01b038216610d9a5760405162461bcd60e51b815260206004820152602860248201527f4472617743616c632f636c61696d61626c652d647261772d6e6f742d7a65726f60448201527f2d616464726573730000000000000000000000000000000000000000000000006064820152608401610352565b6067805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b0384169081179091556040517fa96795123a84d88293d426abc7fd21bd6f9daa3e25869355bb65226ecb81c42a90600090a25090565b600054610100900460ff1680610e0b575060005460ff16155b610e7d5760405162461bcd60e51b815260206004820152602e60248201527f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160448201527f647920696e697469616c697a65640000000000000000000000000000000000006064820152608401610352565b600054610100900460ff16158015610e9f576000805461ffff19166101011790555b610ea76115e7565b610eaf6116a7565b8015610ab0576000805461ff001916905550565b60008080610ed46060850185611f98565b9150819050610ee96040860160208701611c6d565b61ffff161015610f615760405162461bcd60e51b815260206004820152602a60248201527f4472617743616c632f6d6174636843617264696e616c6974792d67742d64697360448201527f747269627574696f6e73000000000000000000000000000000000000000000006064820152608401610352565b610f716040850160208601611c6d565b610f7d9061010061204f565b61ffff16610f8e6020860186611d17565b60ff161115610fdf5760405162461bcd60e51b815260206004820152601f60248201527f4472617743616c632f62697452616e676553697a652d746f6f2d6c61726765006044820152606401610352565b6000610fee6020860186611d17565b60ff161161103e5760405162461bcd60e51b815260206004820152601a60248201527f4472617743616c632f62697452616e676553697a652d67742d300000000000006044820152606401610352565b60006110506060860160408701611c8a565b6001600160e01b0316116110a65760405162461bcd60e51b815260206004820152601760248201527f4472617743616c632f7069636b2d636f73742d67742d300000000000000000006044820152606401610352565b60005b81811015611113576110be6060860186611f98565b828181106110ce576110ce61231e565b90506020020160208101906110e39190611c50565b6110ff906fffffffffffffffffffffffffffffffff1684612037565b92508061110b816122b3565b9150506110a9565b50670de0b6b3a764000082111561116c5760405162461bcd60e51b815260206004820152601e60248201527f4472617743616c632f646973747269627574696f6e732d67742d3130302500006044820152606401610352565b6067546040517fcd74b99a00000000000000000000000000000000000000000000000000000000815263ffffffff871660048201523060248201526001600160a01b039091169063cd74b99a90604401602060405180830381600087803b1580156111d657600080fd5b505af11580156111ea573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061120e9190611be8565b5063ffffffff8516600090815260686020526040902084906112308282612357565b9050508463ffffffff167ff8e43f9a4a1d56ea5163b78ffeeb91f20d70f5fbe25439b7184ad5180f126acc856040516112699190611e35565b60405180910390a2506001949350505050565b6065546000906001600160a01b039081169083166112dc5760405162461bcd60e51b815260206004820181905260248201527f4d616e616765722f6d616e616765722d6e6f742d7a65726f2d616464726573736044820152606401610352565b806001600160a01b0316836001600160a01b0316141561133e5760405162461bcd60e51b815260206004820181905260248201527f4d616e616765722f6578697374696e672d6d616e616765722d616464726573736044820152606401610352565b6065805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b0385169081179091556040517fcec439ab23c9526560087cb80f125a4b035e1da85484bcd969ac3affcf99463590600090a250600192915050565b60008082604001516001600160e01b0316866113b79190612070565b9050600083606001515167ffffffffffffffff8111156113d9576113d9612334565b604051908082528060200260200182016040528015611402578160200160208202803683370190505b50905060006114108561175d565b905060005b8651811015611534576000888883815181106114335761143361231e565b6020026020010151604051602001611455929190918252602082015260400190565b6040516020818303038152906040528051906020012060001c9050848883815181106114835761148361231e565b6020026020010151106114d85760405162461bcd60e51b815260206004820181905260248201527f4472617743616c632f696e73756666696369656e742d757365722d7069636b736044820152606401610352565b60006114e5828d86611837565b905087606001515181101561151f578481815181106115065761150661231e565b60200260200101805180919061151b906122b3565b9052505b5050808061152c906122b3565b915050611415565b506000805b8660600151518110156115b557600084828151811061155a5761155a61231e565b602002602001015111156115a35783818151811061157a5761157a61231e565b602002602001015161158c88836118a0565b611596919061217f565b6115a09083612037565b91505b806115ad816122b3565b915050611539565b50670de0b6b3a76400008660800151826115cf919061217f565b6115d99190612070565b9a9950505050505050505050565b600054610100900460ff1680611600575060005460ff16155b6116725760405162461bcd60e51b815260206004820152602e60248201527f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160448201527f647920696e697469616c697a65640000000000000000000000000000000000006064820152608401610352565b600054610100900460ff16158015610eaf576000805461ffff19166101011790558015610ab0576000805461ff001916905550565b600054610100900460ff16806116c0575060005460ff16155b6117325760405162461bcd60e51b815260206004820152602e60248201527f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160448201527f647920696e697469616c697a65640000000000000000000000000000000000006064820152608401610352565b600054610100900460ff16158015611754576000805461ffff19166101011790555b610eaf33610ab3565b60606000826020015161ffff1667ffffffffffffffff81111561178257611782612334565b6040519080825280602002602001820160405280156117ab578160200160208202803683370190505b50905060006001846000015160026117c391906120d3565b6117cd919061219e565b905060005b846020015161ffff1681101561182e5784516000906117f49060ff168361217f565b90508061ffff1683901b8483815181106118105761181061231e565b60209081029190910101525080611826816122b3565b9150506117d2565b50909392505050565b600080805b83518110156118895760008482815181106118595761185961231e565b602002602001015190508087168187161415611876576001830192505b5080611881816122b3565b91505061183c565b50808351611897919061219e565b95945050505050565b60008082846000015160ff1660026118b891906120c7565b6118c291906120c7565b90506000846060015184815181106118dc576118dc61231e565b60200260200101516fffffffffffffffffffffffffffffffff16905081816118979190612070565b60008083601f84011261191657600080fd5b50813567ffffffffffffffff81111561192e57600080fd5b60208301915083602082850101111561194657600080fd5b9250929050565b803563ffffffff8116811461072a57600080fd5b60006020828403121561197357600080fd5b813561197e8161245f565b9392505050565b60008060008060006060868803121561199d57600080fd5b85356119a88161245f565b9450602086013567ffffffffffffffff808211156119c557600080fd5b818801915088601f8301126119d957600080fd5b8135818111156119e857600080fd5b8960206060830285010111156119fd57600080fd5b602083019650809550506040880135915080821115611a1b57600080fd5b50611a2888828901611904565b969995985093965092949392505050565b60006020808385031215611a4c57600080fd5b823567ffffffffffffffff80821115611a6457600080fd5b818501915085601f830112611a7857600080fd5b8135611a8b611a8682612013565b611fe2565b80828252858201915085850189878560051b8801011115611aab57600080fd5b60005b84811015611b4157813586811115611ac557600080fd5b8701603f81018c13611ad657600080fd5b88810135611ae6611a8682612013565b808282528b82019150604084018f60408560051b8701011115611b0857600080fd5b600094505b83851015611b2b578035835260019490940193918c01918c01611b0d565b5087525050509287019290870190600101611aae565b50909998505050505050505050565b60006020808385031215611b6357600080fd5b825167ffffffffffffffff811115611b7a57600080fd5b8301601f81018513611b8b57600080fd5b8051611b99611a8682612013565b80828252848201915084840188868560051b8701011115611bb957600080fd5b600094505b83851015611bdc578051835260019490940193918501918501611bbe565b50979650505050505050565b600060208284031215611bfa57600080fd5b815161197e8161245f565b600080600060608486031215611c1a57600080fd5b8335611c258161245f565b92506020840135611c358161245f565b91506040840135611c458161245f565b809150509250925092565b600060208284031215611c6257600080fd5b813561197e81612474565b600060208284031215611c7f57600080fd5b813561197e81612492565b600060208284031215611c9c57600080fd5b813561197e816124a2565b600060208284031215611cb957600080fd5b61095c8261194d565b60008060408385031215611cd557600080fd5b611cde8361194d565b9150602083013567ffffffffffffffff811115611cfa57600080fd5b830160a08186031215611d0c57600080fd5b809150509250929050565b600060208284031215611d2957600080fd5b813561197e816124b7565b8183526000602080850194508260005b85811015611d7b578135611d5781612474565b6fffffffffffffffffffffffffffffffff1687529582019590820190600101611d44565b509495945050505050565b6000604082016001600160a01b03851683526020604081850152818551808452606086019150828701935060005b81811015611dd657845163ffffffff1683529383019391830191600101611db4565b5090979650505050505050565b6020808252825182820181905260009190848201906040850190845b81811015611e295783516bffffffffffffffffffffffff1683529284019291840191600101611dff565b50909695505050505050565b6020815260008235611e46816124b7565b60ff81166020840152506020830135611e5e81612492565b61ffff81166040840152506040830135611e77816124a2565b6001600160e01b0381166060840152506060830135601e19843603018112611e9e57600080fd5b8301803567ffffffffffffffff811115611eb757600080fd5b8060051b3603851315611ec957600080fd5b60a06080850152611ee160c085018260208501611d34565b915050608084013560a08401528091505092915050565b6000602080835260c0830160ff8551168285015261ffff828601511660408501526001600160e01b036040860151166060850152606085015160a0608086015281815180845260e0870191508483019350600092505b80831015611f805783516fffffffffffffffffffffffffffffffff168252928401926001929092019190840190611f4e565b50608087015160a08701528094505050505092915050565b6000808335601e19843603018112611faf57600080fd5b83018035915067ffffffffffffffff821115611fca57600080fd5b6020019150600581901b360382131561194657600080fd5b604051601f8201601f1916810167ffffffffffffffff8111828210171561200b5761200b612334565b604052919050565b600067ffffffffffffffff82111561202d5761202d612334565b5060051b60200190565b6000821982111561204a5761204a6122f2565b500190565b600061ffff8084168061206457612064612308565b92169190910492915050565b60008261207f5761207f612308565b500490565b600181815b808511156120bf5781600019048211156120a5576120a56122f2565b808516156120b257918102915b93841c9390800290612089565b509250929050565b600061095c83836120de565b600061095c60ff8416835b6000826120ed5750600161095f565b816120fa5750600061095f565b8160018114612110576002811461211a57612136565b600191505061095f565b60ff84111561212b5761212b6122f2565b50506001821b61095f565b5060208310610133831016604e8410600b8410161715612159575081810a61095f565b6121638383612084565b8060001904821115612177576121776122f2565b029392505050565b6000816000190483118215151615612199576121996122f2565b500290565b6000828210156121b0576121b06122f2565b500390565b680100000000000000008311156121ce576121ce612334565b805483825580841015612233576001600083815260208120828701831c8101838501841c8201915060108860041b16801561221a576000198083018054828460200360031b1c16815550505b505b8181101561222e57828155830161221c565b505050505b506000818152602081208391805b868110156122aa576122816122558561234a565b84546fffffffffffffffffffffffffffffffff600386901b81811b801990931693909116901b16178455565b60208401935060108083019250808311156122a157600092506001840193505b50600101612241565b50505050505050565b60006000198214156122c7576122c76122f2565b5060010190565b600063ffffffff808316818114156122e8576122e86122f2565b6001019392505050565b634e487b7160e01b600052601160045260246000fd5b634e487b7160e01b600052601260045260246000fd5b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052604160045260246000fd5b6000813561095f81612474565b8135612362816124b7565b60ff811690508154817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff008216178355602084013561239f81612492565b62ffff008160081b16905080837fffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00000084161717845560408501356123e1816124a2565b7effffffffffffffffffffffffffffffffffffffffffffffffffffffff0000008160181b16847fff000000000000000000000000000000000000000000000000000000000000008516178317178555505050506124416060830183611f98565b61244f8183600186016121b5565b5050608082013560028201555050565b6001600160a01b0381168114610ab057600080fd5b6fffffffffffffffffffffffffffffffff81168114610ab057600080fd5b61ffff81168114610ab057600080fd5b6001600160e01b0381168114610ab057600080fd5b60ff81168114610ab057600080fdfea2646970667358221220f100ff204e0a0b0f700514dc1d68ac7c03267e1a264e748e3960366fd2e0b69a64736f6c63430008060033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100c95760003560e01c80639367baa711610081578063c25425e81161005b578063c25425e814610190578063d0ebdbe7146101b3578063f2fde38b146101c657600080fd5b80639367baa71461014a578063aba964c81461016a578063c0c53b8b1461017d57600080fd5b80634940805f116100b25780634940805f1461011c578063715018a61461012f5780638da5cb5b1461013957600080fd5b806312ac8c24146100ce578063481c6a75146100f7575b600080fd5b6100e16100dc366004611ca7565b6101d9565b6040516100ee9190611ef8565b60405180910390f35b6065546001600160a01b03165b6040516001600160a01b0390911681526020016100ee565b606754610104906001600160a01b031681565b6101376102fc565b005b6033546001600160a01b0316610104565b61015d610158366004611985565b610367565b6040516100ee9190611de3565b610104610178366004611961565b610686565b61013761018b366004611c05565b61072f565b6101a361019e366004611cc2565b6108ba565b60405190151581526020016100ee565b6101a36101c1366004611961565b610965565b6101376101d4366004611961565b6109d1565b6040805160a081018252600080825260208201819052918101829052606080820152608081019190915263ffffffff82166000908152606860209081526040808320815160a081018352815460ff81168252610100810461ffff1682860152630100000090046001600160e01b0316818401526001820180548451818702810187019095528085529194929360608601939092908301828280156102e057602002820191906000526020600020906000905b82829054906101000a90046fffffffffffffffffffffffffffffffff166fffffffffffffffffffffffffffffffff1681526020019060100190602082600f0104928301926001038202915080841161028b5790505b5050509183525050600291909101546020909101529392505050565b6033546001600160a01b0316331461035b5760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657260448201526064015b60405180910390fd5b6103656000610ab3565b565b6060600061037783850185611a39565b805190915085146103ef5760405162461bcd60e51b8152602060048201526024808201527f4472617743616c632f696e76616c69642d7069636b2d696e64696365732d6c6560448201527f6e677468000000000000000000000000000000000000000000000000000000006064820152608401610352565b60008567ffffffffffffffff81111561040a5761040a612334565b604051908082528060200260200182016040528015610433578160200160208202803683370190505b50905060008667ffffffffffffffff81111561045157610451612334565b60405190808252806020026020018201604052801561047a578160200160208202803683370190505b50905060005b878110156105295788888281811061049a5761049a61231e565b90506060020160200160208101906104b29190611ca7565b8382815181106104c4576104c461231e565b602002602001019063ffffffff16908163ffffffff16815250508888828181106104f0576104f061231e565b9050606002016000013582828151811061050c5761050c61231e565b602090810291909101015280610521816122b3565b915050610480565b50805182511461057b5760405162461bcd60e51b815260206004820152601c60248201527f4472617743616c632f696e76616c69642d647261772d6c656e677468000000006044820152606401610352565b6066546040517f405e22ad0000000000000000000000000000000000000000000000000000000081526000916001600160a01b03169063405e22ad906105c7908d908790600401611d86565b60006040518083038186803b1580156105df57600080fd5b505afa1580156105f3573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f1916820160405261061b9190810190611b50565b6040517fffffffffffffffffffffffffffffffffffffffff00000000000000000000000060608d901b16602082015290915060009060340160405160208183030381529060405280519060200120905061067782828588610b12565b9b9a5050505050505050505050565b6065546000906001600160a01b03163314806106ac57506033546001600160a01b031633145b61071e5760405162461bcd60e51b815260206004820152602360248201527f4d616e616765722f63616c6c65722d6e6f742d6d616e616765722d6f722d6f7760448201527f6e657200000000000000000000000000000000000000000000000000000000006064820152608401610352565b61072782610d1c565b90505b919050565b600054610100900460ff1680610748575060005460ff16155b6107ba5760405162461bcd60e51b815260206004820152602e60248201527f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160448201527f647920696e697469616c697a65640000000000000000000000000000000000006064820152608401610352565b600054610100900460ff161580156107dc576000805461ffff19166101011790555b6001600160a01b0384166108325760405162461bcd60e51b815260206004820152601860248201527f4472617743616c632f7469636b65742d6e6f742d7a65726f00000000000000006044820152606401610352565b61083a610df2565b61084383610965565b5061084d82610d1c565b506066805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b0386169081179091556040517f908408e307fc569b417f6cbec5d5a06f44a0a505ac0479b47d421a4b2fd6a1e690600090a280156108b4576000805461ff00191690555b50505050565b6065546000906001600160a01b03163314806108e057506033546001600160a01b031633145b6109525760405162461bcd60e51b815260206004820152602360248201527f4d616e616765722f63616c6c65722d6e6f742d6d616e616765722d6f722d6f7760448201527f6e657200000000000000000000000000000000000000000000000000000000006064820152608401610352565b61095c8383610ec3565b90505b92915050565b6033546000906001600160a01b031633146109c25760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e65726044820152606401610352565b6109cb8261127c565b50919050565b6033546001600160a01b03163314610a2b5760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e65726044820152606401610352565b6001600160a01b038116610aa75760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201527f64647265737300000000000000000000000000000000000000000000000000006064820152608401610352565b610ab081610ab3565b50565b603380546001600160a01b0383811673ffffffffffffffffffffffffffffffffffffffff19831681179093556040519116919082907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e090600090a35050565b60606000855167ffffffffffffffff811115610b3057610b30612334565b604051908082528060200260200182016040528015610b59578160200160208202803683370190505b50905060005b84518163ffffffff161015610d125763ffffffff81166000908152606860209081526040808320815160a081018352815460ff81168252610100810461ffff1682860152630100000090046001600160e01b031681840152600182018054845181870281018701909552808552919492936060860193909290830182828015610c4b57602002820191906000526020600020906000905b82829054906101000a90046fffffffffffffffffffffffffffffffff166fffffffffffffffffffffffffffffffff1681526020019060100190602082600f01049283019260010382029150808411610bf65790505b505050505081526020016002820154815250509050610cca868363ffffffff1681518110610c7b57610c7b61231e565b6020026020010151898463ffffffff1681518110610c9b57610c9b61231e565b602002602001015189888663ffffffff1681518110610cbc57610cbc61231e565b60200260200101518561139b565b838363ffffffff1681518110610ce257610ce261231e565b6bffffffffffffffffffffffff909216602092830291909101909101525080610d0a816122ce565b915050610b5f565b5095945050505050565b60006001600160a01b038216610d9a5760405162461bcd60e51b815260206004820152602860248201527f4472617743616c632f636c61696d61626c652d647261772d6e6f742d7a65726f60448201527f2d616464726573730000000000000000000000000000000000000000000000006064820152608401610352565b6067805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b0384169081179091556040517fa96795123a84d88293d426abc7fd21bd6f9daa3e25869355bb65226ecb81c42a90600090a25090565b600054610100900460ff1680610e0b575060005460ff16155b610e7d5760405162461bcd60e51b815260206004820152602e60248201527f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160448201527f647920696e697469616c697a65640000000000000000000000000000000000006064820152608401610352565b600054610100900460ff16158015610e9f576000805461ffff19166101011790555b610ea76115e7565b610eaf6116a7565b8015610ab0576000805461ff001916905550565b60008080610ed46060850185611f98565b9150819050610ee96040860160208701611c6d565b61ffff161015610f615760405162461bcd60e51b815260206004820152602a60248201527f4472617743616c632f6d6174636843617264696e616c6974792d67742d64697360448201527f747269627574696f6e73000000000000000000000000000000000000000000006064820152608401610352565b610f716040850160208601611c6d565b610f7d9061010061204f565b61ffff16610f8e6020860186611d17565b60ff161115610fdf5760405162461bcd60e51b815260206004820152601f60248201527f4472617743616c632f62697452616e676553697a652d746f6f2d6c61726765006044820152606401610352565b6000610fee6020860186611d17565b60ff161161103e5760405162461bcd60e51b815260206004820152601a60248201527f4472617743616c632f62697452616e676553697a652d67742d300000000000006044820152606401610352565b60006110506060860160408701611c8a565b6001600160e01b0316116110a65760405162461bcd60e51b815260206004820152601760248201527f4472617743616c632f7069636b2d636f73742d67742d300000000000000000006044820152606401610352565b60005b81811015611113576110be6060860186611f98565b828181106110ce576110ce61231e565b90506020020160208101906110e39190611c50565b6110ff906fffffffffffffffffffffffffffffffff1684612037565b92508061110b816122b3565b9150506110a9565b50670de0b6b3a764000082111561116c5760405162461bcd60e51b815260206004820152601e60248201527f4472617743616c632f646973747269627574696f6e732d67742d3130302500006044820152606401610352565b6067546040517fcd74b99a00000000000000000000000000000000000000000000000000000000815263ffffffff871660048201523060248201526001600160a01b039091169063cd74b99a90604401602060405180830381600087803b1580156111d657600080fd5b505af11580156111ea573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061120e9190611be8565b5063ffffffff8516600090815260686020526040902084906112308282612357565b9050508463ffffffff167ff8e43f9a4a1d56ea5163b78ffeeb91f20d70f5fbe25439b7184ad5180f126acc856040516112699190611e35565b60405180910390a2506001949350505050565b6065546000906001600160a01b039081169083166112dc5760405162461bcd60e51b815260206004820181905260248201527f4d616e616765722f6d616e616765722d6e6f742d7a65726f2d616464726573736044820152606401610352565b806001600160a01b0316836001600160a01b0316141561133e5760405162461bcd60e51b815260206004820181905260248201527f4d616e616765722f6578697374696e672d6d616e616765722d616464726573736044820152606401610352565b6065805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b0385169081179091556040517fcec439ab23c9526560087cb80f125a4b035e1da85484bcd969ac3affcf99463590600090a250600192915050565b60008082604001516001600160e01b0316866113b79190612070565b9050600083606001515167ffffffffffffffff8111156113d9576113d9612334565b604051908082528060200260200182016040528015611402578160200160208202803683370190505b50905060006114108561175d565b905060005b8651811015611534576000888883815181106114335761143361231e565b6020026020010151604051602001611455929190918252602082015260400190565b6040516020818303038152906040528051906020012060001c9050848883815181106114835761148361231e565b6020026020010151106114d85760405162461bcd60e51b815260206004820181905260248201527f4472617743616c632f696e73756666696369656e742d757365722d7069636b736044820152606401610352565b60006114e5828d86611837565b905087606001515181101561151f578481815181106115065761150661231e565b60200260200101805180919061151b906122b3565b9052505b5050808061152c906122b3565b915050611415565b506000805b8660600151518110156115b557600084828151811061155a5761155a61231e565b602002602001015111156115a35783818151811061157a5761157a61231e565b602002602001015161158c88836118a0565b611596919061217f565b6115a09083612037565b91505b806115ad816122b3565b915050611539565b50670de0b6b3a76400008660800151826115cf919061217f565b6115d99190612070565b9a9950505050505050505050565b600054610100900460ff1680611600575060005460ff16155b6116725760405162461bcd60e51b815260206004820152602e60248201527f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160448201527f647920696e697469616c697a65640000000000000000000000000000000000006064820152608401610352565b600054610100900460ff16158015610eaf576000805461ffff19166101011790558015610ab0576000805461ff001916905550565b600054610100900460ff16806116c0575060005460ff16155b6117325760405162461bcd60e51b815260206004820152602e60248201527f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160448201527f647920696e697469616c697a65640000000000000000000000000000000000006064820152608401610352565b600054610100900460ff16158015611754576000805461ffff19166101011790555b610eaf33610ab3565b60606000826020015161ffff1667ffffffffffffffff81111561178257611782612334565b6040519080825280602002602001820160405280156117ab578160200160208202803683370190505b50905060006001846000015160026117c391906120d3565b6117cd919061219e565b905060005b846020015161ffff1681101561182e5784516000906117f49060ff168361217f565b90508061ffff1683901b8483815181106118105761181061231e565b60209081029190910101525080611826816122b3565b9150506117d2565b50909392505050565b600080805b83518110156118895760008482815181106118595761185961231e565b602002602001015190508087168187161415611876576001830192505b5080611881816122b3565b91505061183c565b50808351611897919061219e565b95945050505050565b60008082846000015160ff1660026118b891906120c7565b6118c291906120c7565b90506000846060015184815181106118dc576118dc61231e565b60200260200101516fffffffffffffffffffffffffffffffff16905081816118979190612070565b60008083601f84011261191657600080fd5b50813567ffffffffffffffff81111561192e57600080fd5b60208301915083602082850101111561194657600080fd5b9250929050565b803563ffffffff8116811461072a57600080fd5b60006020828403121561197357600080fd5b813561197e8161245f565b9392505050565b60008060008060006060868803121561199d57600080fd5b85356119a88161245f565b9450602086013567ffffffffffffffff808211156119c557600080fd5b818801915088601f8301126119d957600080fd5b8135818111156119e857600080fd5b8960206060830285010111156119fd57600080fd5b602083019650809550506040880135915080821115611a1b57600080fd5b50611a2888828901611904565b969995985093965092949392505050565b60006020808385031215611a4c57600080fd5b823567ffffffffffffffff80821115611a6457600080fd5b818501915085601f830112611a7857600080fd5b8135611a8b611a8682612013565b611fe2565b80828252858201915085850189878560051b8801011115611aab57600080fd5b60005b84811015611b4157813586811115611ac557600080fd5b8701603f81018c13611ad657600080fd5b88810135611ae6611a8682612013565b808282528b82019150604084018f60408560051b8701011115611b0857600080fd5b600094505b83851015611b2b578035835260019490940193918c01918c01611b0d565b5087525050509287019290870190600101611aae565b50909998505050505050505050565b60006020808385031215611b6357600080fd5b825167ffffffffffffffff811115611b7a57600080fd5b8301601f81018513611b8b57600080fd5b8051611b99611a8682612013565b80828252848201915084840188868560051b8701011115611bb957600080fd5b600094505b83851015611bdc578051835260019490940193918501918501611bbe565b50979650505050505050565b600060208284031215611bfa57600080fd5b815161197e8161245f565b600080600060608486031215611c1a57600080fd5b8335611c258161245f565b92506020840135611c358161245f565b91506040840135611c458161245f565b809150509250925092565b600060208284031215611c6257600080fd5b813561197e81612474565b600060208284031215611c7f57600080fd5b813561197e81612492565b600060208284031215611c9c57600080fd5b813561197e816124a2565b600060208284031215611cb957600080fd5b61095c8261194d565b60008060408385031215611cd557600080fd5b611cde8361194d565b9150602083013567ffffffffffffffff811115611cfa57600080fd5b830160a08186031215611d0c57600080fd5b809150509250929050565b600060208284031215611d2957600080fd5b813561197e816124b7565b8183526000602080850194508260005b85811015611d7b578135611d5781612474565b6fffffffffffffffffffffffffffffffff1687529582019590820190600101611d44565b509495945050505050565b6000604082016001600160a01b03851683526020604081850152818551808452606086019150828701935060005b81811015611dd657845163ffffffff1683529383019391830191600101611db4565b5090979650505050505050565b6020808252825182820181905260009190848201906040850190845b81811015611e295783516bffffffffffffffffffffffff1683529284019291840191600101611dff565b50909695505050505050565b6020815260008235611e46816124b7565b60ff81166020840152506020830135611e5e81612492565b61ffff81166040840152506040830135611e77816124a2565b6001600160e01b0381166060840152506060830135601e19843603018112611e9e57600080fd5b8301803567ffffffffffffffff811115611eb757600080fd5b8060051b3603851315611ec957600080fd5b60a06080850152611ee160c085018260208501611d34565b915050608084013560a08401528091505092915050565b6000602080835260c0830160ff8551168285015261ffff828601511660408501526001600160e01b036040860151166060850152606085015160a0608086015281815180845260e0870191508483019350600092505b80831015611f805783516fffffffffffffffffffffffffffffffff168252928401926001929092019190840190611f4e565b50608087015160a08701528094505050505092915050565b6000808335601e19843603018112611faf57600080fd5b83018035915067ffffffffffffffff821115611fca57600080fd5b6020019150600581901b360382131561194657600080fd5b604051601f8201601f1916810167ffffffffffffffff8111828210171561200b5761200b612334565b604052919050565b600067ffffffffffffffff82111561202d5761202d612334565b5060051b60200190565b6000821982111561204a5761204a6122f2565b500190565b600061ffff8084168061206457612064612308565b92169190910492915050565b60008261207f5761207f612308565b500490565b600181815b808511156120bf5781600019048211156120a5576120a56122f2565b808516156120b257918102915b93841c9390800290612089565b509250929050565b600061095c83836120de565b600061095c60ff8416835b6000826120ed5750600161095f565b816120fa5750600061095f565b8160018114612110576002811461211a57612136565b600191505061095f565b60ff84111561212b5761212b6122f2565b50506001821b61095f565b5060208310610133831016604e8410600b8410161715612159575081810a61095f565b6121638383612084565b8060001904821115612177576121776122f2565b029392505050565b6000816000190483118215151615612199576121996122f2565b500290565b6000828210156121b0576121b06122f2565b500390565b680100000000000000008311156121ce576121ce612334565b805483825580841015612233576001600083815260208120828701831c8101838501841c8201915060108860041b16801561221a576000198083018054828460200360031b1c16815550505b505b8181101561222e57828155830161221c565b505050505b506000818152602081208391805b868110156122aa576122816122558561234a565b84546fffffffffffffffffffffffffffffffff600386901b81811b801990931693909116901b16178455565b60208401935060108083019250808311156122a157600092506001840193505b50600101612241565b50505050505050565b60006000198214156122c7576122c76122f2565b5060010190565b600063ffffffff808316818114156122e8576122e86122f2565b6001019392505050565b634e487b7160e01b600052601160045260246000fd5b634e487b7160e01b600052601260045260246000fd5b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052604160045260246000fd5b6000813561095f81612474565b8135612362816124b7565b60ff811690508154817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff008216178355602084013561239f81612492565b62ffff008160081b16905080837fffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00000084161717845560408501356123e1816124a2565b7effffffffffffffffffffffffffffffffffffffffffffffffffffffff0000008160181b16847fff000000000000000000000000000000000000000000000000000000000000008516178317178555505050506124416060830183611f98565b61244f8183600186016121b5565b5050608082013560028201555050565b6001600160a01b0381168114610ab057600080fd5b6fffffffffffffffffffffffffffffffff81168114610ab057600080fd5b61ffff81168114610ab057600080fd5b6001600160e01b0381168114610ab057600080fd5b60ff81168114610ab057600080fdfea2646970667358221220f100ff204e0a0b0f700514dc1d68ac7c03267e1a264e748e3960366fd2e0b69a64736f6c63430008060033",
  "devdoc": {
    "kind": "dev",
    "methods": {
      "calculate(address,(uint256,uint32,uint32)[],bytes)": {
        "params": {
          "_draws": "draw array for which to calculate prize amounts for",
          "_pickIndicesForDraws": "The encoded pick indices for all Draws. Expected to be just indices of winning claims. Populated values must be less than totalUserPicks.",
          "_user": "User for which to calcualte prize amount"
        },
        "returns": {
          "_0": "An array of amount of prizes awardable"
        }
      },
      "getDrawSettings(uint32)": {
        "params": {
          "_drawId": "The id of the Draw"
        }
      },
      "initialize(address,address,address)": {
        "params": {
          "_claimableDraw": "ClaimableDraw associated with this DrawCalculator",
          "_drawSettingsManager": "Address of the DrawSettingsManager. Can be different from the contract owner.",
          "_ticket": "Ticket associated with this DrawCalculator"
        }
      },
      "manager()": {
        "details": "Returns current _manager address.1",
        "returns": {
          "_0": "Current _manager address."
        }
      },
      "owner()": {
        "details": "Returns the address of the current owner."
      },
      "renounceOwnership()": {
        "details": "Leaves the contract without owner. It will not be possible to call `onlyOwner` functions anymore. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby removing any functionality that is only available to the owner."
      },
      "setClaimableDraw(address)": {
        "params": {
          "_claimableDraw": "The address of the ClaimableDraw to update with the updated DrawSettings"
        }
      },
      "setDrawSettings(uint32,(uint8,uint16,uint224,uint128[],uint256))": {
        "params": {
          "_drawId": "The id of the Draw",
          "_drawSettings": "The DrawSettings to set"
        }
      },
      "setManager(address)": {
        "details": "Throws if called by any account other than the owner.",
        "params": {
          "_newManager": "New _manager address."
        },
        "returns": {
          "_0": "Boolean to indicate if the operation was successful or not."
        }
      },
      "transferOwnership(address)": {
        "details": "Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner."
      }
    },
    "title": "TsunamiDrawCalculator is an implmentation of an IDrawCalculator",
    "version": 1
  },
  "userdoc": {
    "events": {
      "ClaimableDrawSet(address)": {
        "notice": "Emitted when the claimableDraw is set/updated"
      },
      "DrawSettingsSet(uint32,(uint8,uint16,uint224,uint128[],uint256))": {
        "notice": "Emitted when the DrawParams are set/updated"
      },
      "Initialized(address)": {
        "notice": "Emitted when the contract is initialized"
      }
    },
    "kind": "user",
    "methods": {
      "calculate(address,(uint256,uint32,uint32)[],bytes)": {
        "notice": "Calulates the prize amount for a user for Multiple Draws. Typically called by a ClaimableDraw."
      },
      "claimableDraw()": {
        "notice": "ClaimableDraw associated with DrawCalculator"
      },
      "getDrawSettings(uint32)": {
        "notice": "Gets the DrawSettings for a draw id"
      },
      "initialize(address,address,address)": {
        "notice": "Initializer sets the initial parameters"
      },
      "manager()": {
        "notice": "Gets current _manager."
      },
      "setClaimableDraw(address)": {
        "notice": "Sets DrawSettings for a draw id. only callable by the owner or manager"
      },
      "setDrawSettings(uint32,(uint8,uint16,uint224,uint128[],uint256))": {
        "notice": "Sets DrawSettings for a draw id. only callable by the owner or manager"
      },
      "setManager(address)": {
        "notice": "Set or change of manager."
      }
    },
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 130,
        "contract": "@pooltogether/v4/contracts/TsunamiDrawCalculator.sol:TsunamiDrawCalculator",
        "label": "_initialized",
        "offset": 0,
        "slot": "0",
        "type": "t_bool"
      },
      {
        "astId": 133,
        "contract": "@pooltogether/v4/contracts/TsunamiDrawCalculator.sol:TsunamiDrawCalculator",
        "label": "_initializing",
        "offset": 1,
        "slot": "0",
        "type": "t_bool"
      },
      {
        "astId": 1781,
        "contract": "@pooltogether/v4/contracts/TsunamiDrawCalculator.sol:TsunamiDrawCalculator",
        "label": "__gap",
        "offset": 0,
        "slot": "1",
        "type": "t_array(t_uint256)50_storage"
      },
      {
        "astId": 10,
        "contract": "@pooltogether/v4/contracts/TsunamiDrawCalculator.sol:TsunamiDrawCalculator",
        "label": "_owner",
        "offset": 0,
        "slot": "51",
        "type": "t_address"
      },
      {
        "astId": 123,
        "contract": "@pooltogether/v4/contracts/TsunamiDrawCalculator.sol:TsunamiDrawCalculator",
        "label": "__gap",
        "offset": 0,
        "slot": "52",
        "type": "t_array(t_uint256)49_storage"
      },
      {
        "astId": 3408,
        "contract": "@pooltogether/v4/contracts/TsunamiDrawCalculator.sol:TsunamiDrawCalculator",
        "label": "_manager",
        "offset": 0,
        "slot": "101",
        "type": "t_address"
      },
      {
        "astId": 6775,
        "contract": "@pooltogether/v4/contracts/TsunamiDrawCalculator.sol:TsunamiDrawCalculator",
        "label": "ticket",
        "offset": 0,
        "slot": "102",
        "type": "t_contract(ITicket)8171"
      },
      {
        "astId": 6779,
        "contract": "@pooltogether/v4/contracts/TsunamiDrawCalculator.sol:TsunamiDrawCalculator",
        "label": "claimableDraw",
        "offset": 0,
        "slot": "103",
        "type": "t_contract(ClaimableDraw)4180"
      },
      {
        "astId": 6785,
        "contract": "@pooltogether/v4/contracts/TsunamiDrawCalculator.sol:TsunamiDrawCalculator",
        "label": "drawSettings",
        "offset": 0,
        "slot": "104",
        "type": "t_mapping(t_uint32,t_struct(DrawSettings)8192_storage)"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_array(t_uint128)dyn_storage": {
        "base": "t_uint128",
        "encoding": "dynamic_array",
        "label": "uint128[]",
        "numberOfBytes": "32"
      },
      "t_array(t_uint256)49_storage": {
        "base": "t_uint256",
        "encoding": "inplace",
        "label": "uint256[49]",
        "numberOfBytes": "1568"
      },
      "t_array(t_uint256)50_storage": {
        "base": "t_uint256",
        "encoding": "inplace",
        "label": "uint256[50]",
        "numberOfBytes": "1600"
      },
      "t_bool": {
        "encoding": "inplace",
        "label": "bool",
        "numberOfBytes": "1"
      },
      "t_contract(ClaimableDraw)4180": {
        "encoding": "inplace",
        "label": "contract ClaimableDraw",
        "numberOfBytes": "20"
      },
      "t_contract(ITicket)8171": {
        "encoding": "inplace",
        "label": "contract ITicket",
        "numberOfBytes": "20"
      },
      "t_mapping(t_uint32,t_struct(DrawSettings)8192_storage)": {
        "encoding": "mapping",
        "key": "t_uint32",
        "label": "mapping(uint32 => struct DrawLib.DrawSettings)",
        "numberOfBytes": "32",
        "value": "t_struct(DrawSettings)8192_storage"
      },
      "t_struct(DrawSettings)8192_storage": {
        "encoding": "inplace",
        "label": "struct DrawLib.DrawSettings",
        "members": [
          {
            "astId": 8182,
            "contract": "@pooltogether/v4/contracts/TsunamiDrawCalculator.sol:TsunamiDrawCalculator",
            "label": "bitRangeSize",
            "offset": 0,
            "slot": "0",
            "type": "t_uint8"
          },
          {
            "astId": 8184,
            "contract": "@pooltogether/v4/contracts/TsunamiDrawCalculator.sol:TsunamiDrawCalculator",
            "label": "matchCardinality",
            "offset": 1,
            "slot": "0",
            "type": "t_uint16"
          },
          {
            "astId": 8186,
            "contract": "@pooltogether/v4/contracts/TsunamiDrawCalculator.sol:TsunamiDrawCalculator",
            "label": "pickCost",
            "offset": 3,
            "slot": "0",
            "type": "t_uint224"
          },
          {
            "astId": 8189,
            "contract": "@pooltogether/v4/contracts/TsunamiDrawCalculator.sol:TsunamiDrawCalculator",
            "label": "distributions",
            "offset": 0,
            "slot": "1",
            "type": "t_array(t_uint128)dyn_storage"
          },
          {
            "astId": 8191,
            "contract": "@pooltogether/v4/contracts/TsunamiDrawCalculator.sol:TsunamiDrawCalculator",
            "label": "prize",
            "offset": 0,
            "slot": "2",
            "type": "t_uint256"
          }
        ],
        "numberOfBytes": "96"
      },
      "t_uint128": {
        "encoding": "inplace",
        "label": "uint128",
        "numberOfBytes": "16"
      },
      "t_uint16": {
        "encoding": "inplace",
        "label": "uint16",
        "numberOfBytes": "2"
      },
      "t_uint224": {
        "encoding": "inplace",
        "label": "uint224",
        "numberOfBytes": "28"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      },
      "t_uint32": {
        "encoding": "inplace",
        "label": "uint32",
        "numberOfBytes": "4"
      },
      "t_uint8": {
        "encoding": "inplace",
        "label": "uint8",
        "numberOfBytes": "1"
      }
    }
  }
}