{
  "address": "0x3F915a6502104a5d44c9951B7071f6B942BC07F0",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_owner",
          "type": "address"
        },
        {
          "internalType": "contract IERC20",
          "name": "_token",
          "type": "address"
        },
        {
          "internalType": "contract IDrawCalculator",
          "name": "_drawCalculator",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint32",
          "name": "drawId",
          "type": "uint32"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "payout",
          "type": "uint256"
        }
      ],
      "name": "ClaimedDraw",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "contract IDrawCalculator",
          "name": "calculator",
          "type": "address"
        }
      ],
      "name": "DrawCalculatorSet",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "contract IERC20",
          "name": "token",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "to",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "ERC20Withdrawn",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "pendingOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipOffered",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "contract IERC20",
          "name": "token",
          "type": "address"
        }
      ],
      "name": "TokenSet",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_user",
          "type": "address"
        },
        {
          "internalType": "uint32[]",
          "name": "_drawIds",
          "type": "uint32[]"
        },
        {
          "internalType": "bytes",
          "name": "_data",
          "type": "bytes"
        }
      ],
      "name": "claim",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "claimOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getDrawCalculator",
      "outputs": [
        {
          "internalType": "contract IDrawCalculator",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "uint32",
          "name": "drawId",
          "type": "uint32"
        }
      ],
      "name": "getDrawPayoutBalanceOf",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getToken",
      "outputs": [
        {
          "internalType": "contract IERC20",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "pendingOwner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "contract IDrawCalculator",
          "name": "_newCalculator",
          "type": "address"
        }
      ],
      "name": "setDrawCalculator",
      "outputs": [
        {
          "internalType": "contract IDrawCalculator",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "contract IERC20",
          "name": "_erc20Token",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_to",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_amount",
          "type": "uint256"
        }
      ],
      "name": "withdrawERC20",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "transactionHash": "0xaca67c56dfc7c0a0b189b56a21b512137e0bd9bd06878c4752685d94acfaaf10",
  "receipt": {
    "to": null,
    "from": "0x94996399E8c5667f377460D0f3A5037BfC6c1275",
    "contractAddress": "0x3F915a6502104a5d44c9951B7071f6B942BC07F0",
    "transactionIndex": 1,
    "gasUsed": "1085893",
    "logsBloom": "0x00000200000000000000000000000000000000000000000000800000002000000000000000008000000000000100000000018020040000000000000000000000000000000000800000000000000000800001002000000000200100000000000000000000020000000000000000000840000000000000000080000200000000400000000000000000000001000000000000080000000080000000000000080000200000000000000000000000000000000000000000000000000000000000024000000000000001000001000000000001000000000000000000100800000020000004000000000000000000000000000000000000000000000000000000100000",
    "blockHash": "0x0ebc161ff6e85e280a00d7e3d41dd7b6878cdbfab9727b708230b49f68280e9a",
    "transactionHash": "0xaca67c56dfc7c0a0b189b56a21b512137e0bd9bd06878c4752685d94acfaaf10",
    "logs": [
      {
        "transactionIndex": 1,
        "blockNumber": 19476588,
        "transactionHash": "0xaca67c56dfc7c0a0b189b56a21b512137e0bd9bd06878c4752685d94acfaaf10",
        "address": "0x3F915a6502104a5d44c9951B7071f6B942BC07F0",
        "topics": [
          "0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0",
          "0x0000000000000000000000000000000000000000000000000000000000000000",
          "0x00000000000000000000000094996399e8c5667f377460d0f3a5037bfc6c1275"
        ],
        "data": "0x",
        "logIndex": 1,
        "blockHash": "0x0ebc161ff6e85e280a00d7e3d41dd7b6878cdbfab9727b708230b49f68280e9a"
      },
      {
        "transactionIndex": 1,
        "blockNumber": 19476588,
        "transactionHash": "0xaca67c56dfc7c0a0b189b56a21b512137e0bd9bd06878c4752685d94acfaaf10",
        "address": "0x3F915a6502104a5d44c9951B7071f6B942BC07F0",
        "topics": [
          "0xff37eafdc3779d387d79dcf458fdc36536d857426f03a53204694f8fbb0d8a6b",
          "0x0000000000000000000000009081135166e4a100b8c0416e2b9d37ab34d6a469"
        ],
        "data": "0x",
        "logIndex": 2,
        "blockHash": "0x0ebc161ff6e85e280a00d7e3d41dd7b6878cdbfab9727b708230b49f68280e9a"
      },
      {
        "transactionIndex": 1,
        "blockNumber": 19476588,
        "transactionHash": "0xaca67c56dfc7c0a0b189b56a21b512137e0bd9bd06878c4752685d94acfaaf10",
        "address": "0x3F915a6502104a5d44c9951B7071f6B942BC07F0",
        "topics": [
          "0xa07c91c183e42229e705a9795a1c06d76528b673788b849597364528c96eefb7",
          "0x0000000000000000000000003fd60eb380caf325287d59903555a365f6e6a6e3"
        ],
        "data": "0x",
        "logIndex": 3,
        "blockHash": "0x0ebc161ff6e85e280a00d7e3d41dd7b6878cdbfab9727b708230b49f68280e9a"
      },
      {
        "transactionIndex": 1,
        "blockNumber": 19476588,
        "transactionHash": "0xaca67c56dfc7c0a0b189b56a21b512137e0bd9bd06878c4752685d94acfaaf10",
        "address": "0x0000000000000000000000000000000000001010",
        "topics": [
          "0x4dfe1bbbcf077ddc3e01291eea2d5c70c2b422b415d95645b9adcfd678cb1d63",
          "0x0000000000000000000000000000000000000000000000000000000000001010",
          "0x00000000000000000000000094996399e8c5667f377460d0f3a5037bfc6c1275",
          "0x000000000000000000000000e4b8e9222704401ad16d4d826732953daf07c7e2"
        ],
        "data": "0x000000000000000000000000000000000000000000000000000b92d77f96560000000000000000000000000000000000000000000000000003a59a58b1b0de0000000000000000000000000000000000000000000000000000eb1667fc756a00000000000000000000000000000000000000000000000000039a0781321a880000000000000000000000000000000000000000000000000000f6a93f7c0bc000",
        "logIndex": 4,
        "blockHash": "0x0ebc161ff6e85e280a00d7e3d41dd7b6878cdbfab9727b708230b49f68280e9a"
      }
    ],
    "blockNumber": 19476588,
    "cumulativeGasUsed": "1135592",
    "status": 1,
    "byzantium": true
  },
  "args": [
    "0x94996399E8c5667f377460D0f3A5037BfC6c1275",
    "0x3fD60Eb380Caf325287D59903555a365F6e6a6e3",
    "0x9081135166E4A100b8c0416e2B9d37aB34D6A469"
  ],
  "solcInputHash": "9708f009c357312991df75253b2932ee",
  "metadata": "{\"compiler\":{\"version\":\"0.8.6+commit.11564f7e\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_owner\",\"type\":\"address\"},{\"internalType\":\"contract IERC20\",\"name\":\"_token\",\"type\":\"address\"},{\"internalType\":\"contract IDrawCalculator\",\"name\":\"_drawCalculator\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint32\",\"name\":\"drawId\",\"type\":\"uint32\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"payout\",\"type\":\"uint256\"}],\"name\":\"ClaimedDraw\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"contract IDrawCalculator\",\"name\":\"calculator\",\"type\":\"address\"}],\"name\":\"DrawCalculatorSet\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"contract IERC20\",\"name\":\"token\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"ERC20Withdrawn\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"pendingOwner\",\"type\":\"address\"}],\"name\":\"OwnershipOffered\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"contract IERC20\",\"name\":\"token\",\"type\":\"address\"}],\"name\":\"TokenSet\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_user\",\"type\":\"address\"},{\"internalType\":\"uint32[]\",\"name\":\"_drawIds\",\"type\":\"uint32[]\"},{\"internalType\":\"bytes\",\"name\":\"_data\",\"type\":\"bytes\"}],\"name\":\"claim\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"claimOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getDrawCalculator\",\"outputs\":[{\"internalType\":\"contract IDrawCalculator\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"uint32\",\"name\":\"drawId\",\"type\":\"uint32\"}],\"name\":\"getDrawPayoutBalanceOf\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getToken\",\"outputs\":[{\"internalType\":\"contract IERC20\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"pendingOwner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract IDrawCalculator\",\"name\":\"_newCalculator\",\"type\":\"address\"}],\"name\":\"setDrawCalculator\",\"outputs\":[{\"internalType\":\"contract IDrawCalculator\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract IERC20\",\"name\":\"_erc20Token\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"withdrawERC20\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"author\":\"PoolTogether Inc Team\",\"kind\":\"dev\",\"methods\":{\"claim(address,uint32[],bytes)\":{\"params\":{\"data\":\"The data to pass to the draw calculator\",\"drawIds\":\"Draw IDs from global DrawHistory reference\",\"user\":\"Address of user to claim awards for. Does NOT need to be msg.sender\"},\"returns\":{\"_0\":\"Actual claim payout.  If the user has previously claimed a draw, this may be less.\"}},\"claimOwnership()\":{\"details\":\"This function is only callable by the `_pendingOwner`.\"},\"constructor\":{\"params\":{\"_drawCalculator\":\"DrawCalculator address\",\"_owner\":\"Address of the DrawPrizes owner\",\"_token\":\"Token address\"}},\"getDrawCalculator()\":{\"returns\":{\"_0\":\"IDrawCalculator\"}},\"getDrawPayoutBalanceOf(address,uint32)\":{\"params\":{\"drawId\":\"Draw ID\",\"user\":\"User address\"}},\"getToken()\":{\"returns\":{\"_0\":\"IERC20\"}},\"pendingOwner()\":{\"returns\":{\"_0\":\"Current `_pendingOwner` address.\"}},\"renounceOwnership()\":{\"details\":\"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions anymore. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby removing any functionality that is only available to the owner.\"},\"setDrawCalculator(address)\":{\"params\":{\"_newCalculator\":\"DrawCalculator address\"},\"returns\":{\"_0\":\"New DrawCalculator address\"}},\"transferOwnership(address)\":{\"params\":{\"_newOwner\":\"Address to transfer ownership to.\"}},\"withdrawERC20(address,address,uint256)\":{\"details\":\"This function is only callable by the owner.\",\"params\":{\"_amount\":\"Amount of tokens to transfer.\",\"_erc20Token\":\"ERC20 token to transfer.\",\"_to\":\"Recipient of the tokens.\"},\"returns\":{\"_0\":\"true if operation is successful.\"}}},\"title\":\"PoolTogether V4 DrawPrizes\",\"version\":1},\"userdoc\":{\"events\":{\"ClaimedDraw(address,uint32,uint256)\":{\"notice\":\"Emitted when a user has claimed N draw payouts.\"},\"DrawCalculatorSet(address)\":{\"notice\":\"Emitted when a DrawCalculator is set\"},\"ERC20Withdrawn(address,address,uint256)\":{\"notice\":\"Emitted when ERC20 tokens are withdrawn from the claimable draw.\"},\"TokenSet(address)\":{\"notice\":\"Emitted when a global Ticket variable is set.\"}},\"kind\":\"user\",\"methods\":{\"claim(address,uint32[],bytes)\":{\"notice\":\"Claim a user token payouts via a collection of draw ids and pick indices.\"},\"claimOwnership()\":{\"notice\":\"Allows the `_pendingOwner` address to finalize the transfer.\"},\"constructor\":{\"notice\":\"Initialize DrawPrizes smart contract.\"},\"getDrawCalculator()\":{\"notice\":\"Read DrawCalculator\"},\"getDrawPayoutBalanceOf(address,uint32)\":{\"notice\":\"Get the amount that a user has already been paid out for a draw\"},\"getToken()\":{\"notice\":\"Read global Ticket variable.\"},\"owner()\":{\"notice\":\"Returns the address of the current owner.\"},\"pendingOwner()\":{\"notice\":\"Gets current `_pendingOwner`.\"},\"renounceOwnership()\":{\"notice\":\"Renounce ownership of the contract.\"},\"setDrawCalculator(address)\":{\"notice\":\"Sets DrawCalculator reference for individual draw id.\"},\"transferOwnership(address)\":{\"notice\":\"Allows current owner to set the `_pendingOwner` address.\"},\"withdrawERC20(address,address,uint256)\":{\"notice\":\"Transfer ERC20 tokens out of this contract.\"}},\"notice\":\"The DrawPrizes distributes claimable draw prizes to users via a pull model. Managing the regularly captured PrizePool interest, a DrawPrizes is the entrypoint for users to submit Draw.drawId(s) and winning pick indices. Communicating with a DrawCalculator, the DrawPrizes will determine the maximum prize payout and transfer those tokens directly to a user address. \",\"version\":1}},\"settings\":{\"compilationTarget\":{\"@pooltogether/v4-core/contracts/DrawPrizes.sol\":\"DrawPrizes\"},\"evmVersion\":\"berlin\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":2000},\"remappings\":[]},\"sources\":{\"@openzeppelin/contracts/token/ERC20/IERC20.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Interface of the ERC20 standard as defined in the EIP.\\n */\\ninterface IERC20 {\\n    /**\\n     * @dev Returns the amount of tokens in existence.\\n     */\\n    function totalSupply() external view returns (uint256);\\n\\n    /**\\n     * @dev Returns the amount of tokens owned by `account`.\\n     */\\n    function balanceOf(address account) external view returns (uint256);\\n\\n    /**\\n     * @dev Moves `amount` tokens from the caller's account to `recipient`.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * Emits a {Transfer} event.\\n     */\\n    function transfer(address recipient, uint256 amount) external returns (bool);\\n\\n    /**\\n     * @dev Returns the remaining number of tokens that `spender` will be\\n     * allowed to spend on behalf of `owner` through {transferFrom}. This is\\n     * zero by default.\\n     *\\n     * This value changes when {approve} or {transferFrom} are called.\\n     */\\n    function allowance(address owner, address spender) external view returns (uint256);\\n\\n    /**\\n     * @dev Sets `amount` as the allowance of `spender` over the caller's tokens.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * IMPORTANT: Beware that changing an allowance with this method brings the risk\\n     * that someone may use both the old and the new allowance by unfortunate\\n     * transaction ordering. One possible solution to mitigate this race\\n     * condition is to first reduce the spender's allowance to 0 and set the\\n     * desired value afterwards:\\n     * https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729\\n     *\\n     * Emits an {Approval} event.\\n     */\\n    function approve(address spender, uint256 amount) external returns (bool);\\n\\n    /**\\n     * @dev Moves `amount` tokens from `sender` to `recipient` using the\\n     * allowance mechanism. `amount` is then deducted from the caller's\\n     * allowance.\\n     *\\n     * Returns a boolean value indicating whether the operation succeeded.\\n     *\\n     * Emits a {Transfer} event.\\n     */\\n    function transferFrom(\\n        address sender,\\n        address recipient,\\n        uint256 amount\\n    ) external returns (bool);\\n\\n    /**\\n     * @dev Emitted when `value` tokens are moved from one account (`from`) to\\n     * another (`to`).\\n     *\\n     * Note that `value` may be zero.\\n     */\\n    event Transfer(address indexed from, address indexed to, uint256 value);\\n\\n    /**\\n     * @dev Emitted when the allowance of a `spender` for an `owner` is set by\\n     * a call to {approve}. `value` is the new allowance.\\n     */\\n    event Approval(address indexed owner, address indexed spender, uint256 value);\\n}\\n\",\"keccak256\":\"0x027b891937d20ccf213fdb9c31531574256de774bda99d3a70ecef6e1913ed2a\",\"license\":\"MIT\"},\"@openzeppelin/contracts/token/ERC20/utils/SafeERC20.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.0;\\n\\nimport \\\"../IERC20.sol\\\";\\nimport \\\"../../../utils/Address.sol\\\";\\n\\n/**\\n * @title SafeERC20\\n * @dev Wrappers around ERC20 operations that throw on failure (when the token\\n * contract returns false). Tokens that return no value (and instead revert or\\n * throw on failure) are also supported, non-reverting calls are assumed to be\\n * successful.\\n * To use this library you can add a `using SafeERC20 for IERC20;` statement to your contract,\\n * which allows you to call the safe operations as `token.safeTransfer(...)`, etc.\\n */\\nlibrary SafeERC20 {\\n    using Address for address;\\n\\n    function safeTransfer(\\n        IERC20 token,\\n        address to,\\n        uint256 value\\n    ) internal {\\n        _callOptionalReturn(token, abi.encodeWithSelector(token.transfer.selector, to, value));\\n    }\\n\\n    function safeTransferFrom(\\n        IERC20 token,\\n        address from,\\n        address to,\\n        uint256 value\\n    ) internal {\\n        _callOptionalReturn(token, abi.encodeWithSelector(token.transferFrom.selector, from, to, value));\\n    }\\n\\n    /**\\n     * @dev Deprecated. This function has issues similar to the ones found in\\n     * {IERC20-approve}, and its usage is discouraged.\\n     *\\n     * Whenever possible, use {safeIncreaseAllowance} and\\n     * {safeDecreaseAllowance} instead.\\n     */\\n    function safeApprove(\\n        IERC20 token,\\n        address spender,\\n        uint256 value\\n    ) internal {\\n        // safeApprove should only be called when setting an initial allowance,\\n        // or when resetting it to zero. To increase and decrease it, use\\n        // 'safeIncreaseAllowance' and 'safeDecreaseAllowance'\\n        require(\\n            (value == 0) || (token.allowance(address(this), spender) == 0),\\n            \\\"SafeERC20: approve from non-zero to non-zero allowance\\\"\\n        );\\n        _callOptionalReturn(token, abi.encodeWithSelector(token.approve.selector, spender, value));\\n    }\\n\\n    function safeIncreaseAllowance(\\n        IERC20 token,\\n        address spender,\\n        uint256 value\\n    ) internal {\\n        uint256 newAllowance = token.allowance(address(this), spender) + value;\\n        _callOptionalReturn(token, abi.encodeWithSelector(token.approve.selector, spender, newAllowance));\\n    }\\n\\n    function safeDecreaseAllowance(\\n        IERC20 token,\\n        address spender,\\n        uint256 value\\n    ) internal {\\n        unchecked {\\n            uint256 oldAllowance = token.allowance(address(this), spender);\\n            require(oldAllowance >= value, \\\"SafeERC20: decreased allowance below zero\\\");\\n            uint256 newAllowance = oldAllowance - value;\\n            _callOptionalReturn(token, abi.encodeWithSelector(token.approve.selector, spender, newAllowance));\\n        }\\n    }\\n\\n    /**\\n     * @dev Imitates a Solidity high-level call (i.e. a regular function call to a contract), relaxing the requirement\\n     * on the return value: the return value is optional (but if data is returned, it must not be false).\\n     * @param token The token targeted by the call.\\n     * @param data The call data (encoded using abi.encode or one of its variants).\\n     */\\n    function _callOptionalReturn(IERC20 token, bytes memory data) private {\\n        // We need to perform a low level call here, to bypass Solidity's return data size checking mechanism, since\\n        // we're implementing it ourselves. We use {Address.functionCall} to perform this call, which verifies that\\n        // the target address contains contract code and also asserts for success in the low-level call.\\n\\n        bytes memory returndata = address(token).functionCall(data, \\\"SafeERC20: low-level call failed\\\");\\n        if (returndata.length > 0) {\\n            // Return data is optional\\n            require(abi.decode(returndata, (bool)), \\\"SafeERC20: ERC20 operation did not succeed\\\");\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0x02348b2e4b9f3200c7e3907c5c2661643a6d8520e9f79939fbb9b4005a54894d\",\"license\":\"MIT\"},\"@openzeppelin/contracts/utils/Address.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Collection of functions related to the address type\\n */\\nlibrary Address {\\n    /**\\n     * @dev Returns true if `account` is a contract.\\n     *\\n     * [IMPORTANT]\\n     * ====\\n     * It is unsafe to assume that an address for which this function returns\\n     * false is an externally-owned account (EOA) and not a contract.\\n     *\\n     * Among others, `isContract` will return false for the following\\n     * types of addresses:\\n     *\\n     *  - an externally-owned account\\n     *  - a contract in construction\\n     *  - an address where a contract will be created\\n     *  - an address where a contract lived, but was destroyed\\n     * ====\\n     */\\n    function isContract(address account) internal view returns (bool) {\\n        // This method relies on extcodesize, which returns 0 for contracts in\\n        // construction, since the code is only stored at the end of the\\n        // constructor execution.\\n\\n        uint256 size;\\n        assembly {\\n            size := extcodesize(account)\\n        }\\n        return size > 0;\\n    }\\n\\n    /**\\n     * @dev Replacement for Solidity's `transfer`: sends `amount` wei to\\n     * `recipient`, forwarding all available gas and reverting on errors.\\n     *\\n     * https://eips.ethereum.org/EIPS/eip-1884[EIP1884] increases the gas cost\\n     * of certain opcodes, possibly making contracts go over the 2300 gas limit\\n     * imposed by `transfer`, making them unable to receive funds via\\n     * `transfer`. {sendValue} removes this limitation.\\n     *\\n     * https://diligence.consensys.net/posts/2019/09/stop-using-soliditys-transfer-now/[Learn more].\\n     *\\n     * IMPORTANT: because control is transferred to `recipient`, care must be\\n     * taken to not create reentrancy vulnerabilities. Consider using\\n     * {ReentrancyGuard} or the\\n     * https://solidity.readthedocs.io/en/v0.5.11/security-considerations.html#use-the-checks-effects-interactions-pattern[checks-effects-interactions pattern].\\n     */\\n    function sendValue(address payable recipient, uint256 amount) internal {\\n        require(address(this).balance >= amount, \\\"Address: insufficient balance\\\");\\n\\n        (bool success, ) = recipient.call{value: amount}(\\\"\\\");\\n        require(success, \\\"Address: unable to send value, recipient may have reverted\\\");\\n    }\\n\\n    /**\\n     * @dev Performs a Solidity function call using a low level `call`. A\\n     * plain `call` is an unsafe replacement for a function call: use this\\n     * function instead.\\n     *\\n     * If `target` reverts with a revert reason, it is bubbled up by this\\n     * function (like regular Solidity function calls).\\n     *\\n     * Returns the raw returned data. To convert to the expected return value,\\n     * use https://solidity.readthedocs.io/en/latest/units-and-global-variables.html?highlight=abi.decode#abi-encoding-and-decoding-functions[`abi.decode`].\\n     *\\n     * Requirements:\\n     *\\n     * - `target` must be a contract.\\n     * - calling `target` with `data` must not revert.\\n     *\\n     * _Available since v3.1._\\n     */\\n    function functionCall(address target, bytes memory data) internal returns (bytes memory) {\\n        return functionCall(target, data, \\\"Address: low-level call failed\\\");\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`], but with\\n     * `errorMessage` as a fallback revert reason when `target` reverts.\\n     *\\n     * _Available since v3.1._\\n     */\\n    function functionCall(\\n        address target,\\n        bytes memory data,\\n        string memory errorMessage\\n    ) internal returns (bytes memory) {\\n        return functionCallWithValue(target, data, 0, errorMessage);\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],\\n     * but also transferring `value` wei to `target`.\\n     *\\n     * Requirements:\\n     *\\n     * - the calling contract must have an ETH balance of at least `value`.\\n     * - the called Solidity function must be `payable`.\\n     *\\n     * _Available since v3.1._\\n     */\\n    function functionCallWithValue(\\n        address target,\\n        bytes memory data,\\n        uint256 value\\n    ) internal returns (bytes memory) {\\n        return functionCallWithValue(target, data, value, \\\"Address: low-level call with value failed\\\");\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCallWithValue-address-bytes-uint256-}[`functionCallWithValue`], but\\n     * with `errorMessage` as a fallback revert reason when `target` reverts.\\n     *\\n     * _Available since v3.1._\\n     */\\n    function functionCallWithValue(\\n        address target,\\n        bytes memory data,\\n        uint256 value,\\n        string memory errorMessage\\n    ) internal returns (bytes memory) {\\n        require(address(this).balance >= value, \\\"Address: insufficient balance for call\\\");\\n        require(isContract(target), \\\"Address: call to non-contract\\\");\\n\\n        (bool success, bytes memory returndata) = target.call{value: value}(data);\\n        return verifyCallResult(success, returndata, errorMessage);\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],\\n     * but performing a static call.\\n     *\\n     * _Available since v3.3._\\n     */\\n    function functionStaticCall(address target, bytes memory data) internal view returns (bytes memory) {\\n        return functionStaticCall(target, data, \\\"Address: low-level static call failed\\\");\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCall-address-bytes-string-}[`functionCall`],\\n     * but performing a static call.\\n     *\\n     * _Available since v3.3._\\n     */\\n    function functionStaticCall(\\n        address target,\\n        bytes memory data,\\n        string memory errorMessage\\n    ) internal view returns (bytes memory) {\\n        require(isContract(target), \\\"Address: static call to non-contract\\\");\\n\\n        (bool success, bytes memory returndata) = target.staticcall(data);\\n        return verifyCallResult(success, returndata, errorMessage);\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCall-address-bytes-}[`functionCall`],\\n     * but performing a delegate call.\\n     *\\n     * _Available since v3.4._\\n     */\\n    function functionDelegateCall(address target, bytes memory data) internal returns (bytes memory) {\\n        return functionDelegateCall(target, data, \\\"Address: low-level delegate call failed\\\");\\n    }\\n\\n    /**\\n     * @dev Same as {xref-Address-functionCall-address-bytes-string-}[`functionCall`],\\n     * but performing a delegate call.\\n     *\\n     * _Available since v3.4._\\n     */\\n    function functionDelegateCall(\\n        address target,\\n        bytes memory data,\\n        string memory errorMessage\\n    ) internal returns (bytes memory) {\\n        require(isContract(target), \\\"Address: delegate call to non-contract\\\");\\n\\n        (bool success, bytes memory returndata) = target.delegatecall(data);\\n        return verifyCallResult(success, returndata, errorMessage);\\n    }\\n\\n    /**\\n     * @dev Tool to verifies that a low level call was successful, and revert if it wasn't, either by bubbling the\\n     * revert reason using the provided one.\\n     *\\n     * _Available since v4.3._\\n     */\\n    function verifyCallResult(\\n        bool success,\\n        bytes memory returndata,\\n        string memory errorMessage\\n    ) internal pure returns (bytes memory) {\\n        if (success) {\\n            return returndata;\\n        } else {\\n            // Look for revert reason and bubble it up if present\\n            if (returndata.length > 0) {\\n                // The easiest way to bubble the revert reason is using memory via assembly\\n\\n                assembly {\\n                    let returndata_size := mload(returndata)\\n                    revert(add(32, returndata), returndata_size)\\n                }\\n            } else {\\n                revert(errorMessage);\\n            }\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0x3336baae5cf23e94274d75336e2d412193be508504aee185e61dc7d58cd05c8a\",\"license\":\"MIT\"},\"@openzeppelin/contracts/utils/math/SafeCast.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Wrappers over Solidity's uintXX/intXX casting operators with added overflow\\n * checks.\\n *\\n * Downcasting from uint256/int256 in Solidity does not revert on overflow. This can\\n * easily result in undesired exploitation or bugs, since developers usually\\n * assume that overflows raise errors. `SafeCast` restores this intuition by\\n * reverting the transaction when such an operation overflows.\\n *\\n * Using this library instead of the unchecked operations eliminates an entire\\n * class of bugs, so it's recommended to use it always.\\n *\\n * Can be combined with {SafeMath} and {SignedSafeMath} to extend it to smaller types, by performing\\n * all math on `uint256` and `int256` and then downcasting.\\n */\\nlibrary SafeCast {\\n    /**\\n     * @dev Returns the downcasted uint224 from uint256, reverting on\\n     * overflow (when the input is greater than largest uint224).\\n     *\\n     * Counterpart to Solidity's `uint224` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - input must fit into 224 bits\\n     */\\n    function toUint224(uint256 value) internal pure returns (uint224) {\\n        require(value <= type(uint224).max, \\\"SafeCast: value doesn't fit in 224 bits\\\");\\n        return uint224(value);\\n    }\\n\\n    /**\\n     * @dev Returns the downcasted uint128 from uint256, reverting on\\n     * overflow (when the input is greater than largest uint128).\\n     *\\n     * Counterpart to Solidity's `uint128` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - input must fit into 128 bits\\n     */\\n    function toUint128(uint256 value) internal pure returns (uint128) {\\n        require(value <= type(uint128).max, \\\"SafeCast: value doesn't fit in 128 bits\\\");\\n        return uint128(value);\\n    }\\n\\n    /**\\n     * @dev Returns the downcasted uint96 from uint256, reverting on\\n     * overflow (when the input is greater than largest uint96).\\n     *\\n     * Counterpart to Solidity's `uint96` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - input must fit into 96 bits\\n     */\\n    function toUint96(uint256 value) internal pure returns (uint96) {\\n        require(value <= type(uint96).max, \\\"SafeCast: value doesn't fit in 96 bits\\\");\\n        return uint96(value);\\n    }\\n\\n    /**\\n     * @dev Returns the downcasted uint64 from uint256, reverting on\\n     * overflow (when the input is greater than largest uint64).\\n     *\\n     * Counterpart to Solidity's `uint64` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - input must fit into 64 bits\\n     */\\n    function toUint64(uint256 value) internal pure returns (uint64) {\\n        require(value <= type(uint64).max, \\\"SafeCast: value doesn't fit in 64 bits\\\");\\n        return uint64(value);\\n    }\\n\\n    /**\\n     * @dev Returns the downcasted uint32 from uint256, reverting on\\n     * overflow (when the input is greater than largest uint32).\\n     *\\n     * Counterpart to Solidity's `uint32` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - input must fit into 32 bits\\n     */\\n    function toUint32(uint256 value) internal pure returns (uint32) {\\n        require(value <= type(uint32).max, \\\"SafeCast: value doesn't fit in 32 bits\\\");\\n        return uint32(value);\\n    }\\n\\n    /**\\n     * @dev Returns the downcasted uint16 from uint256, reverting on\\n     * overflow (when the input is greater than largest uint16).\\n     *\\n     * Counterpart to Solidity's `uint16` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - input must fit into 16 bits\\n     */\\n    function toUint16(uint256 value) internal pure returns (uint16) {\\n        require(value <= type(uint16).max, \\\"SafeCast: value doesn't fit in 16 bits\\\");\\n        return uint16(value);\\n    }\\n\\n    /**\\n     * @dev Returns the downcasted uint8 from uint256, reverting on\\n     * overflow (when the input is greater than largest uint8).\\n     *\\n     * Counterpart to Solidity's `uint8` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - input must fit into 8 bits.\\n     */\\n    function toUint8(uint256 value) internal pure returns (uint8) {\\n        require(value <= type(uint8).max, \\\"SafeCast: value doesn't fit in 8 bits\\\");\\n        return uint8(value);\\n    }\\n\\n    /**\\n     * @dev Converts a signed int256 into an unsigned uint256.\\n     *\\n     * Requirements:\\n     *\\n     * - input must be greater than or equal to 0.\\n     */\\n    function toUint256(int256 value) internal pure returns (uint256) {\\n        require(value >= 0, \\\"SafeCast: value must be positive\\\");\\n        return uint256(value);\\n    }\\n\\n    /**\\n     * @dev Returns the downcasted int128 from int256, reverting on\\n     * overflow (when the input is less than smallest int128 or\\n     * greater than largest int128).\\n     *\\n     * Counterpart to Solidity's `int128` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - input must fit into 128 bits\\n     *\\n     * _Available since v3.1._\\n     */\\n    function toInt128(int256 value) internal pure returns (int128) {\\n        require(value >= type(int128).min && value <= type(int128).max, \\\"SafeCast: value doesn't fit in 128 bits\\\");\\n        return int128(value);\\n    }\\n\\n    /**\\n     * @dev Returns the downcasted int64 from int256, reverting on\\n     * overflow (when the input is less than smallest int64 or\\n     * greater than largest int64).\\n     *\\n     * Counterpart to Solidity's `int64` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - input must fit into 64 bits\\n     *\\n     * _Available since v3.1._\\n     */\\n    function toInt64(int256 value) internal pure returns (int64) {\\n        require(value >= type(int64).min && value <= type(int64).max, \\\"SafeCast: value doesn't fit in 64 bits\\\");\\n        return int64(value);\\n    }\\n\\n    /**\\n     * @dev Returns the downcasted int32 from int256, reverting on\\n     * overflow (when the input is less than smallest int32 or\\n     * greater than largest int32).\\n     *\\n     * Counterpart to Solidity's `int32` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - input must fit into 32 bits\\n     *\\n     * _Available since v3.1._\\n     */\\n    function toInt32(int256 value) internal pure returns (int32) {\\n        require(value >= type(int32).min && value <= type(int32).max, \\\"SafeCast: value doesn't fit in 32 bits\\\");\\n        return int32(value);\\n    }\\n\\n    /**\\n     * @dev Returns the downcasted int16 from int256, reverting on\\n     * overflow (when the input is less than smallest int16 or\\n     * greater than largest int16).\\n     *\\n     * Counterpart to Solidity's `int16` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - input must fit into 16 bits\\n     *\\n     * _Available since v3.1._\\n     */\\n    function toInt16(int256 value) internal pure returns (int16) {\\n        require(value >= type(int16).min && value <= type(int16).max, \\\"SafeCast: value doesn't fit in 16 bits\\\");\\n        return int16(value);\\n    }\\n\\n    /**\\n     * @dev Returns the downcasted int8 from int256, reverting on\\n     * overflow (when the input is less than smallest int8 or\\n     * greater than largest int8).\\n     *\\n     * Counterpart to Solidity's `int8` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - input must fit into 8 bits.\\n     *\\n     * _Available since v3.1._\\n     */\\n    function toInt8(int256 value) internal pure returns (int8) {\\n        require(value >= type(int8).min && value <= type(int8).max, \\\"SafeCast: value doesn't fit in 8 bits\\\");\\n        return int8(value);\\n    }\\n\\n    /**\\n     * @dev Converts an unsigned uint256 into a signed int256.\\n     *\\n     * Requirements:\\n     *\\n     * - input must be less than or equal to maxInt256.\\n     */\\n    function toInt256(uint256 value) internal pure returns (int256) {\\n        // Note: Unsafe cast below is okay because `type(int256).max` is guaranteed to be positive\\n        require(value <= uint256(type(int256).max), \\\"SafeCast: value doesn't fit in an int256\\\");\\n        return int256(value);\\n    }\\n}\\n\",\"keccak256\":\"0x08d867b4c0bb782b9135691fa732b6846e0f133006489c3aa505abd1f6de56cb\",\"license\":\"MIT\"},\"@pooltogether/owner-manager-contracts/contracts/Manageable.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0\\n\\npragma solidity ^0.8.0;\\n\\nimport \\\"./Ownable.sol\\\";\\n\\n/**\\n * @title Abstract manageable contract that can be inherited by other contracts\\n * @notice Contract module based on Ownable which provides a basic access control mechanism, where\\n * there is an owner and a manager that can be granted exclusive access to specific functions.\\n *\\n * By default, the owner is the deployer of the contract.\\n *\\n * The owner account is set through a two steps process.\\n *      1. The current `owner` calls {transferOwnership} to set a `pendingOwner`\\n *      2. The `pendingOwner` calls {acceptOwnership} to accept the ownership transfer\\n *\\n * The manager account needs to be set using {setManager}.\\n *\\n * This module is used through inheritance. It will make available the modifier\\n * `onlyManager`, which can be applied to your functions to restrict their use to\\n * the manager.\\n */\\nabstract contract Manageable is Ownable {\\n    address private _manager;\\n\\n    /**\\n     * @dev Emitted when `_manager` has been changed.\\n     * @param previousManager previous `_manager` address.\\n     * @param newManager new `_manager` address.\\n     */\\n    event ManagerTransferred(address indexed previousManager, address indexed newManager);\\n\\n    /* ============ External Functions ============ */\\n\\n    /**\\n     * @notice Gets current `_manager`.\\n     * @return Current `_manager` address.\\n     */\\n    function manager() public view virtual returns (address) {\\n        return _manager;\\n    }\\n\\n    /**\\n     * @notice Set or change of manager.\\n     * @dev Throws if called by any account other than the owner.\\n     * @param _newManager New _manager address.\\n     * @return Boolean to indicate if the operation was successful or not.\\n     */\\n    function setManager(address _newManager) external onlyOwner returns (bool) {\\n        return _setManager(_newManager);\\n    }\\n\\n    /* ============ Internal Functions ============ */\\n\\n    /**\\n     * @notice Set or change of manager.\\n     * @param _newManager New _manager address.\\n     * @return Boolean to indicate if the operation was successful or not.\\n     */\\n    function _setManager(address _newManager) private returns (bool) {\\n        address _previousManager = _manager;\\n\\n        require(_newManager != _previousManager, \\\"Manageable/existing-manager-address\\\");\\n\\n        _manager = _newManager;\\n\\n        emit ManagerTransferred(_previousManager, _newManager);\\n        return true;\\n    }\\n\\n    /* ============ Modifier Functions ============ */\\n\\n    /**\\n     * @dev Throws if called by any account other than the manager.\\n     */\\n    modifier onlyManager() {\\n        require(manager() == msg.sender, \\\"Manageable/caller-not-manager\\\");\\n        _;\\n    }\\n\\n    /**\\n     * @dev Throws if called by any account other than the manager or the owner.\\n     */\\n    modifier onlyManagerOrOwner() {\\n        require(manager() == msg.sender || owner() == msg.sender, \\\"Manageable/caller-not-manager-or-owner\\\");\\n        _;\\n    }\\n}\\n\",\"keccak256\":\"0xdd8ac008df192c6aa4df83e7037ab090970fda38e1f9fd712bc0ab5e0485fc04\",\"license\":\"GPL-3.0\"},\"@pooltogether/owner-manager-contracts/contracts/Ownable.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @title Abstract ownable contract that can be inherited by other contracts\\n * @notice Contract module which provides a basic access control mechanism, where\\n * there is an account (an owner) that can be granted exclusive access to\\n * specific functions.\\n *\\n * By default, the owner is the deployer of the contract.\\n *\\n * The owner account is set through a two steps process.\\n *      1. The current `owner` calls {transferOwnership} to set a `pendingOwner`\\n *      2. The `pendingOwner` calls {acceptOwnership} to accept the ownership transfer\\n *\\n * The manager account needs to be set using {setManager}.\\n *\\n * This module is used through inheritance. It will make available the modifier\\n * `onlyOwner`, which can be applied to your functions to restrict their use to\\n * the owner.\\n */\\nabstract contract Ownable {\\n    address private _owner;\\n    address private _pendingOwner;\\n\\n    /**\\n     * @dev Emitted when `_pendingOwner` has been changed.\\n     * @param pendingOwner new `_pendingOwner` address.\\n     */\\n    event OwnershipOffered(address indexed pendingOwner);\\n\\n    /**\\n     * @dev Emitted when `_owner` has been changed.\\n     * @param previousOwner previous `_owner` address.\\n     * @param newOwner new `_owner` address.\\n     */\\n    event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);\\n\\n    /* ============ Deploy ============ */\\n\\n    /**\\n     * @notice Initializes the contract setting `_initialOwner` as the initial owner.\\n     * @param _initialOwner Initial owner of the contract.\\n     */\\n    constructor(address _initialOwner) {\\n        _setOwner(_initialOwner);\\n    }\\n\\n    /* ============ External Functions ============ */\\n\\n    /**\\n     * @notice Returns the address of the current owner.\\n     */\\n    function owner() public view virtual returns (address) {\\n        return _owner;\\n    }\\n\\n    /**\\n     * @notice Gets current `_pendingOwner`.\\n     * @return Current `_pendingOwner` address.\\n     */\\n    function pendingOwner() external view virtual returns (address) {\\n        return _pendingOwner;\\n    }\\n\\n    /**\\n     * @notice Renounce ownership of the contract.\\n     * @dev Leaves the contract without owner. It will not be possible to call\\n     * `onlyOwner` functions anymore. Can only be called by the current owner.\\n     *\\n     * NOTE: Renouncing ownership will leave the contract without an owner,\\n     * thereby removing any functionality that is only available to the owner.\\n     */\\n    function renounceOwnership() external virtual onlyOwner {\\n        _setOwner(address(0));\\n    }\\n\\n    /**\\n    * @notice Allows current owner to set the `_pendingOwner` address.\\n    * @param _newOwner Address to transfer ownership to.\\n    */\\n    function transferOwnership(address _newOwner) external onlyOwner {\\n        require(_newOwner != address(0), \\\"Ownable/pendingOwner-not-zero-address\\\");\\n\\n        _pendingOwner = _newOwner;\\n\\n        emit OwnershipOffered(_newOwner);\\n    }\\n\\n    /**\\n    * @notice Allows the `_pendingOwner` address to finalize the transfer.\\n    * @dev This function is only callable by the `_pendingOwner`.\\n    */\\n    function claimOwnership() external onlyPendingOwner {\\n        _setOwner(_pendingOwner);\\n        _pendingOwner = address(0);\\n    }\\n\\n    /* ============ Internal Functions ============ */\\n\\n    /**\\n     * @notice Internal function to set the `_owner` of the contract.\\n     * @param _newOwner New `_owner` address.\\n     */\\n    function _setOwner(address _newOwner) private {\\n        address _oldOwner = _owner;\\n        _owner = _newOwner;\\n        emit OwnershipTransferred(_oldOwner, _newOwner);\\n    }\\n\\n    /* ============ Modifier Functions ============ */\\n\\n    /**\\n     * @dev Throws if called by any account other than the owner.\\n     */\\n    modifier onlyOwner() {\\n        require(owner() == msg.sender, \\\"Ownable/caller-not-owner\\\");\\n        _;\\n    }\\n\\n    /**\\n    * @dev Throws if called by any account other than the `pendingOwner`.\\n    */\\n    modifier onlyPendingOwner() {\\n        require(msg.sender == _pendingOwner, \\\"Ownable/caller-not-pendingOwner\\\");\\n        _;\\n    }\\n}\\n\",\"keccak256\":\"0xfd0fd374812c8af45f2633cc7cc4811ccb7bad0a3902a43aded35939eb4a00d1\",\"license\":\"GPL-3.0\"},\"@pooltogether/v4-core/contracts/DrawPrizes.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0\\npragma solidity 0.8.6;\\nimport \\\"@openzeppelin/contracts/token/ERC20/IERC20.sol\\\";\\nimport \\\"@openzeppelin/contracts/token/ERC20/utils/SafeERC20.sol\\\";\\nimport \\\"@pooltogether/owner-manager-contracts/contracts/Ownable.sol\\\";\\nimport \\\"./interfaces/IDrawPrizes.sol\\\";\\nimport \\\"./interfaces/IDrawCalculator.sol\\\";\\nimport \\\"./libraries/DrawLib.sol\\\";\\n\\n/**\\n  * @title  PoolTogether V4 DrawPrizes\\n  * @author PoolTogether Inc Team\\n  * @notice The DrawPrizes distributes claimable draw prizes to users via a pull model.\\n            Managing the regularly captured PrizePool interest, a DrawPrizes is the\\n            entrypoint for users to submit Draw.drawId(s) and winning pick indices.\\n            Communicating with a DrawCalculator, the DrawPrizes will determine the maximum\\n            prize payout and transfer those tokens directly to a user address. \\n*/\\ncontract DrawPrizes is IDrawPrizes, Ownable {\\n  using SafeERC20 for IERC20;\\n\\n  /* ============ Global Variables ============ */\\n\\n  /// @notice The Draw Calculator to use\\n  IDrawCalculator internal drawCalculator;\\n  \\n  /// @notice Token address\\n  IERC20          internal immutable token;\\n\\n  /// @notice Maps users => drawId => paid out balance\\n  mapping(address => mapping(uint256 => uint256)) internal userDrawPayouts;\\n\\n  /* ============ Initialize ============ */\\n\\n  /**\\n    * @notice Initialize DrawPrizes smart contract.\\n    * @param _owner           Address of the DrawPrizes owner\\n    * @param _token           Token address\\n    * @param _drawCalculator DrawCalculator address\\n  */\\n  constructor(\\n    address _owner,\\n    IERC20 _token,\\n    IDrawCalculator _drawCalculator\\n  ) Ownable(_owner) {\\n    _setDrawCalculator(_drawCalculator);\\n    require(address(_token) != address(0), \\\"DrawPrizes/token-not-zero-address\\\" );\\n    token = _token;\\n    emit TokenSet(_token);\\n  }\\n\\n  /* ============ External Functions ============ */\\n\\n  /// @inheritdoc IDrawPrizes\\n  function claim(address _user, uint32[] calldata _drawIds, bytes calldata _data) external override returns (uint256) {\\n    uint256 totalPayout;\\n    uint256[] memory drawPayouts = drawCalculator.calculate(_user, _drawIds, _data);  // CALL\\n    for (uint256 payoutIndex = 0; payoutIndex < drawPayouts.length; payoutIndex++) {\\n      uint32 drawId = _drawIds[payoutIndex];\\n      uint256 payout = drawPayouts[payoutIndex];\\n      uint256 oldPayout = _getDrawPayoutBalanceOf(_user, drawId);\\n      uint256 payoutDiff = 0;\\n      if (payout > oldPayout) {\\n        payoutDiff = payout - oldPayout;\\n        _setDrawPayoutBalanceOf(_user, drawId, payout);\\n      }\\n      // helpfully short-circuit, in case the user screwed something up.\\n      require(payoutDiff > 0, \\\"DrawPrizes/zero-payout\\\");\\n      totalPayout += payoutDiff;\\n      emit ClaimedDraw(_user, drawId, payoutDiff);\\n    }\\n\\n    _awardPayout(_user, totalPayout);\\n\\n    return totalPayout;\\n  }\\n\\n  /// @inheritdoc IDrawPrizes\\n  function getDrawCalculator() external override view returns (IDrawCalculator) {\\n    return drawCalculator;\\n  }\\n\\n  /// @inheritdoc IDrawPrizes\\n  function getDrawPayoutBalanceOf(address user, uint32 drawId) external override view returns (uint256) {\\n    return _getDrawPayoutBalanceOf(user, drawId);\\n  }\\n\\n  /// @inheritdoc IDrawPrizes\\n  function getToken() external override view returns (IERC20) {\\n    return token;\\n  }\\n\\n  /// @inheritdoc IDrawPrizes\\n  function setDrawCalculator(IDrawCalculator _newCalculator) external override onlyOwner returns (IDrawCalculator) {\\n    _setDrawCalculator(_newCalculator);\\n    return _newCalculator;\\n  }\\n\\n  \\n  /* ============ Internal Functions ============ */\\n\\n  function _getDrawPayoutBalanceOf(address _user, uint32 _drawId) internal view returns (uint256) {\\n    return userDrawPayouts[_user][_drawId];\\n  }\\n\\n  function _setDrawPayoutBalanceOf(address _user, uint32 _drawId, uint256 _payout) internal {\\n    userDrawPayouts[_user][_drawId] = _payout;\\n  }\\n\\n  /**\\n    * @notice Sets DrawCalculator reference for individual draw id.\\n    * @param _newCalculator  DrawCalculator address\\n  */\\n  function _setDrawCalculator(IDrawCalculator _newCalculator) internal {\\n    require(address(_newCalculator) != address(0), \\\"DrawPrizes/calc-not-zero\\\");\\n    drawCalculator = _newCalculator;\\n    emit DrawCalculatorSet(_newCalculator);\\n  }\\n\\n  /**\\n    * @notice Transfer claimed draw(s) total payout to user.\\n    * @param _to      User address\\n    * @param _amount  Transfer amount\\n  */\\n  function _awardPayout(address _to, uint256 _amount) internal {\\n    token.safeTransfer(_to, _amount);\\n  }\\n\\n  /**\\n    * @notice Transfer ERC20 tokens out of this contract.\\n    * @dev    This function is only callable by the owner.\\n    * @param _erc20Token ERC20 token to transfer.\\n    * @param _to Recipient of the tokens.\\n    * @param _amount Amount of tokens to transfer.\\n    * @return true if operation is successful.\\n  */\\n  function withdrawERC20(IERC20 _erc20Token, address _to, uint256 _amount) external override onlyOwner returns (bool) {\\n    require(_to != address(0), \\\"DrawPrizes/recipient-not-zero-address\\\");\\n    require(address(_erc20Token) != address(0), \\\"DrawPrizes/ERC20-not-zero-address\\\");\\n    _erc20Token.safeTransfer(_to, _amount);\\n    emit ERC20Withdrawn(_erc20Token, _to, _amount);\\n    return true;\\n  }\\n}\\n\",\"keccak256\":\"0x01b1774bdd7fef29a50670f24f777c1ad8e17eeec86ba336f5f1fbf116ce24ac\",\"license\":\"GPL-3.0\"},\"@pooltogether/v4-core/contracts/PrizeDistributionHistory.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0\\npragma solidity 0.8.6;\\nimport \\\"@pooltogether/owner-manager-contracts/contracts/Manageable.sol\\\";\\nimport \\\"./libraries/DrawLib.sol\\\";\\nimport \\\"./libraries/DrawRingBufferLib.sol\\\";\\nimport \\\"./interfaces/IPrizeDistributionHistory.sol\\\";\\n\\n/**\\n  * @title  PoolTogether V4 PrizeDistributionHistory\\n  * @author PoolTogether Inc Team\\n  * @notice The PrizeDistributionHistory stores individual DrawSettings for each Draw.drawId.\\n            DrawSettings parameters like cardinality, bitRange, distributions, number of picks\\n            and prize. The settings determine the specific distribution model for each individual \\n            draw. Storage of the DrawSetting(s) is handled by ring buffer with a max cardinality\\n            of 256 or roughly 5 years of history with a weekly draw cadence.\\n*/\\ncontract PrizeDistributionHistory is IPrizeDistributionHistory, Manageable {\\n  using DrawRingBufferLib for DrawRingBufferLib.Buffer;\\n\\n  uint256 internal constant MAX_CARDINALITY = 256;\\n\\n  uint256 internal constant DISTRIUBTION_CEILING = 1e9;\\n  event Deployed(uint8 cardinality);\\n\\n  /// @notice DrawSettings ring buffer history.\\n  DrawLib.PrizeDistribution[MAX_CARDINALITY] internal _drawSettingsRingBuffer;\\n\\n  /// @notice Ring buffer data (nextIndex, lastDrawId, cardinality)\\n  DrawRingBufferLib.Buffer internal drawSettingsRingBufferData;\\n\\n  /* ============ Constructor ============ */\\n\\n  /**\\n    * @notice Constructor for PrizeDistributionHistory\\n    * @param _owner Address of the PrizeDistributionHistory owner\\n    * @param _cardinality Cardinality of the `drawSettingsRingBufferData`\\n   */\\n  constructor(\\n    address _owner,\\n    uint8 _cardinality\\n  ) Ownable(_owner) {\\n    drawSettingsRingBufferData.cardinality = _cardinality;\\n    emit Deployed(_cardinality);\\n  }\\n\\n  /* ============ External Functions ============ */\\n\\n  /// @inheritdoc IPrizeDistributionHistory\\n  function getDrawSetting(uint32 _drawId) external override view returns(DrawLib.PrizeDistribution memory) {\\n    return _getDrawSettings(drawSettingsRingBufferData, _drawId);\\n  }\\n\\n  /// @inheritdoc IPrizeDistributionHistory\\n  function getDrawSettings(uint32[] calldata _drawIds) external override view returns(DrawLib.PrizeDistribution[] memory) {\\n    DrawRingBufferLib.Buffer memory buffer = drawSettingsRingBufferData;\\n    DrawLib.PrizeDistribution[] memory _drawSettings = new DrawLib.PrizeDistribution[](_drawIds.length);\\n    for (uint256 i = 0; i < _drawIds.length; i++) {\\n      _drawSettings[i] = _getDrawSettings(buffer, _drawIds[i]);\\n    }\\n    return _drawSettings;\\n  }\\n\\n  /// @inheritdoc IPrizeDistributionHistory\\n  function getNewestDrawSettings() external override view returns (DrawLib.PrizeDistribution memory drawSettings, uint32 drawId) {\\n    DrawRingBufferLib.Buffer memory buffer = drawSettingsRingBufferData;\\n    return (_drawSettingsRingBuffer[buffer.getIndex(buffer.lastDrawId)], buffer.lastDrawId);\\n  }\\n\\n  /// @inheritdoc IPrizeDistributionHistory\\n  function getOldestDrawSettings() external override view returns (DrawLib.PrizeDistribution memory drawSettings, uint32 drawId) {\\n    DrawRingBufferLib.Buffer memory buffer = drawSettingsRingBufferData;\\n    drawSettings = _drawSettingsRingBuffer[buffer.nextIndex];\\n    \\n    // IF the next DrawSettings.bitRangeSize == 0 the ring buffer HAS NOT looped around.\\n    // The DrawSettings at index 0 IS by defaut the oldest drawSettings.\\n    if (buffer.lastDrawId == 0) {\\n      drawId = 0; // return 0 to indicate no drawSettings ring buffer history\\n    } else if (drawSettings.bitRangeSize == 0) {\\n      drawSettings = _drawSettingsRingBuffer[0];\\n      drawId = (buffer.lastDrawId + 1) - buffer.nextIndex; // 2 + 1 - 2 = 1 | [1,2,0]\\n    } else {\\n      // Calculates the Draw.drawID using the ring buffer length and SEQUENTIAL id(s)\\n      // Sequential \\\"guaranteedness\\\" is handled in DrawRingBufferLibLib.push()\\n      drawId = (buffer.lastDrawId + 1) - buffer.cardinality; // 4 + 1 - 3 = 2 | [4,2,3]\\n    }\\n  }\\n\\n  /// @inheritdoc IPrizeDistributionHistory\\n  function pushDrawSettings(uint32 _drawId, DrawLib.PrizeDistribution calldata _drawSettings) external override onlyManagerOrOwner returns (bool) {\\n    return _pushDrawSettings(_drawId, _drawSettings);\\n  }\\n\\n  /// @inheritdoc IPrizeDistributionHistory\\n  function setDrawSetting(uint32 _drawId, DrawLib.PrizeDistribution calldata _drawSettings) external override onlyOwner returns (uint32) {\\n    DrawRingBufferLib.Buffer memory buffer = drawSettingsRingBufferData;\\n    uint32 index = buffer.getIndex(_drawId);\\n    _drawSettingsRingBuffer[index] = _drawSettings;\\n    emit DrawSettingsSet(_drawId, _drawSettings);\\n    return _drawId;\\n  }\\n\\n\\n  /* ============ Internal Functions ============ */\\n  \\n  /**\\n    * @notice Gets the PrizeDistributionHistorySettings for a Draw.drawID\\n    * @param _drawSettingsRingBufferData DrawRingBufferLib.Buffer\\n    * @param drawId Draw.drawId\\n   */\\n  function _getDrawSettings(\\n    DrawRingBufferLib.Buffer memory _drawSettingsRingBufferData,\\n    uint32 drawId\\n  ) internal view returns (DrawLib.PrizeDistribution memory) {\\n    return _drawSettingsRingBuffer[_drawSettingsRingBufferData.getIndex(drawId)];\\n  }\\n\\n  /**\\n    * @notice Set newest PrizeDistributionHistorySettings in ring buffer storage.\\n    * @param _drawId       Draw.drawId\\n    * @param _drawSettings PrizeDistributionHistorySettings struct\\n   */\\n  function _pushDrawSettings(uint32 _drawId, DrawLib.PrizeDistribution calldata _drawSettings) internal returns (bool) {\\n    uint256 distributionsLength = _drawSettings.distributions.length;\\n\\n    require(_drawId > 0, \\\"DrawCalc/draw-id-gt-0\\\");\\n    require(_drawSettings.matchCardinality >= distributionsLength, \\\"DrawCalc/matchCardinality-gte-distributions\\\");\\n    require(_drawSettings.bitRangeSize <= 256 / _drawSettings.matchCardinality, \\\"DrawCalc/bitRangeSize-too-large\\\");\\n    require(_drawSettings.bitRangeSize > 0, \\\"DrawCalc/bitRangeSize-gt-0\\\");\\n    require(_drawSettings.maxPicksPerUser > 0, \\\"DrawCalc/maxPicksPerUser-gt-0\\\");\\n\\n    // ensure that the distributions are not gt 100%\\n    uint256 sumTotalDistributions = 0;\\n    for(uint256 index = 0; index < distributionsLength; index++){\\n      sumTotalDistributions += _drawSettings.distributions[index];\\n    }\\n\\n    // Each distribution amount stored as uint32 - summed can't exceed 1e9\\n    require(sumTotalDistributions <= DISTRIUBTION_CEILING, \\\"DrawCalc/distributions-gt-100%\\\");\\n\\n    DrawRingBufferLib.Buffer memory _drawSettingsRingBufferData = drawSettingsRingBufferData;\\n    _drawSettingsRingBuffer[_drawSettingsRingBufferData.nextIndex] = _drawSettings;\\n    drawSettingsRingBufferData = drawSettingsRingBufferData.push(_drawId);\\n\\n    emit DrawSettingsSet(_drawId, _drawSettings);\\n\\n    return true;\\n  }\\n}\\n\",\"keccak256\":\"0xf48d39566f9c3491a01ded3e6875995a37ed8921f746dcebbc7bed9d978c2ed4\",\"license\":\"GPL-3.0\"},\"@pooltogether/v4-core/contracts/interfaces/IDrawCalculator.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0\\npragma solidity 0.8.6;\\nimport \\\"./ITicket.sol\\\";\\nimport \\\"./IDrawHistory.sol\\\";\\nimport \\\"../PrizeDistributionHistory.sol\\\";\\nimport \\\"../DrawPrizes.sol\\\";\\nimport \\\"../libraries/DrawLib.sol\\\";\\n\\n/**\\n  * @title  PoolTogether V4 DrawCalculator\\n  * @author PoolTogether Inc Team\\n  * @notice The DrawCalculator interface.\\n*/\\ninterface IDrawCalculator {\\n\\n  struct PickPrize {\\n    bool won;\\n    uint8 distributionIndex;\\n  }\\n\\n  ///@notice Emitted when the contract is initialized\\n  event Deployed(ITicket indexed ticket);\\n\\n  ///@notice Emitted when the claimableDraw is set/updated\\n  event DrawPrizesSet(DrawPrizes indexed claimableDraw);\\n\\n  /**\\n    * @notice Calulates the prize amount for a user for Multiple Draws. Typically called by a DrawPrizes.\\n    * @param user User for which to calcualte prize amount\\n    * @param drawIds draw array for which to calculate prize amounts for\\n    * @param data The encoded pick indices for all Draws. Expected to be just indices of winning claims. Populated values must be less than totalUserPicks.\\n    * @return List of awardable prizes ordered by linked drawId\\n   */\\n  function calculate(address user, uint32[] calldata drawIds, bytes calldata data) external view returns (uint256[] memory);\\n\\n  /**\\n    * @notice Read global DrawHistory variable.\\n    * @return IDrawHistory\\n  */\\n  function getDrawHistory() external view returns (IDrawHistory);\\n\\n  /**\\n    * @notice Read global DrawHistory variable.\\n    * @return IDrawHistory\\n  */\\n  function getPrizeDistributionHistory() external view returns (PrizeDistributionHistory);\\n  /**\\n    * @notice Set global DrawHistory reference.\\n    * @param _drawHistory DrawHistory address\\n    * @return New DrawHistory address\\n  */\\n  function setDrawHistory(IDrawHistory _drawHistory) external returns (IDrawHistory);\\n  \\n  /**\\n    * @notice Returns a users balances expressed as a fraction of the total supply over time.\\n    * @param _user The users address\\n    * @param _drawIds The drawsId to consider\\n    * @return Array of balances\\n  */\\n  function getNormalizedBalancesForDrawIds(address _user, uint32[] calldata _drawIds) external view returns (uint256[] memory);\\n\\n  /**\\n    * @notice Returns a users balances expressed as a fraction of the total supply over time.\\n    * @param _user The user for which to calculate the distribution indices\\n    * @param _pickIndices The users pick indices for a draw\\n    * @param _drawId The draw for which to calculate the distribution indices\\n    * @return List of distributions for Draw.drawId\\n  */\\n  function checkPrizeDistributionIndicesForDrawId(address _user, uint256[] calldata _pickIndices, uint32 _drawId) external view returns(PickPrize[] memory);\\n}\\n\",\"keccak256\":\"0xd02e596aabb781d0cf7bc6941b515433b113352687a17de15ccf43dbf94ec434\",\"license\":\"GPL-3.0\"},\"@pooltogether/v4-core/contracts/interfaces/IDrawHistory.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0\\npragma solidity 0.8.6;\\n\\nimport \\\"../libraries/DrawLib.sol\\\";\\n\\ninterface IDrawHistory {\\n\\n  /**\\n    * @notice Emit when a new draw has been created.\\n    * @param drawId Draw id\\n    * @param draw The Draw struct\\n  */\\n  event DrawSet (\\n    uint32 indexed drawId,\\n    DrawLib.Draw draw\\n  );\\n\\n  /**\\n    * @notice Read a Draw from the draws ring buffer.\\n    * @dev    Read a Draw using the Draw.drawId to calculate position in the draws ring buffer.\\n    * @param drawId Draw.drawId\\n    * @return DrawLib.Draw\\n  */\\n  function getDraw(uint32 drawId) external view returns (DrawLib.Draw memory);\\n\\n  /**\\n    * @notice Read multiple Draws from the draws ring buffer.\\n    * @dev    Read multiple Draws using each Draw.drawId to calculate position in the draws ring buffer.\\n    * @param drawIds Array of Draw.drawIds\\n    * @return DrawLib.Draw[]\\n  */\\n  function getDraws(uint32[] calldata drawIds) external view returns (DrawLib.Draw[] memory);\\n  /**\\n    * @notice Read newest Draw from the draws ring buffer.\\n    * @dev    Uses the nextDrawIndex to calculate the most recently added Draw.\\n    * @return DrawLib.Draw\\n  */\\n  function getNewestDraw() external view returns (DrawLib.Draw memory);\\n  /**\\n    * @notice Read oldest Draw from the draws ring buffer.\\n    * @dev    Finds the oldest Draw by comparing and/or diffing totalDraws with the cardinality.\\n    * @return DrawLib.Draw\\n  */\\n  function getOldestDraw() external view returns (DrawLib.Draw memory);\\n\\n  /**\\n    * @notice Push Draw onto draws ring buffer history.\\n    * @dev    Push new draw onto draws history via authorized manager or owner.\\n    * @param draw DrawLib.Draw\\n    * @return Draw.drawId\\n  */\\n  function pushDraw(DrawLib.Draw calldata draw) external returns(uint32);\\n\\n  /**\\n    * @notice Set existing Draw in draws ring buffer with new parameters.\\n    * @dev    Updating a Draw should be used sparingly and only in the event an incorrect Draw parameter has been stored.\\n    * @param newDraw DrawLib.Draw\\n    * @return Draw.drawId\\n  */\\n  function setDraw(DrawLib.Draw calldata newDraw) external returns(uint32);\\n}\",\"keccak256\":\"0xc450b68b738722a939996cb35d36938a8527a1b21f072a6bdf2f59fdf4c3cf94\",\"license\":\"GPL-3.0\"},\"@pooltogether/v4-core/contracts/interfaces/IDrawPrizes.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0\\npragma solidity 0.8.6;\\nimport \\\"@openzeppelin/contracts/token/ERC20/IERC20.sol\\\";\\nimport \\\"./IDrawHistory.sol\\\";\\nimport \\\"./IDrawCalculator.sol\\\";\\nimport \\\"../libraries/DrawLib.sol\\\";\\n\\ninterface IDrawPrizes {\\n\\n  /**\\n    * @notice Emitted when a user has claimed N draw payouts.\\n    * @param user        User address receiving draw claim payouts\\n    * @param drawId      Draw id that was paid out\\n    * @param payout Payout for draw\\n  */\\n  event ClaimedDraw (\\n    address indexed user,\\n    uint32 indexed drawId,\\n    uint256 payout\\n  );\\n\\n  /**\\n    * @notice Emitted when a DrawCalculator is set\\n    * @param calculator DrawCalculator address\\n  */\\n  event DrawCalculatorSet (\\n    IDrawCalculator indexed calculator\\n  );\\n\\n  /**\\n    * @notice Emitted when a global Ticket variable is set.\\n    * @param token Token address\\n  */\\n  event TokenSet (\\n    IERC20 indexed token\\n  );\\n\\n  /**\\n    * @notice Emitted when ERC20 tokens are withdrawn from the claimable draw.\\n    * @param token ERC20 token transferred.\\n    * @param to Address that received funds.\\n    * @param amount Amount of tokens transferred.\\n  */\\n  event ERC20Withdrawn(\\n    IERC20 indexed token,\\n    address indexed to,\\n    uint256 amount\\n  );\\n\\n  /**\\n    * @notice Claim a user token payouts via a collection of draw ids and pick indices.\\n    * @param user    Address of user to claim awards for. Does NOT need to be msg.sender\\n    * @param drawIds Draw IDs from global DrawHistory reference\\n    * @param data    The data to pass to the draw calculator\\n    * @return Actual claim payout.  If the user has previously claimed a draw, this may be less.\\n  */\\n  function claim(address user, uint32[] calldata drawIds, bytes calldata data) external returns (uint256);\\n  \\n  /**\\n    * @notice Read DrawCalculator\\n    * @return IDrawCalculator\\n  */\\n  function getDrawCalculator() external view returns (IDrawCalculator);\\n  \\n  /**\\n    * @notice Get the amount that a user has already been paid out for a draw\\n    * @param user   User address\\n    * @param drawId Draw ID\\n  */\\n  function getDrawPayoutBalanceOf(address user, uint32 drawId) external view returns (uint256);\\n\\n  /**\\n    * @notice Read global Ticket variable.\\n    * @return IERC20\\n  */\\n  function getToken() external view returns (IERC20);\\n  /**\\n    * @notice Sets DrawCalculator reference for individual draw id.\\n    * @param _newCalculator  DrawCalculator address\\n    * @return New DrawCalculator address\\n  */\\n  function setDrawCalculator(IDrawCalculator _newCalculator) external returns(IDrawCalculator);\\n  function withdrawERC20(IERC20 _erc20Token, address _to, uint256 _amount) external returns (bool);\\n}\\n\",\"keccak256\":\"0x3814ec9811c9fca168a0d6ea66a24f09b0a4131ab4811d6862260a7847f3ebdd\",\"license\":\"GPL-3.0\"},\"@pooltogether/v4-core/contracts/interfaces/IPrizeDistributionHistory.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0\\npragma solidity 0.8.6;\\nimport \\\"../libraries/DrawLib.sol\\\";\\n\\ninterface IPrizeDistributionHistory {\\n\\n  /**\\n    * @notice Emit when a new draw has been created.\\n    * @param drawId       Draw id\\n    * @param timestamp    Epoch timestamp when the draw is created.\\n    * @param winningRandomNumber Randomly generated number used to calculate draw winning numbers\\n  */\\n  event DrawSet (\\n    uint32 drawId,\\n    uint32 timestamp,\\n    uint256 winningRandomNumber\\n  );\\n\\n  /**\\n    * @notice Emitted when the DrawParams are set/updated\\n    * @param drawId       Draw id\\n    * @param drawSettings DrawLib.PrizeDistribution\\n  */\\n  event DrawSettingsSet(uint32 indexed drawId, DrawLib.PrizeDistribution drawSettings);\\n\\n\\n  /**\\n    * @notice Read newest DrawSettings from the draws ring buffer.\\n    * @dev    Uses the nextDrawIndex to calculate the most recently added Draw.\\n    * @return drawSettings DrawLib.PrizeDistribution\\n    * @return drawId Draw.drawId\\n  */\\n  function getNewestDrawSettings() external view returns (DrawLib.PrizeDistribution memory drawSettings, uint32 drawId);\\n\\n  /**\\n    * @notice Read oldest DrawSettings from the draws ring buffer.\\n    * @dev    Finds the oldest Draw by buffer.nextIndex and buffer.lastDrawId\\n    * @return drawSettings DrawLib.PrizeDistribution\\n    * @return drawId Draw.drawId\\n  */\\n  function getOldestDrawSettings() external view returns (DrawLib.PrizeDistribution memory drawSettings, uint32 drawId);\\n\\n  /**\\n    * @notice Gets array of PrizeDistributionHistorySettings for Draw.drawID(s)\\n    * @param drawIds Draw.drawId\\n   */\\n  function getDrawSettings(uint32[] calldata drawIds) external view returns (DrawLib.PrizeDistribution[] memory);\\n\\n  /**\\n    * @notice Gets the PrizeDistributionHistorySettings for a Draw.drawID\\n    * @param drawId Draw.drawId\\n   */\\n  function getDrawSetting(uint32 drawId) external view returns (DrawLib.PrizeDistribution memory);\\n\\n  /**\\n    * @notice Sets PrizeDistributionHistorySettings for a Draw.drawID.\\n    * @dev    Only callable by the owner or manager\\n    * @param drawId Draw.drawId\\n    * @param draw   PrizeDistributionHistorySettings struct\\n   */\\n  function pushDrawSettings(uint32 drawId, DrawLib.PrizeDistribution calldata draw) external returns(bool);\\n\\n  /**\\n    * @notice Set existing Draw in draws ring buffer with new parameters.\\n    * @dev    Updating a Draw should be used sparingly and only in the event an incorrect Draw parameter has been stored.\\n    * @return Draw.drawId\\n  */\\n  function setDrawSetting(uint32 drawId, DrawLib.PrizeDistribution calldata draw) external returns(uint32); // maybe return drawIndex\\n  \\n}\",\"keccak256\":\"0x71f13364c27b3dfc23f30d16296662d875308ef8adb72ba6845a78a49d4a5dd0\",\"license\":\"GPL-3.0\"},\"@pooltogether/v4-core/contracts/interfaces/ITicket.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0\\npragma solidity 0.8.6;\\nimport \\\"../libraries/TwabLib.sol\\\";\\ninterface ITicket {\\n\\n  /**  \\n    * @notice A struct containing details for an Account\\n    * @param balance The current balance for an Account\\n    * @param nextTwabIndex The next available index to store a new twab\\n    * @param cardinality The number of recorded twabs (plus one!)\\n  */\\n  struct AccountDetails {\\n    uint224 balance;\\n    uint16 nextTwabIndex;\\n    uint16 cardinality;\\n  }\\n\\n  /**  \\n    * @notice Combines account details with their twab history\\n    * @param details The account details\\n    * @param twabs The history of twabs for this account\\n  */\\n  struct Account {\\n    AccountDetails details;\\n    ObservationLib.Observation[65535] twabs;\\n  }\\n\\n  event Delegated(\\n    address indexed user,\\n    address indexed delegate\\n  );\\n\\n  /** \\n    * @notice Emitted when ticket is initialized.\\n    * @param name Ticket name (eg: PoolTogether Dai Ticket (Compound)).\\n    * @param symbol Ticket symbol (eg: PcDAI).\\n    * @param decimals Ticket decimals.\\n    * @param controller Token controller address.\\n  */\\n  event TicketInitialized(\\n    string name,\\n    string symbol,\\n    uint8 decimals,\\n    address controller\\n  );\\n\\n  /** \\n    * @notice Emitted when a new TWAB has been recorded.\\n    * @param ticketHolder The Ticket holder address.\\n    * @param user The recipient of the ticket power (may be the same as the ticketHolder)\\n    * @param newTwab Updated TWAB of a ticket holder after a successful TWAB recording.\\n  */\\n  event NewUserTwab(\\n    address indexed ticketHolder,\\n    address indexed user,\\n    ObservationLib.Observation newTwab\\n  );\\n\\n  /** \\n    * @notice Emitted when a new total supply TWAB has been recorded.\\n    * @param newTotalSupplyTwab Updated TWAB of tickets total supply after a successful total supply TWAB recording.\\n  */\\n  event NewTotalSupplyTwab(\\n    ObservationLib.Observation newTotalSupplyTwab\\n  );\\n\\n   /** \\n    * @notice ADD DOCS\\n    * @param user Address\\n  */\\n  function delegateOf(address user) external view returns (address);\\n\\n  /**\\n    * @notice Delegate time-weighted average balances to an alternative address.\\n    * @dev    Transfers (including mints) trigger the storage of a TWAB in delegatee(s) account, instead of the\\n              targetted sender and/or recipient address(s).\\n    * @dev    \\\"to\\\" reset the delegatee use zero address (0x000.000) \\n    * @param  to Receipient of delegated TWAB\\n   */\\n  function delegate(address to) external virtual;\\n  \\n  /** \\n    * @notice Gets a users twab context.  This is a struct with their balance, next twab index, and cardinality.\\n    * @param user The user for whom to fetch the TWAB context\\n    * @return The TWAB context, which includes { balance, nextTwabIndex, cardinality }\\n  */\\n  function getAccountDetails(address user) external view returns (TwabLib.AccountDetails memory);\\n  \\n  /** \\n    * @notice Gets the TWAB at a specific index for a user.\\n    * @param user The user for whom to fetch the TWAB\\n    * @param index The index of the TWAB to fetch\\n    * @return The TWAB, which includes the twab amount and the timestamp.\\n  */\\n  function getTwab(address user, uint16 index) external view returns (ObservationLib.Observation memory);\\n\\n  /** \\n    * @notice Retrieves `_user` TWAB balance.\\n    * @param user Address of the user whose TWAB is being fetched.\\n    * @param timestamp Timestamp at which the reserved TWAB should be for.\\n  */\\n  function getBalanceAt(address user, uint256 timestamp) external view returns(uint256);\\n\\n  /** \\n    * @notice Retrieves `_user` TWAB balances.\\n    * @param user Address of the user whose TWABs are being fetched.\\n    * @param timestamps Timestamps at which the reserved TWABs should be for.\\n    * @return uint256[] `_user` TWAB balances.\\n  */\\n  function getBalancesAt(address user, uint32[] calldata timestamps) external view returns(uint256[] memory);\\n\\n  /** \\n    * @notice Calculates the average balance held by a user for a given time frame.\\n    * @param user The user whose balance is checked\\n    * @param startTime The start time of the time frame.\\n    * @param endTime The end time of the time frame.\\n    * @return The average balance that the user held during the time frame.\\n  */\\n  function getAverageBalanceBetween(address user, uint256 startTime, uint256 endTime) external view returns (uint256);\\n\\n  /** \\n    * @notice Calculates the average balance held by a user for a given time frame.\\n    * @param user The user whose balance is checked\\n    * @param startTimes The start time of the time frame.\\n    * @param endTimes The end time of the time frame.\\n    * @return The average balance that the user held during the time frame.\\n  */\\n  function getAverageBalancesBetween(address user, uint32[] calldata startTimes, uint32[] calldata endTimes) external view returns (uint256[] memory);\\n\\n  /** \\n    * @notice Calculates the average total supply balance for a set of a given time frame.\\n    * @param timestamp Timestamp\\n    * @return The\\n  */\\n  function getTotalSupplyAt(uint32 timestamp) external view returns(uint256);\\n\\n   /** \\n    * @notice Calculates the average total supply balance for a set of a given time frame.\\n    * @param timestamps Timestamp\\n    * @return The\\n  */\\n  function getTotalSuppliesAt(uint32[] calldata timestamps) external view returns(uint256[] memory);\\n\\n  /** \\n    * @notice Calculates the average total supply balance for a set of given time frames.\\n    * @param startTimes Array of start times\\n    * @param endTimes Array of end times\\n    * @return The average total supplies held during the time frame.\\n  */\\n  function getAverageTotalSuppliesBetween(uint32[] calldata startTimes, uint32[] calldata endTimes) external view returns(uint256[] memory);\\n\\n}\\n\",\"keccak256\":\"0x221aab5020b2683012fe87e1b9ab99c1bb0c4293c04c51ad388b6ec78bed8916\",\"license\":\"GPL-3.0\"},\"@pooltogether/v4-core/contracts/libraries/DrawLib.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0\\n\\npragma solidity 0.8.6;\\n\\nlibrary DrawLib{\\n\\n    struct Draw {\\n        uint256 winningRandomNumber;\\n        uint32 drawId;\\n        uint64 timestamp;\\n        uint64 beaconPeriodStartedAt;\\n        uint32 beaconPeriodSeconds;\\n    }\\n\\n    ///@notice Draw settings for the tsunami draw calculator\\n    ///@param bitRangeSize Decimal representation of bitRangeSize\\n    ///@param matchCardinality The bitRangeSize's to consider in the 256 random numbers. Must be > 1 and < 256/bitRangeSize\\n    ///@param numberOfPicks Number of picks this Draw has (may vary network to network)\\n    ///@param maxPicksPerUser Maximum number of picks a user can make in this Draw\\n    ///@param distributions Array of prize distribution percentages, expressed in fraction form with base 1e18. Max sum of these <= 1 Ether. ordering: index0: grandPrize, index1: runnerUp, etc.\\n    ///@param prize Total prize amount available in this draw calculator for this Draw (may vary from network to network)\\n    struct PrizeDistribution {\\n        uint8 bitRangeSize;\\n        uint8 matchCardinality;\\n        uint32 startOffsetTimestamp;\\n        uint32 endOffsetTimestamp;\\n        uint32 maxPicksPerUser;\\n        uint136 numberOfPicks;\\n        uint32[] distributions;\\n        uint256 prize;\\n    }\\n}\",\"keccak256\":\"0xa1be7f41a62506ed14aeae498e78f3b1c8a384fbdbdc724805a992480ed729f6\",\"license\":\"GPL-3.0\"},\"@pooltogether/v4-core/contracts/libraries/DrawRingBufferLib.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0\\n\\npragma solidity 0.8.6;\\n\\nimport \\\"./RingBuffer.sol\\\";\\n\\n/// @title Library for creating and managing a draw ring buffer.\\nlibrary DrawRingBufferLib {\\n\\n  /// @notice Draw buffer struct.\\n  struct Buffer {\\n    uint32 lastDrawId;\\n    uint32 nextIndex;\\n    uint32 cardinality;\\n  }\\n\\n  /// @notice Helper function to know if the draw ring buffer has been initialized.\\n  /// @dev since draws start at 1 and are monotonically increased, we know we are uninitialized if nextIndex = 0 and lastDrawId = 0.\\n  /// @param _buffer The buffer to check.\\n  function isInitialized(Buffer memory _buffer) internal pure returns (bool) {\\n    return !(_buffer.nextIndex == 0 && _buffer.lastDrawId == 0);\\n  }\\n\\n  /// @notice Push a draw to the buffer.\\n  /// @param _buffer The buffer to push to.\\n  /// @param _drawId The draw id to push.\\n  /// @return The new buffer.\\n  function push(Buffer memory _buffer, uint32 _drawId) internal view returns (Buffer memory) {\\n    require(!isInitialized(_buffer) || _drawId == _buffer.lastDrawId + 1, \\\"DRB/must-be-contig\\\");\\n    return Buffer({\\n      lastDrawId: _drawId,\\n      nextIndex: uint32(RingBuffer.nextIndex(_buffer.nextIndex, _buffer.cardinality)),\\n      cardinality: _buffer.cardinality\\n    });\\n  }\\n\\n  /// @notice Get draw ring buffer index pointer.\\n  /// @param _buffer The buffer to get the `nextIndex` from.\\n  /// @param _drawId The draw id to get the index for.\\n  /// @return The draw ring buffer index pointer.\\n  function getIndex(Buffer memory _buffer, uint32 _drawId) internal view returns (uint32) {\\n    require(isInitialized(_buffer) && _drawId <= _buffer.lastDrawId, \\\"DRB/future-draw\\\");\\n\\n    uint32 indexOffset = _buffer.lastDrawId - _drawId;\\n    require(indexOffset < _buffer.cardinality, \\\"DRB/expired-draw\\\");\\n\\n    uint256 mostRecent = RingBuffer.mostRecentIndex(_buffer.nextIndex, _buffer.cardinality);\\n\\n    return uint32(RingBuffer.offset(uint32(mostRecent), indexOffset, _buffer.cardinality));\\n  }\\n}\\n\",\"keccak256\":\"0x6b73804d5ba85ca941acad98a2425353d1b9d40efb4f31456860a2eb6bf2d553\",\"license\":\"GPL-3.0\"},\"@pooltogether/v4-core/contracts/libraries/ExtendedSafeCast.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n\\npragma solidity 0.8.6;\\n\\n/**\\n * @dev Wrappers over Solidity's uintXX/intXX casting operators with added overflow\\n * checks.\\n *\\n * Downcasting from uint256/int256 in Solidity does not revert on overflow. This can\\n * easily result in undesired exploitation or bugs, since developers usually\\n * assume that overflows raise errors. `SafeCast` restores this intuition by\\n * reverting the transaction when such an operation overflows.\\n *\\n * Using this library instead of the unchecked operations eliminates an entire\\n * class of bugs, so it's recommended to use it always.\\n *\\n * Can be combined with {SafeMath} and {SignedSafeMath} to extend it to smaller types, by performing\\n * all math on `uint256` and `int256` and then downcasting.\\n */\\nlibrary ExtendedSafeCast {\\n    /**\\n     * @dev Returns the downcasted uint208 from uint256, reverting on\\n     * overflow (when the input is greater than largest uint208).\\n     *\\n     * Counterpart to Solidity's `uint208` operator.\\n     *\\n     * Requirements:\\n     *\\n     * - input must fit into 208 bits\\n     */\\n    function toUint208(uint256 value) internal pure returns (uint208) {\\n        require(value <= type(uint208).max, \\\"SafeCast: value doesn't fit in 208 bits\\\");\\n        return uint208(value);\\n    }\\n}\\n\",\"keccak256\":\"0x858c6ea27237acbf77008cd0a67e04ae7904300dcf115cb5c3bdaf15991ee7fa\",\"license\":\"MIT\"},\"@pooltogether/v4-core/contracts/libraries/ObservationLib.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0\\n\\npragma solidity 0.8.6;\\n\\nimport \\\"@openzeppelin/contracts/utils/math/SafeCast.sol\\\";\\n\\nimport \\\"./OverflowSafeComparator.sol\\\";\\nimport \\\"./RingBuffer.sol\\\";\\n\\n/// @title Time-Weighted Average Balance Library\\n/// @notice This library allows you to efficiently track a user's historic balance.  You can get a\\n/// @author PoolTogether Inc.\\nlibrary ObservationLib {\\n  using OverflowSafeComparator for uint32;\\n  using SafeCast for uint256;\\n\\n  /// @notice The maximum number of twab entries\\n  uint24 public constant MAX_CARDINALITY = 16777215; // 2**24\\n\\n  /// @notice Time Weighted Average Balance (Observation).\\n  /// @param amount `amount` at `timestamp`.\\n  /// @param timestamp Recorded `timestamp`.\\n  struct Observation {\\n    uint224 amount;\\n    uint32 timestamp;\\n  }\\n\\n  /// @notice Fetches Observations `beforeOrAt` and `atOrAfter` a `_target`, eg: where [`beforeOrAt`, `atOrAfter`] is satisfied.\\n  /// The result may be the same Observation, or adjacent Observations.\\n  /// @dev The answer must be contained in the array, used when the target is located within the stored Observation.\\n  /// boundaries: older than the most recent Observation and younger, or the same age as, the oldest Observation.\\n  /// @param _observations List of Observations to search through.\\n  /// @param _observationIndex Index of the Observation to start searching from.\\n  /// @param _target Timestamp at which the reserved Observation should be for.\\n  /// @return beforeOrAt Observation recorded before, or at, the target.\\n  /// @return atOrAfter Observation recorded at, or after, the target.\\n  function binarySearch(\\n    Observation[MAX_CARDINALITY] storage _observations,\\n    uint24 _observationIndex,\\n    uint24 _oldestObservationIndex,\\n    uint32 _target,\\n    uint24 _cardinality,\\n    uint32 _time\\n  ) internal view returns (Observation memory beforeOrAt, Observation memory atOrAfter) {\\n    uint256 leftSide = _oldestObservationIndex; // Oldest Observation\\n    uint256 rightSide = _observationIndex < leftSide ? leftSide + _cardinality - 1 : _observationIndex;\\n    uint256 currentIndex;\\n\\n    while (true) {\\n      currentIndex = (leftSide + rightSide) / 2;\\n      beforeOrAt = _observations[uint24(RingBuffer.wrap(currentIndex, _cardinality))];\\n      uint32 beforeOrAtTimestamp = beforeOrAt.timestamp;\\n\\n      // We've landed on an uninitialized timestamp, keep searching higher (more recently)\\n      if (beforeOrAtTimestamp == 0) {\\n        leftSide = currentIndex + 1;\\n        continue;\\n      }\\n\\n      atOrAfter = _observations[uint24(RingBuffer.nextIndex(currentIndex, _cardinality))];\\n\\n      bool targetAtOrAfter = beforeOrAtTimestamp.lte(_target, _time);\\n\\n      // Check if we've found the corresponding Observation\\n      if (targetAtOrAfter && _target.lte(atOrAfter.timestamp, _time)) {\\n        break;\\n      }\\n\\n      // If `beforeOrAtTimestamp` is greater than `_target`, then we keep searching lower\\n      if (!targetAtOrAfter) rightSide = currentIndex - 1;\\n\\n      // Otherwise, we keep searching higher\\n      else leftSide = currentIndex + 1;\\n    }\\n  }\\n\\n}\\n\",\"keccak256\":\"0xe5acc7b6a088d8b6f550f384dbbfb0af9ed333cb6803c36cdc8489d13f098e05\",\"license\":\"GPL-3.0\"},\"@pooltogether/v4-core/contracts/libraries/OverflowSafeComparator.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0\\n\\npragma solidity 0.8.6;\\n\\n/// @title OverflowSafeComparator library to share comparator functions between contracts\\n/// @author PoolTogether Inc.\\nlibrary OverflowSafeComparator {\\n  /// @notice 32-bit timestamps comparator.\\n  /// @dev safe for 0 or 1 overflows, `_a` and `_b` must be chronologically before or equal to time.\\n  /// @param _a A comparison timestamp from which to determine the relative position of `_timestamp`.\\n  /// @param _b Timestamp to compare against `_a`.\\n  /// @param _timestamp A timestamp truncated to 32 bits.\\n  /// @return bool Whether `_a` is chronologically < `_b`.\\n  function lt(\\n      uint32 _a,\\n      uint32 _b,\\n      uint32 _timestamp\\n  ) internal pure returns (bool) {\\n      // No need to adjust if there hasn't been an overflow\\n      if (_a <= _timestamp && _b <= _timestamp) return _a < _b;\\n\\n      uint256 aAdjusted = _a > _timestamp ? _a : _a + 2**32;\\n      uint256 bAdjusted = _b > _timestamp ? _b : _b + 2**32;\\n\\n      return aAdjusted < bAdjusted;\\n  }\\n\\n  /// @notice 32-bit timestamps comparator.\\n  /// @dev safe for 0 or 1 overflows, `_a` and `_b` must be chronologically before or equal to time.\\n  /// @param _a A comparison timestamp from which to determine the relative position of `_timestamp`.\\n  /// @param _b Timestamp to compare against `_a`.\\n  /// @param _timestamp A timestamp truncated to 32 bits.\\n  /// @return bool Whether `_a` is chronologically <= `_b`.\\n  function lte(\\n      uint32 _a,\\n      uint32 _b,\\n      uint32 _timestamp\\n  ) internal pure returns (bool) {\\n      // No need to adjust if there hasn't been an overflow\\n      if (_a <= _timestamp && _b <= _timestamp) return _a <= _b;\\n\\n      uint256 aAdjusted = _a > _timestamp ? _a : _a + 2**32;\\n      uint256 bAdjusted = _b > _timestamp ? _b : _b + 2**32;\\n\\n      return aAdjusted <= bAdjusted;\\n  }\\n\\n  function checkedSub(\\n      uint32 _a,\\n      uint32 _b,\\n      uint32 _timestamp\\n  ) internal pure returns (uint32) {\\n      // No need to adjust if there hasn't been an overflow\\n      if (_a <= _timestamp && _b <= _timestamp) return _a - _b;\\n\\n      uint256 aAdjusted = _a > _timestamp ? _a : _a + 2**32;\\n      uint256 bAdjusted = _b > _timestamp ? _b : _b + 2**32;\\n\\n      return uint32(aAdjusted - bAdjusted);\\n  }\\n}\\n\",\"keccak256\":\"0xde8b2a91634534f6e24bf470d87304176b828231d18dbde45f23c972bc173d3c\",\"license\":\"GPL-3.0\"},\"@pooltogether/v4-core/contracts/libraries/RingBuffer.sol\":{\"content\":\"pragma solidity 0.8.6;\\n\\nlibrary RingBuffer {\\n\\n  /// @notice Returns TWAB index.\\n  /// @dev `twabs` is a circular buffer of `MAX_CARDINALITY` size equal to 32. So the array goes from 0 to 31.\\n  /// @dev In order to navigate the circular buffer, we need to use the modulo operator.\\n  /// @dev For example, if `_index` is equal to 32, `_index % MAX_CARDINALITY` will return 0 and will point to the first element of the array.\\n  /// @param _index Index used to navigate through `twabs` circular buffer.\\n  function wrap(uint256 _index, uint256 _cardinality) internal pure returns (uint256) {\\n    return _index % _cardinality;\\n  }\\n\\n  function offset(uint256 _index, uint256 _amount, uint256 _cardinality) internal pure returns (uint256) {\\n    return (_index + _cardinality - _amount) % _cardinality;\\n  }\\n\\n  /// @notice Returns the index of the last recorded TWAB\\n  /// @param _nextAvailableIndex The next available twab index.  This will be recorded to next.\\n  /// @param _cardinality The cardinality of the TWAB history.\\n  /// @return The index of the last recorded TWAB\\n  function mostRecentIndex(uint256 _nextAvailableIndex, uint256 _cardinality) internal pure returns (uint256) {\\n    if (_cardinality == 0) {\\n      return 0;\\n    }\\n    return (_nextAvailableIndex + uint256(_cardinality) - 1) % _cardinality;\\n  }\\n\\n  function nextIndex(uint256 _currentIndex, uint256 _cardinality) internal pure returns (uint256) {\\n    return (_currentIndex + 1) % _cardinality;\\n  }\\n\\n}\",\"keccak256\":\"0xb055c8f88ea11a451d5950eaea35542833e581dbf075224af6adb40fc9dc4ddc\"},\"@pooltogether/v4-core/contracts/libraries/TwabLib.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0import \\\"./ExtendedSafeCast.sol\\\";\\npragma solidity 0.8.6;\\nimport \\\"@openzeppelin/contracts/utils/math/SafeCast.sol\\\";\\nimport \\\"./ExtendedSafeCast.sol\\\";\\nimport \\\"./OverflowSafeComparator.sol\\\";\\nimport \\\"./RingBuffer.sol\\\";\\nimport \\\"./ObservationLib.sol\\\";\\n\\n/// @title Time-Weighted Average Balance Library\\n/// @notice This library allows you to efficiently track a user's historic balance.  You can get a\\n/// @author PoolTogether Inc.\\nlibrary TwabLib {\\n   using OverflowSafeComparator for uint32;\\n    using ExtendedSafeCast for uint256;\\n\\n  /// @notice The maximum number of twab entries\\n  uint24 public constant MAX_CARDINALITY = 16777215; // 2**24\\n\\n  /// @notice A struct containing details for an Account\\n  /// @param balance The current balance for an Account\\n  /// @param nextTwabIndex The next available index to store a new twab\\n  /// @param cardinality The number of recorded twabs (plus one!)\\n  struct AccountDetails {\\n    uint208 balance;\\n    uint24 nextTwabIndex;\\n    uint24 cardinality;\\n  }\\n\\n  /// @notice Combines account details with their twab history\\n  /// @param details The account details\\n  /// @param twabs The history of twabs for this account\\n  struct Account {\\n    AccountDetails details;\\n    ObservationLib.Observation[MAX_CARDINALITY] twabs;\\n  }\\n\\n  /// @notice Increases an account's balance and records a new twab.\\n  /// @param _account The account whose balance will be increased\\n  /// @param _amount The amount to increase the balance by\\n  /// @param _ttl The time to live for twabs\\n  /// @param _currentTime The current time\\n  /// @return accountDetails The new AccountDetails\\n  /// @return twab The user's latest TWAB\\n  /// @return isNew Whether the TWAB is new\\n  function increaseBalance(\\n    Account storage _account,\\n    uint256 _amount,\\n    uint32 _ttl,\\n    uint32 _currentTime\\n  ) internal returns (AccountDetails memory accountDetails, ObservationLib.Observation memory twab, bool isNew) {\\n    uint24 nextTwabIndex;\\n    uint24 cardinality;\\n    AccountDetails memory _accountDetails = _account.details;\\n    (accountDetails, twab, isNew) = _nextTwabWithExpiry(_account.twabs, _accountDetails, _ttl, _currentTime);\\n    accountDetails.balance = (_accountDetails.balance + _amount).toUint208();\\n  }\\n\\n  /// @notice Decreases an account's balance and records a new twab.\\n  /// @param _account The account whose balance will be decreased\\n  /// @param _amount The amount to decrease the balance by\\n  /// @param _revertMessage The revert message in the event of insufficient balance\\n  /// @return accountDetails The new AccountDetails\\n  /// @return twab The user's latest TWAB\\n  /// @return isNew Whether the TWAB is new\\n  function decreaseBalance(\\n    Account storage _account,\\n    uint256 _amount,\\n    string memory _revertMessage,\\n    uint32 _ttl,\\n    uint32 _currentTime\\n  ) internal returns (AccountDetails memory accountDetails, ObservationLib.Observation memory twab, bool isNew) {\\n    uint24 nextTwabIndex;\\n    uint24 cardinality;\\n    AccountDetails memory _accountDetails = _account.details;\\n    require(_accountDetails.balance >= _amount, _revertMessage);\\n    (accountDetails, twab, isNew) = _nextTwabWithExpiry(_account.twabs, _accountDetails, _ttl, _currentTime);\\n    accountDetails.balance = (_accountDetails.balance - _amount).toUint208();\\n  }\\n\\n  /// @notice Calculates the average balance held by a user for a given time frame.\\n  /// @param _startTime The start time of the time frame.\\n  /// @param _endTime The end time of the time frame.\\n  /// @return The average balance that the user held during the time frame.\\n  function getAverageBalanceBetween(\\n    ObservationLib.Observation[MAX_CARDINALITY] storage _twabs,\\n    AccountDetails memory _accountDetails,\\n    uint32 _startTime,\\n    uint32 _endTime,\\n    uint32 _currentTime\\n  ) internal view returns (uint256) {\\n    uint32 endTime = _endTime > _currentTime ? _currentTime : _endTime;\\n    return _getAverageBalanceBetween(_twabs, _accountDetails, _startTime, endTime, _currentTime);\\n  }\\n\\n  function oldestTwab(\\n    ObservationLib.Observation[MAX_CARDINALITY] storage _twabs,\\n    AccountDetails memory _accountDetails\\n  ) internal view returns (uint24 index, ObservationLib.Observation memory twab) {\\n    index = _accountDetails.nextTwabIndex;\\n    twab = _twabs[_accountDetails.nextTwabIndex];\\n    // If the TWAB is not initialized we go to the beginning of the TWAB circular buffer at index 0\\n    if (twab.timestamp == 0) {\\n      index = 0;\\n      twab = _twabs[0];\\n    }\\n  }\\n\\n  function newestTwab(\\n    ObservationLib.Observation[MAX_CARDINALITY] storage _twabs,\\n    AccountDetails memory _accountDetails\\n  ) internal view returns (uint24 index, ObservationLib.Observation memory twab) {\\n    index = uint24(RingBuffer.mostRecentIndex(_accountDetails.nextTwabIndex, _accountDetails.cardinality));\\n    twab = _twabs[index];\\n  }\\n\\n  /// @notice Retrieves amount at `_target` timestamp\\n  /// @param _twabs List of TWABs to search through.\\n  /// @param _accountDetails Accounts details\\n  /// @param _target Timestamp at which the reserved TWAB should be for.\\n  /// @return uint256 TWAB amount at `_target`.\\n  function getBalanceAt(\\n    ObservationLib.Observation[MAX_CARDINALITY] storage _twabs,\\n    AccountDetails memory _accountDetails,\\n    uint32 _target,\\n    uint32 _currentTime\\n  ) internal view returns (uint256) {\\n    uint32 target = _target > _currentTime ? _currentTime : _target;\\n    return _getBalanceAt(_twabs, _accountDetails, target, _currentTime);\\n  }\\n\\n  /// @notice Calculates the average balance held by a user for a given time frame.\\n  /// @param _startTime The start time of the time frame.\\n  /// @param _endTime The end time of the time frame.\\n  /// @return The average balance that the user held during the time frame.\\n  function _getAverageBalanceBetween(\\n    ObservationLib.Observation[MAX_CARDINALITY] storage _twabs,\\n    AccountDetails memory _accountDetails,\\n    uint32 _startTime,\\n    uint32 _endTime,\\n    uint32 _currentTime\\n  ) private view returns (uint256) {\\n    (uint24 oldestTwabIndex, ObservationLib.Observation memory oldestTwab) = oldestTwab(_twabs, _accountDetails);\\n    (uint24 newestTwabIndex, ObservationLib.Observation memory newestTwab) = newestTwab(_twabs, _accountDetails);\\n\\n    ObservationLib.Observation memory startTwab = _calculateTwab(\\n      _twabs, _accountDetails, newestTwab, oldestTwab, newestTwabIndex, oldestTwabIndex, _startTime, _currentTime\\n    );\\n\\n    ObservationLib.Observation memory endTwab = _calculateTwab(\\n      _twabs, _accountDetails, newestTwab, oldestTwab, newestTwabIndex, oldestTwabIndex, _endTime, _currentTime\\n    );\\n\\n    // Difference in amount / time\\n    return (endTwab.amount - startTwab.amount) / (endTwab.timestamp - startTwab.timestamp);\\n  }\\n\\n  /// @notice Retrieves amount at `_target` timestamp\\n  /// @param _twabs List of TWABs to search through.\\n  /// @param _accountDetails Accounts details\\n  /// @param _target Timestamp at which the reserved TWAB should be for.\\n  /// @return uint256 TWAB amount at `_target`.\\n  function _getBalanceAt(\\n    ObservationLib.Observation[MAX_CARDINALITY] storage _twabs,\\n    AccountDetails memory _accountDetails,\\n    uint32 _target,\\n    uint32 _currentTime\\n  ) private view returns (uint256) {\\n    uint24 newestTwabIndex;\\n    ObservationLib.Observation memory afterOrAt;\\n    ObservationLib.Observation memory beforeOrAt;\\n    (newestTwabIndex, beforeOrAt) = newestTwab(_twabs, _accountDetails);\\n\\n    // If `_target` is chronologically after the newest TWAB, we can simply return the current balance\\n    if (beforeOrAt.timestamp.lte(_target, _currentTime)) {\\n      return _accountDetails.balance;\\n    }\\n\\n    uint24 oldestTwabIndex;\\n    // Now, set before to the oldest TWAB\\n    (oldestTwabIndex, beforeOrAt) = oldestTwab(_twabs, _accountDetails);\\n\\n    // If `_target` is chronologically before the oldest TWAB, we can early return\\n    if (_target.lt(beforeOrAt.timestamp, _currentTime)) {\\n      return 0;\\n    }\\n\\n    // Otherwise, we perform the `binarySearch`\\n    (beforeOrAt, afterOrAt) = ObservationLib.binarySearch(\\n      _twabs,\\n      newestTwabIndex,\\n      oldestTwabIndex,\\n      _target,\\n      _accountDetails.cardinality,\\n      _currentTime\\n    );\\n\\n    // Difference in amount / time\\n    uint224 differenceInAmount = afterOrAt.amount - beforeOrAt.amount;\\n    uint32 differenceInTime = afterOrAt.timestamp - beforeOrAt.timestamp;\\n\\n    return differenceInAmount / differenceInTime;\\n  }\\n\\n  /// @notice Calculates the TWAB for a given timestamp.  It interpolates as necessary.\\n  /// @param _twabs The TWAB history\\n  function _calculateTwab(\\n    ObservationLib.Observation[MAX_CARDINALITY] storage _twabs,\\n    AccountDetails memory _accountDetails,\\n    ObservationLib.Observation memory _newestTwab,\\n    ObservationLib.Observation memory _oldestTwab,\\n    uint24 _newestTwabIndex,\\n    uint24 _oldestTwabIndex,\\n    uint32 targetTimestamp,\\n    uint32 _time\\n  ) private view returns (ObservationLib.Observation memory) {\\n    // If `targetTimestamp` is chronologically after the newest TWAB, we extrapolate a new one\\n    if (_newestTwab.timestamp.lt(targetTimestamp, _time)) {\\n      return ObservationLib.Observation({\\n        amount: _newestTwab.amount + _accountDetails.balance*(targetTimestamp - _newestTwab.timestamp),\\n        timestamp: targetTimestamp\\n      });\\n    }\\n\\n    if (_newestTwab.timestamp == targetTimestamp) {\\n      return _newestTwab;\\n    }\\n\\n    if (_oldestTwab.timestamp == targetTimestamp) {\\n      return _oldestTwab;\\n    }\\n\\n    // If `targetTimestamp` is chronologically before the oldest TWAB, we create a zero twab\\n    if (targetTimestamp.lt(_oldestTwab.timestamp, _time)) {\\n      return ObservationLib.Observation({\\n        amount: 0,\\n        timestamp: targetTimestamp\\n      });\\n    }\\n\\n    // Otherwise, both timestamps must be surrounded by twabs.\\n    (\\n      ObservationLib.Observation memory beforeOrAtStart,\\n      ObservationLib.Observation memory afterOrAtStart\\n    ) = ObservationLib.binarySearch(_twabs, _newestTwabIndex, _oldestTwabIndex, targetTimestamp, _accountDetails.cardinality, _time);\\n\\n    uint224 heldBalance = (afterOrAtStart.amount - beforeOrAtStart.amount) / (afterOrAtStart.timestamp - beforeOrAtStart.timestamp);\\n    uint224 amount = beforeOrAtStart.amount + heldBalance * (targetTimestamp - beforeOrAtStart.timestamp);\\n\\n    return ObservationLib.Observation({\\n      amount: amount,\\n      timestamp: targetTimestamp\\n    });\\n  }\\n\\n  /// @notice Records a new TWAB.\\n  /// @param _currentBalance Current `amount`.\\n  /// @return New TWAB that was recorded.\\n  function _nextTwab(\\n    ObservationLib.Observation memory _currentTwab,\\n    uint256 _currentBalance,\\n    uint32 _time\\n  ) private pure returns (ObservationLib.Observation memory) {\\n    // New twab amount = last twab amount (or zero) + (current amount * elapsed seconds)\\n    return ObservationLib.Observation({\\n      amount: (uint256(_currentTwab.amount) + (_currentBalance * (_time.checkedSub(_currentTwab.timestamp, _time)))).toUint208(),\\n      timestamp: _time\\n    });\\n  }\\n\\n  function _calculateNextWithExpiry(\\n    ObservationLib.Observation[MAX_CARDINALITY] storage _twabs,\\n    AccountDetails memory _accountDetails,\\n    uint32 _ttl,\\n    uint32 _time\\n  ) private view returns (AccountDetails memory) {\\n    uint24 cardinality = _accountDetails.cardinality > 0 ? _accountDetails.cardinality : 1;\\n/*\\n    TTL: 100\\n    Example 1:\\n      next twab timestamp: 100\\n      existing twab timestamps:\\n      0: 10\\n      1: 90\\n      we should not eliminate 0 or else the history will be 10 seconds long\\n    Example 2:\\n      next twab timestamp: 105\\n      existing twab timestamps\\n      0: 1\\n      1: 5\\n      We can eliminate 0, because the history will be 100 seconds long\\n    Q: when do we eliminate the oldest twab?\\n    A: when current time - second oldest twab >= time to live\\n    */\\n\\n    ObservationLib.Observation memory secondOldestTwab;\\n    // if there are two or more records (cardinality is always one greater than # of records)\\n    if (cardinality > 2) {\\n      // get the second oldest twab\\n      (uint24 oldestTwabIndex,) = oldestTwab(_twabs, _accountDetails);\\n      uint24 secondOldestTwabIndex = uint24(RingBuffer.nextIndex(oldestTwabIndex, cardinality));\\n      secondOldestTwab = _twabs[secondOldestTwabIndex];\\n    }\\n\\n    uint24 nextCardinality = cardinality;\\n    if (secondOldestTwab.timestamp == 0 || _time.checkedSub(secondOldestTwab.timestamp, _time) < _ttl) {\\n      nextCardinality = cardinality < MAX_CARDINALITY ? cardinality + 1 : MAX_CARDINALITY;\\n    }\\n\\n    uint24 nextAvailableTwabIndex = uint24(RingBuffer.nextIndex(_accountDetails.nextTwabIndex, nextCardinality));\\n\\n    return AccountDetails({\\n      balance: _accountDetails.balance,\\n      nextTwabIndex: nextAvailableTwabIndex,\\n      cardinality: nextCardinality\\n    });\\n  }\\n\\n  /// @notice Sets a new TWAB Observation at the next available index and returns the new account details.\\n  /// @param _twabs The twabs array to insert into\\n  /// @param _accountDetails The current account details\\n  /// @param _ttl The time to live for twabs\\n  /// @param _time The current time\\n  /// @return accountDetails The new account details\\n  /// @return twab The newest twab (may or may not be brand-new)\\n  /// @return isNew Whether the newest twab was created by this call\\n  function _nextTwabWithExpiry(\\n    ObservationLib.Observation[MAX_CARDINALITY] storage _twabs,\\n    AccountDetails memory _accountDetails,\\n    uint32 _ttl,\\n    uint32 _time\\n  ) private returns (AccountDetails memory accountDetails, ObservationLib.Observation memory twab, bool isNew) {\\n    (, ObservationLib.Observation memory newestTwab) = newestTwab(_twabs, _accountDetails);\\n    require(_time >= newestTwab.timestamp, \\\"TwabLib/twab-time-monotonic\\\");\\n\\n    // if we're in the same block, return\\n    if (newestTwab.timestamp == _time) {\\n      return (_accountDetails, newestTwab, false);\\n    }\\n\\n    AccountDetails memory nextAccountDetails = _calculateNextWithExpiry(_twabs, _accountDetails, _ttl, _time);\\n\\n    ObservationLib.Observation memory newTwab = _nextTwab(\\n      newestTwab,\\n      _accountDetails.balance,\\n      _time\\n    );\\n\\n    _twabs[_accountDetails.nextTwabIndex] = newTwab;\\n\\n    return (nextAccountDetails, newTwab, true);\\n  }\\n}\",\"keccak256\":\"0x182a1145530f8c95f98a156d04a7e8a1a694969e334158c5994bf27773582f64\",\"license\":\"GPL-3.0import\"}},\"version\":1}",
  "bytecode": "0x60a06040523480156200001157600080fd5b5060405162001431380380620014318339810160408190526200003491620001f3565b82620000408162000101565b506200004c8162000151565b6001600160a01b038216620000b25760405162461bcd60e51b815260206004820152602160248201527f447261775072697a65732f746f6b656e2d6e6f742d7a65726f2d6164647265736044820152607360f81b60648201526084015b60405180910390fd5b6001600160601b0319606083901b166080526040516001600160a01b038316907fa07c91c183e42229e705a9795a1c06d76528b673788b849597364528c96eefb790600090a250505062000260565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b6001600160a01b038116620001a95760405162461bcd60e51b815260206004820152601860248201527f447261775072697a65732f63616c632d6e6f742d7a65726f00000000000000006044820152606401620000a9565b600280546001600160a01b0319166001600160a01b0383169081179091556040517fff37eafdc3779d387d79dcf458fdc36536d857426f03a53204694f8fbb0d8a6b90600090a250565b6000806000606084860312156200020957600080fd5b8351620002168162000247565b6020850151909350620002298162000247565b60408501519092506200023c8162000247565b809150509250925092565b6001600160a01b03811681146200025d57600080fd5b50565b60805160601c6111ac620002856000396000818160d00152610a6c01526111ac6000f3fe608060405234801561001057600080fd5b50600436106100c95760003560e01c8063715018a611610081578063bb7d4e2d1161005b578063bb7d4e2d14610198578063e30c3978146101ab578063f2fde38b146101bc57600080fd5b8063715018a61461015e5780638da5cb5b14610166578063b7f892d11461017757600080fd5b806344004cc1116100b257806344004cc11461011e578063454a8140146101415780634e71e0c81461015457600080fd5b806321df0da7146100ce5780632d680cfa1461010d575b600080fd5b7f00000000000000000000000000000000000000000000000000000000000000005b6040516001600160a01b0390911681526020015b60405180910390f35b6002546001600160a01b03166100f0565b61013161012c366004610f55565b6101cf565b6040519015158152602001610104565b6100f061014f366004610d68565b6103a3565b61015c61041f565b005b61015c6104ad565b6000546001600160a01b03166100f0565b61018a610185366004610e39565b610522565b604051908152602001610104565b61018a6101a6366004610d85565b610551565b6001546001600160a01b03166100f0565b61015c6101ca366004610d68565b610794565b6000336101e46000546001600160a01b031690565b6001600160a01b03161461023f5760405162461bcd60e51b815260206004820152601860248201527f4f776e61626c652f63616c6c65722d6e6f742d6f776e6572000000000000000060448201526064015b60405180910390fd5b6001600160a01b0383166102bb5760405162461bcd60e51b815260206004820152602560248201527f447261775072697a65732f726563697069656e742d6e6f742d7a65726f2d616460448201527f64726573730000000000000000000000000000000000000000000000000000006064820152608401610236565b6001600160a01b0384166103375760405162461bcd60e51b815260206004820152602160248201527f447261775072697a65732f45524332302d6e6f742d7a65726f2d61646472657360448201527f73000000000000000000000000000000000000000000000000000000000000006064820152608401610236565b61034b6001600160a01b03851684846108d0565b826001600160a01b0316846001600160a01b03167fbfed55bdcd242e3dd0f60ddd7d1e87c67f61c34cd9527b3e6455d841b10253628460405161039091815260200190565b60405180910390a35060015b9392505050565b6000336103b86000546001600160a01b031690565b6001600160a01b03161461040e5760405162461bcd60e51b815260206004820152601860248201527f4f776e61626c652f63616c6c65722d6e6f742d6f776e657200000000000000006044820152606401610236565b61041782610955565b50805b919050565b6001546001600160a01b031633146104795760405162461bcd60e51b815260206004820152601f60248201527f4f776e61626c652f63616c6c65722d6e6f742d70656e64696e674f776e6572006044820152606401610236565b60015461048e906001600160a01b0316610a02565b6001805473ffffffffffffffffffffffffffffffffffffffff19169055565b336104c06000546001600160a01b031690565b6001600160a01b0316146105165760405162461bcd60e51b815260206004820152601860248201527f4f776e61626c652f63616c6c65722d6e6f742d6f776e657200000000000000006044820152606401610236565b6105206000610a02565b565b6001600160a01b038216600090815260036020908152604080832063ffffffff8516845290915281205461039c565b6002546040517faaca392e000000000000000000000000000000000000000000000000000000008152600091829182916001600160a01b03169063aaca392e906105a7908b908b908b908b908b90600401610fcd565b60006040518083038186803b1580156105bf57600080fd5b505afa1580156105d3573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526105fb9190810190610e6e565b905060005b815181101561077e57600088888381811061061d5761061d611132565b90506020020160208101906106329190610f96565b9050600083838151811061064857610648611132565b6020908102919091018101516001600160a01b038d16600090815260038352604080822063ffffffff871683529093529182205490925090818311156106c157610692828461109c565b6001600160a01b038e16600090815260036020908152604080832063ffffffff89168452909152902084905590505b600081116107115760405162461bcd60e51b815260206004820152601660248201527f447261775072697a65732f7a65726f2d7061796f7574000000000000000000006044820152606401610236565b61071b8188611084565b96508363ffffffff168d6001600160a01b03167fda18d31fbb73ed04b84307ef1bc6602e02c855af9f65b53ed10ba43e8d35b7dd8360405161075f91815260200190565b60405180910390a3505050508080610776906110e3565b915050610600565b506107898883610a5f565b509695505050505050565b336107a76000546001600160a01b031690565b6001600160a01b0316146107fd5760405162461bcd60e51b815260206004820152601860248201527f4f776e61626c652f63616c6c65722d6e6f742d6f776e657200000000000000006044820152606401610236565b6001600160a01b0381166108795760405162461bcd60e51b815260206004820152602560248201527f4f776e61626c652f70656e64696e674f776e65722d6e6f742d7a65726f2d616460448201527f64726573730000000000000000000000000000000000000000000000000000006064820152608401610236565b6001805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b0383169081179091556040517f239a2ddded15777fa246aed5f7e1a9bc69a39d4eb4a397034d1d85766cca7d4c90600090a250565b604080516001600160a01b038416602482015260448082018490528251808303909101815260649091019091526020810180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff167fa9059cbb00000000000000000000000000000000000000000000000000000000179052610950908490610a97565b505050565b6001600160a01b0381166109ab5760405162461bcd60e51b815260206004820152601860248201527f447261775072697a65732f63616c632d6e6f742d7a65726f00000000000000006044820152606401610236565b6002805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b0383169081179091556040517fff37eafdc3779d387d79dcf458fdc36536d857426f03a53204694f8fbb0d8a6b90600090a250565b600080546001600160a01b0383811673ffffffffffffffffffffffffffffffffffffffff19831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b610a936001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001683836108d0565b5050565b6000610aec826040518060400160405280602081526020017f5361666545524332303a206c6f772d6c6576656c2063616c6c206661696c6564815250856001600160a01b0316610b7c9092919063ffffffff16565b8051909150156109505780806020019051810190610b0a9190610f33565b6109505760405162461bcd60e51b815260206004820152602a60248201527f5361666545524332303a204552433230206f7065726174696f6e20646964206e60448201527f6f742073756363656564000000000000000000000000000000000000000000006064820152608401610236565b6060610b8b8484600085610b93565b949350505050565b606082471015610c0b5760405162461bcd60e51b815260206004820152602660248201527f416464726573733a20696e73756666696369656e742062616c616e636520666f60448201527f722063616c6c00000000000000000000000000000000000000000000000000006064820152608401610236565b843b610c595760405162461bcd60e51b815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e74726163740000006044820152606401610236565b600080866001600160a01b03168587604051610c759190610fb1565b60006040518083038185875af1925050503d8060008114610cb2576040519150601f19603f3d011682016040523d82523d6000602084013e610cb7565b606091505b5091509150610cc7828286610cd2565b979650505050505050565b60608315610ce157508161039c565b825115610cf15782518084602001fd5b8160405162461bcd60e51b81526004016102369190611051565b60008083601f840112610d1d57600080fd5b50813567ffffffffffffffff811115610d3557600080fd5b602083019150836020828501011115610d4d57600080fd5b9250929050565b803563ffffffff8116811461041a57600080fd5b600060208284031215610d7a57600080fd5b813561039c8161115e565b600080600080600060608688031215610d9d57600080fd5b8535610da88161115e565b9450602086013567ffffffffffffffff80821115610dc557600080fd5b818801915088601f830112610dd957600080fd5b813581811115610de857600080fd5b8960208260051b8501011115610dfd57600080fd5b602083019650809550506040880135915080821115610e1b57600080fd5b50610e2888828901610d0b565b969995985093965092949392505050565b60008060408385031215610e4c57600080fd5b8235610e578161115e565b9150610e6560208401610d54565b90509250929050565b60006020808385031215610e8157600080fd5b825167ffffffffffffffff80821115610e9957600080fd5b818501915085601f830112610ead57600080fd5b815181811115610ebf57610ebf611148565b8060051b604051601f19603f83011681018181108582111715610ee457610ee4611148565b604052828152858101935084860182860187018a1015610f0357600080fd5b600095505b83861015610f26578051855260019590950194938601938601610f08565b5098975050505050505050565b600060208284031215610f4557600080fd5b8151801515811461039c57600080fd5b600080600060608486031215610f6a57600080fd5b8335610f758161115e565b92506020840135610f858161115e565b929592945050506040919091013590565b600060208284031215610fa857600080fd5b61039c82610d54565b60008251610fc38184602087016110b3565b9190910192915050565b6001600160a01b038616815260606020808301829052908201859052600090869060808401835b8881101561101d5763ffffffff61100a85610d54565b1682529282019290820190600101610ff4565b5084810360408601528581528587838301376000818701830152601f909501601f1916909401909301979650505050505050565b60208152600082518060208401526110708160408501602087016110b3565b601f01601f19169190910160400192915050565b600082198211156110975761109761111c565b500190565b6000828210156110ae576110ae61111c565b500390565b60005b838110156110ce5781810151838201526020016110b6565b838111156110dd576000848401525b50505050565b60007fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8214156111155761111561111c565b5060010190565b634e487b7160e01b600052601160045260246000fd5b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052604160045260246000fd5b6001600160a01b038116811461117357600080fd5b5056fea26469706673582212203ffb059aa41f9088e49afcbd6a9bb82e375cb768e29eb446cd5247f4debd96e464736f6c63430008060033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100c95760003560e01c8063715018a611610081578063bb7d4e2d1161005b578063bb7d4e2d14610198578063e30c3978146101ab578063f2fde38b146101bc57600080fd5b8063715018a61461015e5780638da5cb5b14610166578063b7f892d11461017757600080fd5b806344004cc1116100b257806344004cc11461011e578063454a8140146101415780634e71e0c81461015457600080fd5b806321df0da7146100ce5780632d680cfa1461010d575b600080fd5b7f00000000000000000000000000000000000000000000000000000000000000005b6040516001600160a01b0390911681526020015b60405180910390f35b6002546001600160a01b03166100f0565b61013161012c366004610f55565b6101cf565b6040519015158152602001610104565b6100f061014f366004610d68565b6103a3565b61015c61041f565b005b61015c6104ad565b6000546001600160a01b03166100f0565b61018a610185366004610e39565b610522565b604051908152602001610104565b61018a6101a6366004610d85565b610551565b6001546001600160a01b03166100f0565b61015c6101ca366004610d68565b610794565b6000336101e46000546001600160a01b031690565b6001600160a01b03161461023f5760405162461bcd60e51b815260206004820152601860248201527f4f776e61626c652f63616c6c65722d6e6f742d6f776e6572000000000000000060448201526064015b60405180910390fd5b6001600160a01b0383166102bb5760405162461bcd60e51b815260206004820152602560248201527f447261775072697a65732f726563697069656e742d6e6f742d7a65726f2d616460448201527f64726573730000000000000000000000000000000000000000000000000000006064820152608401610236565b6001600160a01b0384166103375760405162461bcd60e51b815260206004820152602160248201527f447261775072697a65732f45524332302d6e6f742d7a65726f2d61646472657360448201527f73000000000000000000000000000000000000000000000000000000000000006064820152608401610236565b61034b6001600160a01b03851684846108d0565b826001600160a01b0316846001600160a01b03167fbfed55bdcd242e3dd0f60ddd7d1e87c67f61c34cd9527b3e6455d841b10253628460405161039091815260200190565b60405180910390a35060015b9392505050565b6000336103b86000546001600160a01b031690565b6001600160a01b03161461040e5760405162461bcd60e51b815260206004820152601860248201527f4f776e61626c652f63616c6c65722d6e6f742d6f776e657200000000000000006044820152606401610236565b61041782610955565b50805b919050565b6001546001600160a01b031633146104795760405162461bcd60e51b815260206004820152601f60248201527f4f776e61626c652f63616c6c65722d6e6f742d70656e64696e674f776e6572006044820152606401610236565b60015461048e906001600160a01b0316610a02565b6001805473ffffffffffffffffffffffffffffffffffffffff19169055565b336104c06000546001600160a01b031690565b6001600160a01b0316146105165760405162461bcd60e51b815260206004820152601860248201527f4f776e61626c652f63616c6c65722d6e6f742d6f776e657200000000000000006044820152606401610236565b6105206000610a02565b565b6001600160a01b038216600090815260036020908152604080832063ffffffff8516845290915281205461039c565b6002546040517faaca392e000000000000000000000000000000000000000000000000000000008152600091829182916001600160a01b03169063aaca392e906105a7908b908b908b908b908b90600401610fcd565b60006040518083038186803b1580156105bf57600080fd5b505afa1580156105d3573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526105fb9190810190610e6e565b905060005b815181101561077e57600088888381811061061d5761061d611132565b90506020020160208101906106329190610f96565b9050600083838151811061064857610648611132565b6020908102919091018101516001600160a01b038d16600090815260038352604080822063ffffffff871683529093529182205490925090818311156106c157610692828461109c565b6001600160a01b038e16600090815260036020908152604080832063ffffffff89168452909152902084905590505b600081116107115760405162461bcd60e51b815260206004820152601660248201527f447261775072697a65732f7a65726f2d7061796f7574000000000000000000006044820152606401610236565b61071b8188611084565b96508363ffffffff168d6001600160a01b03167fda18d31fbb73ed04b84307ef1bc6602e02c855af9f65b53ed10ba43e8d35b7dd8360405161075f91815260200190565b60405180910390a3505050508080610776906110e3565b915050610600565b506107898883610a5f565b509695505050505050565b336107a76000546001600160a01b031690565b6001600160a01b0316146107fd5760405162461bcd60e51b815260206004820152601860248201527f4f776e61626c652f63616c6c65722d6e6f742d6f776e657200000000000000006044820152606401610236565b6001600160a01b0381166108795760405162461bcd60e51b815260206004820152602560248201527f4f776e61626c652f70656e64696e674f776e65722d6e6f742d7a65726f2d616460448201527f64726573730000000000000000000000000000000000000000000000000000006064820152608401610236565b6001805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b0383169081179091556040517f239a2ddded15777fa246aed5f7e1a9bc69a39d4eb4a397034d1d85766cca7d4c90600090a250565b604080516001600160a01b038416602482015260448082018490528251808303909101815260649091019091526020810180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff167fa9059cbb00000000000000000000000000000000000000000000000000000000179052610950908490610a97565b505050565b6001600160a01b0381166109ab5760405162461bcd60e51b815260206004820152601860248201527f447261775072697a65732f63616c632d6e6f742d7a65726f00000000000000006044820152606401610236565b6002805473ffffffffffffffffffffffffffffffffffffffff19166001600160a01b0383169081179091556040517fff37eafdc3779d387d79dcf458fdc36536d857426f03a53204694f8fbb0d8a6b90600090a250565b600080546001600160a01b0383811673ffffffffffffffffffffffffffffffffffffffff19831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b610a936001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001683836108d0565b5050565b6000610aec826040518060400160405280602081526020017f5361666545524332303a206c6f772d6c6576656c2063616c6c206661696c6564815250856001600160a01b0316610b7c9092919063ffffffff16565b8051909150156109505780806020019051810190610b0a9190610f33565b6109505760405162461bcd60e51b815260206004820152602a60248201527f5361666545524332303a204552433230206f7065726174696f6e20646964206e60448201527f6f742073756363656564000000000000000000000000000000000000000000006064820152608401610236565b6060610b8b8484600085610b93565b949350505050565b606082471015610c0b5760405162461bcd60e51b815260206004820152602660248201527f416464726573733a20696e73756666696369656e742062616c616e636520666f60448201527f722063616c6c00000000000000000000000000000000000000000000000000006064820152608401610236565b843b610c595760405162461bcd60e51b815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e74726163740000006044820152606401610236565b600080866001600160a01b03168587604051610c759190610fb1565b60006040518083038185875af1925050503d8060008114610cb2576040519150601f19603f3d011682016040523d82523d6000602084013e610cb7565b606091505b5091509150610cc7828286610cd2565b979650505050505050565b60608315610ce157508161039c565b825115610cf15782518084602001fd5b8160405162461bcd60e51b81526004016102369190611051565b60008083601f840112610d1d57600080fd5b50813567ffffffffffffffff811115610d3557600080fd5b602083019150836020828501011115610d4d57600080fd5b9250929050565b803563ffffffff8116811461041a57600080fd5b600060208284031215610d7a57600080fd5b813561039c8161115e565b600080600080600060608688031215610d9d57600080fd5b8535610da88161115e565b9450602086013567ffffffffffffffff80821115610dc557600080fd5b818801915088601f830112610dd957600080fd5b813581811115610de857600080fd5b8960208260051b8501011115610dfd57600080fd5b602083019650809550506040880135915080821115610e1b57600080fd5b50610e2888828901610d0b565b969995985093965092949392505050565b60008060408385031215610e4c57600080fd5b8235610e578161115e565b9150610e6560208401610d54565b90509250929050565b60006020808385031215610e8157600080fd5b825167ffffffffffffffff80821115610e9957600080fd5b818501915085601f830112610ead57600080fd5b815181811115610ebf57610ebf611148565b8060051b604051601f19603f83011681018181108582111715610ee457610ee4611148565b604052828152858101935084860182860187018a1015610f0357600080fd5b600095505b83861015610f26578051855260019590950194938601938601610f08565b5098975050505050505050565b600060208284031215610f4557600080fd5b8151801515811461039c57600080fd5b600080600060608486031215610f6a57600080fd5b8335610f758161115e565b92506020840135610f858161115e565b929592945050506040919091013590565b600060208284031215610fa857600080fd5b61039c82610d54565b60008251610fc38184602087016110b3565b9190910192915050565b6001600160a01b038616815260606020808301829052908201859052600090869060808401835b8881101561101d5763ffffffff61100a85610d54565b1682529282019290820190600101610ff4565b5084810360408601528581528587838301376000818701830152601f909501601f1916909401909301979650505050505050565b60208152600082518060208401526110708160408501602087016110b3565b601f01601f19169190910160400192915050565b600082198211156110975761109761111c565b500190565b6000828210156110ae576110ae61111c565b500390565b60005b838110156110ce5781810151838201526020016110b6565b838111156110dd576000848401525b50505050565b60007fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8214156111155761111561111c565b5060010190565b634e487b7160e01b600052601160045260246000fd5b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052604160045260246000fd5b6001600160a01b038116811461117357600080fd5b5056fea26469706673582212203ffb059aa41f9088e49afcbd6a9bb82e375cb768e29eb446cd5247f4debd96e464736f6c63430008060033",
  "devdoc": {
    "author": "PoolTogether Inc Team",
    "kind": "dev",
    "methods": {
      "claim(address,uint32[],bytes)": {
        "params": {
          "data": "The data to pass to the draw calculator",
          "drawIds": "Draw IDs from global DrawHistory reference",
          "user": "Address of user to claim awards for. Does NOT need to be msg.sender"
        },
        "returns": {
          "_0": "Actual claim payout.  If the user has previously claimed a draw, this may be less."
        }
      },
      "claimOwnership()": {
        "details": "This function is only callable by the `_pendingOwner`."
      },
      "constructor": {
        "params": {
          "_drawCalculator": "DrawCalculator address",
          "_owner": "Address of the DrawPrizes owner",
          "_token": "Token address"
        }
      },
      "getDrawCalculator()": {
        "returns": {
          "_0": "IDrawCalculator"
        }
      },
      "getDrawPayoutBalanceOf(address,uint32)": {
        "params": {
          "drawId": "Draw ID",
          "user": "User address"
        }
      },
      "getToken()": {
        "returns": {
          "_0": "IERC20"
        }
      },
      "pendingOwner()": {
        "returns": {
          "_0": "Current `_pendingOwner` address."
        }
      },
      "renounceOwnership()": {
        "details": "Leaves the contract without owner. It will not be possible to call `onlyOwner` functions anymore. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby removing any functionality that is only available to the owner."
      },
      "setDrawCalculator(address)": {
        "params": {
          "_newCalculator": "DrawCalculator address"
        },
        "returns": {
          "_0": "New DrawCalculator address"
        }
      },
      "transferOwnership(address)": {
        "params": {
          "_newOwner": "Address to transfer ownership to."
        }
      },
      "withdrawERC20(address,address,uint256)": {
        "details": "This function is only callable by the owner.",
        "params": {
          "_amount": "Amount of tokens to transfer.",
          "_erc20Token": "ERC20 token to transfer.",
          "_to": "Recipient of the tokens."
        },
        "returns": {
          "_0": "true if operation is successful."
        }
      }
    },
    "title": "PoolTogether V4 DrawPrizes",
    "version": 1
  },
  "userdoc": {
    "events": {
      "ClaimedDraw(address,uint32,uint256)": {
        "notice": "Emitted when a user has claimed N draw payouts."
      },
      "DrawCalculatorSet(address)": {
        "notice": "Emitted when a DrawCalculator is set"
      },
      "ERC20Withdrawn(address,address,uint256)": {
        "notice": "Emitted when ERC20 tokens are withdrawn from the claimable draw."
      },
      "TokenSet(address)": {
        "notice": "Emitted when a global Ticket variable is set."
      }
    },
    "kind": "user",
    "methods": {
      "claim(address,uint32[],bytes)": {
        "notice": "Claim a user token payouts via a collection of draw ids and pick indices."
      },
      "claimOwnership()": {
        "notice": "Allows the `_pendingOwner` address to finalize the transfer."
      },
      "constructor": {
        "notice": "Initialize DrawPrizes smart contract."
      },
      "getDrawCalculator()": {
        "notice": "Read DrawCalculator"
      },
      "getDrawPayoutBalanceOf(address,uint32)": {
        "notice": "Get the amount that a user has already been paid out for a draw"
      },
      "getToken()": {
        "notice": "Read global Ticket variable."
      },
      "owner()": {
        "notice": "Returns the address of the current owner."
      },
      "pendingOwner()": {
        "notice": "Gets current `_pendingOwner`."
      },
      "renounceOwnership()": {
        "notice": "Renounce ownership of the contract."
      },
      "setDrawCalculator(address)": {
        "notice": "Sets DrawCalculator reference for individual draw id."
      },
      "transferOwnership(address)": {
        "notice": "Allows current owner to set the `_pendingOwner` address."
      },
      "withdrawERC20(address,address,uint256)": {
        "notice": "Transfer ERC20 tokens out of this contract."
      }
    },
    "notice": "The DrawPrizes distributes claimable draw prizes to users via a pull model. Managing the regularly captured PrizePool interest, a DrawPrizes is the entrypoint for users to submit Draw.drawId(s) and winning pick indices. Communicating with a DrawCalculator, the DrawPrizes will determine the maximum prize payout and transfer those tokens directly to a user address. ",
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 3466,
        "contract": "@pooltogether/v4-core/contracts/DrawPrizes.sol:DrawPrizes",
        "label": "_owner",
        "offset": 0,
        "slot": "0",
        "type": "t_address"
      },
      {
        "astId": 3468,
        "contract": "@pooltogether/v4-core/contracts/DrawPrizes.sol:DrawPrizes",
        "label": "_pendingOwner",
        "offset": 0,
        "slot": "1",
        "type": "t_address"
      },
      {
        "astId": 6149,
        "contract": "@pooltogether/v4-core/contracts/DrawPrizes.sol:DrawPrizes",
        "label": "drawCalculator",
        "offset": 0,
        "slot": "2",
        "type": "t_contract(IDrawCalculator)8894"
      },
      {
        "astId": 6160,
        "contract": "@pooltogether/v4-core/contracts/DrawPrizes.sol:DrawPrizes",
        "label": "userDrawPayouts",
        "offset": 0,
        "slot": "3",
        "type": "t_mapping(t_address,t_mapping(t_uint256,t_uint256))"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_contract(IDrawCalculator)8894": {
        "encoding": "inplace",
        "label": "contract IDrawCalculator",
        "numberOfBytes": "20"
      },
      "t_mapping(t_address,t_mapping(t_uint256,t_uint256))": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => mapping(uint256 => uint256))",
        "numberOfBytes": "32",
        "value": "t_mapping(t_uint256,t_uint256)"
      },
      "t_mapping(t_uint256,t_uint256)": {
        "encoding": "mapping",
        "key": "t_uint256",
        "label": "mapping(uint256 => uint256)",
        "numberOfBytes": "32",
        "value": "t_uint256"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      }
    }
  }
}